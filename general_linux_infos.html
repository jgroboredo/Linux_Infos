<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="generator" content="pandoc">
    <meta name="description" content="">

    <title>general_linux_infos</title>

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <link href="https://maxcdn.bootstrapcdn.com/css/ie10-viewport-bug-workaround.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="https://mushiyo.github.io/pandoc-toc-sidebar/css/dashboard.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <style type="text/css">code{white-space: pre;}</style>
    <style type="text/css">.sidebar ul{padding-left: 10px;}</style>
    <style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
    </style>
  </head>

  <body>
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">Notes</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li><a href="#">doc1</a></li>
            <li><a href="#">doc2</a></li>
            <li><a href="#">doc3</a></li>
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Dropdown <span class="caret"></span></a>
              <ul class="dropdown-menu">
                <li><a href="#">Action</a></li>
                <li><a href="#">Another action</a></li>
                <li><a href="#">Something else here</a></li>
                <li role="separator" class="divider"></li>
                <li class="dropdown-header">Nav header</li>
                <li><a href="#">Separated link</a></li>
                <li><a href="#">One more separated link</a></li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <div class="container-fluid">
      <div class="row">
        <div id="sidebar" class="col-sm-3 col-md-2 sidebar">
          <!--<ul class="nav nav-sidebar">
            <li class="active"><a href="#">Overview <span class="sr-only">(current)</span></a></li>
          </ul>-->
          <ul>
          <li><a href="#table-of-contents" id="toc-table-of-contents">1.
          Table of contents</a>
          <ul>
          <li><a href="#introduction" id="toc-introduction">1.1.
          Introduction</a></li>
          </ul></li>
          <li><a href="#markdown-notes" id="toc-markdown-notes">2.
          Markdown Notes</a>
          <ul>
          <li><a href="#vscode-extensions"
          id="toc-vscode-extensions">2.1. VsCode extensions</a></li>
          </ul></li>
          <li><a href="#git-notes" id="toc-git-notes">3. Git notes</a>
          <ul>
          <li><a href="#notes-on-creating-a-git-repository-on-github"
          id="toc-notes-on-creating-a-git-repository-on-github">3.1.
          Notes on creating a git repository on github</a>
          <ul>
          <li><a href="#some-notes-on-the-above-commands"
          id="toc-some-notes-on-the-above-commands">3.1.1. Some notes on
          the above commands</a></li>
          </ul></li>
          <li><a href="#check-previous-commit"
          id="toc-check-previous-commit">3.2. Check previous
          commit</a></li>
          <li><a href="#git-stash-and-log"
          id="toc-git-stash-and-log">3.3. Git stash and log</a></li>
          <li><a href="#create-local-git-repository"
          id="toc-create-local-git-repository">3.4. Create local git
          repository</a></li>
          <li><a href="#change-the-author-name"
          id="toc-change-the-author-name">3.5. Change the author
          name</a></li>
          <li><a href="#remove-tracked-file-that-is-now-in-.gitignore"
          id="toc-remove-tracked-file-that-is-now-in-.gitignore">3.6.
          Remove tracked file that is now in .gitignore</a></li>
          <li><a href="#check-last-commit-changes"
          id="toc-check-last-commit-changes">3.7. Check last commit
          changes</a></li>
          <li><a href="#installing-git-in-live-iso-arch"
          id="toc-installing-git-in-live-iso-arch">3.8. Installing git
          in live ISO arch</a></li>
          <li><a href="#change-remote-url"
          id="toc-change-remote-url">3.9. Change remote URL</a></li>
          <li><a href="#add-remote-url" id="toc-add-remote-url">3.10.
          Add remote URL</a></li>
          <li><a href="#different-pushes"
          id="toc-different-pushes">3.11. Different Pushes</a></li>
          <li><a href="#use-curl-to-download-from-github"
          id="toc-use-curl-to-download-from-github">3.12. Use curl to
          download from github</a></li>
          <li><a href="#download-a-file-from-github"
          id="toc-download-a-file-from-github">3.12. Download a file
          from github</a></li>
          <li><a href="#merge-branches" id="toc-merge-branches">3.13.
          Merge branches</a></li>
          <li><a href="#check-merge-conflicts"
          id="toc-check-merge-conflicts">3.14. Check merge
          conflicts</a></li>
          <li><a
          href="#merge-mistake-you-committed-changes-to-local-master"
          id="toc-merge-mistake-you-committed-changes-to-local-master">3.15.
          Merge mistake (You committed changes to (local)
          master)</a></li>
          <li><a href="#git-merge-deleted-by-us"
          id="toc-git-merge-deleted-by-us">3.16. Git merge “Deleted by
          us”</a></li>
          <li><a href="#commit-id-and-sha"
          id="toc-commit-id-and-sha">3.17. Commit ID and SHA</a></li>
          <li><a href="#git-over-ssh-using-ssh-config"
          id="toc-git-over-ssh-using-ssh-config">3.18. Git over ssh
          using ssh config</a></li>
          <li><a href="#sparse-checkout" id="toc-sparse-checkout">3.19.
          Sparse Checkout</a></li>
          <li><a href="#git-submodules" id="toc-git-submodules">3.20.
          Git submodules</a>
          <ul>
          <li><a href="#add-submodule" id="toc-add-submodule">3.20.1.
          Add submodule</a></li>
          <li><a href="#clone-repo-with-submodule"
          id="toc-clone-repo-with-submodule">3.20.2. Clone repo with
          submodule</a></li>
          <li><a
          href="#pulling-in-upstream-changes-from-the-submodule-remote"
          id="toc-pulling-in-upstream-changes-from-the-submodule-remote">3.20.3.
          Pulling in Upstream Changes from the Submodule Remote</a></li>
          <li><a
          href="#pulling-upstream-changes-from-the-project-remote"
          id="toc-pulling-upstream-changes-from-the-project-remote">3.20.4.
          Pulling Upstream Changes from the Project Remote</a></li>
          <li><a
          href="#upstream-repository-changed-url-of-the-submodule"
          id="toc-upstream-repository-changed-url-of-the-submodule">3.20.5.
          Upstream repository changed url of the submodule</a></li>
          <li><a href="#switching-from-subdirectories-to-submodules"
          id="toc-switching-from-subdirectories-to-submodules">3.20.6.
          Switching from subdirectories to submodules</a></li>
          </ul></li>
          <li><a href="#migrate-part-of-git-repository"
          id="toc-migrate-part-of-git-repository">3.21. Migrate part of
          git repository</a></li>
          <li><a href="#git-reverse-patch"
          id="toc-git-reverse-patch">3.22. Git reverse patch</a></li>
          </ul></li>
          <li><a href="#bash-notes" id="toc-bash-notes">4. Bash
          Notes</a>
          <ul>
          <li><a href="#bash-note-1" id="toc-bash-note-1">4.1. Bash Note
          1</a></li>
          <li><a href="#bash-note-2" id="toc-bash-note-2">4.2. Bash Note
          2</a></li>
          <li><a href="#bash-note-3" id="toc-bash-note-3">4.3. Bash Note
          3</a></li>
          <li><a href="#bash-note-4---compare-files"
          id="toc-bash-note-4---compare-files">4.4. Bash Note 4 -
          Compare Files</a></li>
          <li><a href="#bash-note-5---use-of-curly-braces"
          id="toc-bash-note-5---use-of-curly-braces">4.5. Bash Note 5 -
          Use of curly braces</a></li>
          <li><a href="#bash-note-6---search-recursively-in-directory"
          id="toc-bash-note-6---search-recursively-in-directory">4.6.
          Bash Note 6 - Search recursively in directory</a></li>
          </ul></li>
          <li><a href="#lyx" id="toc-lyx">5. Lyx</a>
          <ul>
          <li><a href="#configure-lyx" id="toc-configure-lyx">5.1.
          Configure lyx</a></li>
          <li><a href="#kpathsea" id="toc-kpathsea">5.2.
          Kpathsea</a></li>
          <li><a href="#configure-minted" id="toc-configure-minted">5.3.
          Configure minted</a></li>
          <li><a href="#install-custom-cls"
          id="toc-install-custom-cls">5.4. Install custom cls</a></li>
          </ul></li>
          <li><a href="#qemu" id="toc-qemu">6. Qemu</a>
          <ul>
          <li><a href="#commands" id="toc-commands">6.1.
          Commands</a></li>
          <li><a href="#variables" id="toc-variables">6.2.
          Variables</a></li>
          </ul></li>
          <li><a href="#inkscape" id="toc-inkscape">7. Inkscape</a></li>
          <li><a href="#vscode" id="toc-vscode">8. VsCode</a></li>
          <li><a href="#zathura" id="toc-zathura">9. Zathura</a></li>
          <li><a href="#zsh" id="toc-zsh">10. Zsh</a></li>
          <li><a href="#jupyter" id="toc-jupyter">11. Jupyter</a>
          <ul>
          <li><a href="#jupyter-lab" id="toc-jupyter-lab">11.1.
          Jupyter-Lab</a></li>
          <li><a href="#opening-browser" id="toc-opening-browser">11.2.
          Opening browser</a></li>
          </ul></li>
          <li><a href="#tmux" id="toc-tmux">12. Tmux</a></li>
          <li><a href="#pacman" id="toc-pacman">13. Pacman</a>
          <ul>
          <li><a href="#pacman-cache" id="toc-pacman-cache">13.1. Pacman
          cache</a></li>
          <li><a href="#install-from-live-usb"
          id="toc-install-from-live-usb">13.2. Install from live
          usb</a></li>
          <li><a href="#pacman-infos" id="toc-pacman-infos">13.3. Pacman
          infos</a></li>
          <li><a href="#pacman-mirrors" id="toc-pacman-mirrors">13.4.
          pacman mirrors</a></li>
          </ul></li>
          <li><a href="#grub" id="toc-grub">14. Grub</a>
          <ul>
          <li><a href="#install-grub-manually-when-manjaro-fails"
          id="toc-install-grub-manually-when-manjaro-fails">14.1.
          Install grub manually when manjaro fails</a></li>
          </ul></li>
          <li><a href="#vim" id="toc-vim">15. Vim</a>
          <ul>
          <li><a href="#install-vim-in-cluster"
          id="toc-install-vim-in-cluster">15.1. Install Vim in
          cluster</a></li>
          <li><a href="#vim-snippets" id="toc-vim-snippets">15.2. Vim
          snippets</a></li>
          <li><a href="#manage-tabs" id="toc-manage-tabs">15.3. Manage
          Tabs</a></li>
          <li><a href="#vim-surroundings"
          id="toc-vim-surroundings">15.4. Vim surroundings</a></li>
          <li><a href="#some-commands" id="toc-some-commands">15.5. Some
          commands</a></li>
          </ul></li>
          <li><a href="#alacritty" id="toc-alacritty">16.
          Alacritty</a></li>
          <li><a href="#lighdm" id="toc-lighdm">17. Lighdm</a></li>
          <li><a href="#i3blocks" id="toc-i3blocks">18.
          i3Blocks</a></li>
          <li><a href="#pcmanfm" id="toc-pcmanfm">19. PcmanFM</a>
          <ul>
          <li><a href="#basic-configuration"
          id="toc-basic-configuration">19.1. Basic
          Configuration</a></li>
          </ul></li>
          <li><a href="#mpv" id="toc-mpv">20. MPV</a>
          <ul>
          <li><a href="#annoying-bar-at-the-top"
          id="toc-annoying-bar-at-the-top">20.1. Annoying bar at the
          top</a></li>
          <li><a href="#watch-stream" id="toc-watch-stream">20.2. Watch
          stream</a></li>
          </ul></li>
          <li><a href="#mime-types" id="toc-mime-types">21.
          Mime-Types</a>
          <ul>
          <li><a href="#alternative-to-xdg"
          id="toc-alternative-to-xdg">21.1. Alternative to xdg:</a></li>
          </ul></li>
          <li><a href="#color-scheme" id="toc-color-scheme">22.
          Color-Scheme</a></li>
          <li><a href="#libreoffice" id="toc-libreoffice">23.
          LibreOffice</a></li>
          <li><a href="#reflector" id="toc-reflector">24.
          Reflector</a></li>
          <li><a href="#acestream" id="toc-acestream">25.
          AceStream</a></li>
          <li><a href="#swig" id="toc-swig">26. Swig</a></li>
          <li><a href="#tty-login" id="toc-tty-login">27. TTY Login</a>
          <ul>
          <li><a href="#add-username" id="toc-add-username">27.1. Add
          Username</a></li>
          <li><a href="#change-startup-message"
          id="toc-change-startup-message">27.2. Change startup
          message</a></li>
          </ul></li>
          <li><a href="#hpc" id="toc-hpc">28. HPC</a>
          <ul>
          <li><a href="#modules" id="toc-modules">28.1. Modules</a></li>
          <li><a href="#some-commands-1" id="toc-some-commands-1">28.2.
          Some Commands</a></li>
          </ul></li>
          <li><a href="#network" id="toc-network">29. Network</a>
          <ul>
          <li><a href="#network-not-connecting-at-startup"
          id="toc-network-not-connecting-at-startup">29.1. Network not
          connecting at startup</a></li>
          <li><a href="#mac-address" id="toc-mac-address">29.2. MAC
          address</a></li>
          </ul></li>
          <li><a href="#dmenu_ext" id="toc-dmenu_ext">30. Dmenu_ext</a>
          <ul>
          <li><a href="#not-opening-paths"
          id="toc-not-opening-paths">30.1. Not opening paths</a></li>
          </ul></li>
          <li><a href="#nvidia" id="toc-nvidia">31. Nvidia</a>
          <ul>
          <li><a href="#nvidia-back-screen-on-tty"
          id="toc-nvidia-back-screen-on-tty">31.1. NVIDIA back screen on
          TTY</a></li>
          </ul></li>
          <li><a href="#cfp-nvidia" id="toc-cfp-nvidia">32. CFP
          Nvidia</a>
          <ul>
          <li><a href="#vpn-access" id="toc-vpn-access">32.1. VPN
          access</a></li>
          <li><a href="#first-steps-to-config-account"
          id="toc-first-steps-to-config-account">32.2. First steps to
          config account</a></li>
          </ul></li>
          <li><a href="#awk" id="toc-awk">33. Awk</a></li>
          <li><a href="#sublime-text" id="toc-sublime-text">34.
          Sublime-Text</a></li>
          <li><a href="#config-printer" id="toc-config-printer">35.
          Config-Printer</a>
          <ul>
          <li><a href="#cups" id="toc-cups">35.1. CUPS</a></li>
          <li><a href="#avahi" id="toc-avahi">35.2. AVAHI</a></li>
          <li><a href="#hp-scanner" id="toc-hp-scanner">35.3. HP
          SCANNER</a></li>
          </ul></li>
          <li><a href="#sway" id="toc-sway">36. Sway</a>
          <ul>
          <li><a href="#packages-to-check-for-base-arch-install"
          id="toc-packages-to-check-for-base-arch-install">36.1.
          Packages to check for base arch install</a></li>
          <li><a href="#services" id="toc-services">36.2.
          Services</a></li>
          <li><a href="#sway-install-from-yt"
          id="toc-sway-install-from-yt">36.3. Sway install from
          YT:</a></li>
          <li><a href="#sway-my-experience"
          id="toc-sway-my-experience">36.4. Sway my experience</a>
          <ul>
          <li><a href="#packages" id="toc-packages">36.4.1.
          Packages</a></li>
          <li><a href="#configuration" id="toc-configuration">36.4.2.
          Configuration</a></li>
          <li><a href="#fix-cannot-open-display"
          id="toc-fix-cannot-open-display">36.4.3. Fix cannot open
          display</a></li>
          <li><a href="#mathematica" id="toc-mathematica">36.4.4.
          Mathematica</a></li>
          <li><a href="#zoom" id="toc-zoom">36.4.5. Zoom</a></li>
          <li><a href="#albert" id="toc-albert">36.4.6. Albert</a></li>
          </ul></li>
          </ul></li>
          <li><a href="#rclone" id="toc-rclone">37. Rclone</a>
          <ul>
          <li><a href="#config" id="toc-config">37.1. Config</a></li>
          <li><a href="#rclone-union" id="toc-rclone-union">37.2. Rclone
          union</a></li>
          <li><a href="#problem" id="toc-problem">37.3. Problem</a></li>
          <li><a href="#sync" id="toc-sync">37.4. Sync</a></li>
          <li><a href="#onedrive" id="toc-onedrive">37.5.
          OneDrive</a></li>
          </ul></li>
          <li><a href="#pipewire" id="toc-pipewire">38.
          Pipewire</a></li>
          <li><a href="#fail2ban" id="toc-fail2ban">39. Fail2Ban</a>
          <ul>
          <li><a href="#configuration-1" id="toc-configuration-1">39.1.
          Configuration</a></li>
          </ul></li>
          <li><a href="#systemd-user" id="toc-systemd-user">40.
          Systemd-User</a></li>
          <li><a href="#systemd-resolved" id="toc-systemd-resolved">41.
          Systemd-Resolved</a>
          <ul>
          <li><a href="#activate-service"
          id="toc-activate-service">41.1. Activate Service:</a></li>
          <li><a href="#systemd-networkd"
          id="toc-systemd-networkd">41.2. systemd-networkd</a></li>
          </ul></li>
          <li><a href="#dual-boot" id="toc-dual-boot">42. Dual Boot</a>
          <ul>
          <li><a href="#windows-after-linux"
          id="toc-windows-after-linux">42.1. Windows After
          Linux</a></li>
          <li><a href="#fix-windows-bootloader-gone"
          id="toc-fix-windows-bootloader-gone">42.2. Fix Windows
          bootloader Gone</a></li>
          </ul></li>
          <li><a href="#rp-monitor" id="toc-rp-monitor">43. RP
          Monitor</a>
          <ul>
          <li><a href="#create-db-in-influxdb"
          id="toc-create-db-in-influxdb">43.1. Create db in
          influxdb</a></li>
          <li><a href="#config-grafana" id="toc-config-grafana">43.2.
          CONFIG GRAFANA</a></li>
          <li><a href="#notes" id="toc-notes">43.3. Notes</a></li>
          </ul></li>
          <li><a href="#docker" id="toc-docker">44. Docker</a>
          <ul>
          <li><a href="#jacket" id="toc-jacket">44.1. Jacket</a></li>
          <li><a href="#sonarr" id="toc-sonarr">44.2. Sonarr</a>
          <ul>
          <li><a href="#add-manually-downloaded-season"
          id="toc-add-manually-downloaded-season">44.2.1. Add manually
          downloaded season</a></li>
          <li><a href="#add-manually-downloaded-movie-radarr"
          id="toc-add-manually-downloaded-movie-radarr">44.2.2. Add
          manually downloaded movie (Radarr)</a></li>
          </ul></li>
          <li><a href="#system-service-to-run-docker"
          id="toc-system-service-to-run-docker">44.3. System service to
          run docker</a></li>
          <li><a href="#rclone-dlna" id="toc-rclone-dlna">44.4. Rclone
          DLNA</a></li>
          <li><a href="#transdrone" id="toc-transdrone">44.5.
          Transdrone</a></li>
          <li><a href="#jellyfin" id="toc-jellyfin">44.6.
          JellyFin</a></li>
          <li><a href="#qbittorrent" id="toc-qbittorrent">44.7.
          QBitTorrent</a></li>
          <li><a href="#bazarr" id="toc-bazarr">44.8. Bazarr</a></li>
          <li><a href="#organizrr" id="toc-organizrr">44.9.
          Organizrr</a></li>
          <li><a href="#nginx" id="toc-nginx">44.10. NginX</a></li>
          <li><a href="#some-important-concepts"
          id="toc-some-important-concepts">44.11. Some Important
          Concepts</a></li>
          <li><a href="#update-containers"
          id="toc-update-containers">44.12. Update Containers</a></li>
          <li><a href="#some-notes-based-on-experience"
          id="toc-some-notes-based-on-experience">44.13. Some notes
          based on experience</a></li>
          </ul></li>
          <li><a href="#vpn" id="toc-vpn">45. VPN</a>
          <ul>
          <li><a href="#configuration-2" id="toc-configuration-2">45.1.
          Configuration</a></li>
          <li><a href="#notes-1" id="toc-notes-1">45.2. Notes</a></li>
          <li><a href="#viseu" id="toc-viseu">45.3. Viseu</a></li>
          <li><a href="#check-ports" id="toc-check-ports">45.4. Check
          Ports</a></li>
          <li><a href="#fix-connection-problem"
          id="toc-fix-connection-problem">45.5. Fix connection
          problem</a></li>
          <li><a href="#connect-to-rebelo"
          id="toc-connect-to-rebelo">45.6. Connect to Rebelo</a></li>
          <li><a href="#allow-access-to-my-vpn-on-another-vpn"
          id="toc-allow-access-to-my-vpn-on-another-vpn">45.7. Allow
          access to my VPN on another VPN</a></li>
          <li><a href="#udp2raw" id="toc-udp2raw">45.8. UDP2RAW</a></li>
          <li><a href="#updated-vpn" id="toc-updated-vpn">45.9. Updated
          VPN</a></li>
          <li><a href="#fixing-routes" id="toc-fixing-routes">45.10.
          Fixing routes</a></li>
          <li><a href="#rebelos-jellyfin"
          id="toc-rebelos-jellyfin">45.11. Rebelo’s Jellyfin</a></li>
          </ul></li>
          <li><a href="#ddns" id="toc-ddns">46. DDNS</a></li>
          <li><a href="#encrypt-dir" id="toc-encrypt-dir">47. Encrypt
          dir</a>
          <ul>
          <li><a href="#disable-password-cache"
          id="toc-disable-password-cache">47.1. Disable password
          cache</a></li>
          </ul></li>
          <li><a href="#violent-monkey" id="toc-violent-monkey">48.
          Violent Monkey</a></li>
          <li><a href="#wireshark" id="toc-wireshark">49.
          Wireshark</a></li>
          <li><a href="#telegram" id="toc-telegram">50. Telegram</a>
          <ul>
          <li><a href="#botfather" id="toc-botfather">50.1.
          BotFather</a></li>
          <li><a href="#find-bot-chat-id"
          id="toc-find-bot-chat-id">50.2. Find bot chat ID</a></li>
          <li><a href="#add-sonarr-and-radarr-to-telegram"
          id="toc-add-sonarr-and-radarr-to-telegram">50.3. Add sonarr
          and radarr to telegram</a></li>
          </ul></li>
          <li><a href="#barrier" id="toc-barrier">51. Barrier</a></li>
          <li><a href="#teamviewer" id="toc-teamviewer">52.
          TeamViewer</a></li>
          <li><a href="#flatpak" id="toc-flatpak">53. Flatpak</a>
          <ul>
          <li><a href="#firefox" id="toc-firefox">53.1. Firefox</a></li>
          </ul></li>
          <li><a href="#vm" id="toc-vm">54. VM</a>
          <ul>
          <li><a href="#fix-resolution" id="toc-fix-resolution">54.1.
          Fix Resolution</a></li>
          <li><a href="#sdcard-on-vm" id="toc-sdcard-on-vm">54.2. SDcard
          on VM</a></li>
          </ul></li>
          <li><a href="#latex" id="toc-latex">55. Latex</a></li>
          <li><a href="#plex" id="toc-plex">56. Plex</a></li>
          <li><a href="#format-phone" id="toc-format-phone">57. Format
          phone</a>
          <ul>
          <li><a href="#formatting" id="toc-formatting">57.1.
          Formatting</a></li>
          <li><a href="#connecting-to-pc"
          id="toc-connecting-to-pc">57.2. Connecting to PC</a></li>
          <li><a href="#arch-linux-in-termux"
          id="toc-arch-linux-in-termux">57.3. ARCH LINUX IN
          TERMUX</a></li>
          <li><a href="#process-to-format"
          id="toc-process-to-format">57.4. Process to format</a></li>
          <li><a href="#apps-adb" id="toc-apps-adb">57.5. Apps
          ADB</a></li>
          </ul></li>
          <li><a href="#find-command" id="toc-find-command">58. Find
          Command</a>
          <ul>
          <li><a href="#error-with-mv-command"
          id="toc-error-with-mv-command">58.1. Error with mv
          command</a></li>
          </ul></li>
          <li><a href="#conky-desktop" id="toc-conky-desktop">59. Conky
          Desktop</a>
          <ul>
          <li><a href="#install-conky-manager"
          id="toc-install-conky-manager">59.1. Install
          conky-manager</a></li>
          </ul></li>
          <li><a href="#endeavouros-stuff"
          id="toc-endeavouros-stuff">60. EndeavourOS Stuff</a>
          <ul>
          <li><a href="#relativamente-ao-barrier"
          id="toc-relativamente-ao-barrier">60.1. Relativamente ao
          barrier</a></li>
          </ul></li>
          <li><a href="#map-keyboard-keys"
          id="toc-map-keyboard-keys">61. Map Keyboard Keys</a></li>
          <li><a href="#format-pen" id="toc-format-pen">62. Format
          Pen</a>
          <ul>
          <li><a href="#apagar-partições"
          id="toc-apagar-partições">62.1. Apagar partições</a></li>
          <li><a href="#criar-partição" id="toc-criar-partição">62.2.
          Criar Partição</a></li>
          <li><a href="#format-pen-with-iso"
          id="toc-format-pen-with-iso">62.3. Format pen with
          ISO</a></li>
          </ul></li>
          <li><a href="#borg-backup" id="toc-borg-backup">63. Borg
          Backup</a>
          <ul>
          <li><a href="#setup-steps" id="toc-setup-steps">63.1. Setup
          Steps</a></li>
          <li><a href="#mount-backup-automatically"
          id="toc-mount-backup-automatically">63.2. MOUNT BACKUP
          AUTOMATICALLY</a></li>
          </ul></li>
          <li><a href="#hdd-format" id="toc-hdd-format">64. HDD
          Format</a>
          <ul>
          <li><a href="#delete-partitions"
          id="toc-delete-partitions">64.1. Delete Partitions</a></li>
          <li><a href="#create-new-gpt-partition-table"
          id="toc-create-new-gpt-partition-table">64.2. Create New GPT
          partition table</a></li>
          <li><a href="#format-disk" id="toc-format-disk">64.3. Format
          Disk</a></li>
          <li><a href="#find-uuid-and-check-type"
          id="toc-find-uuid-and-check-type">64.4. Find UUID and check
          type</a></li>
          <li><a href="#fstab" id="toc-fstab">64.5. Fstab</a></li>
          </ul></li>
          <li><a href="#ubuntu" id="toc-ubuntu">65. Ubuntu</a>
          <ul>
          <li><a href="#fix-ethernet-unavailable"
          id="toc-fix-ethernet-unavailable">65.1. Fix ethernet
          unavailable</a></li>
          </ul></li>
          <li><a href="#problem-unknown-fs-type-vfat"
          id="toc-problem-unknown-fs-type-vfat">66. PROBLEM: Unknown fs
          type vfat</a>
          <ul>
          <li><a href="#some-notes" id="toc-some-notes">66.1. Some
          notes</a></li>
          </ul></li>
          <li><a href="#permissions" id="toc-permissions">67.
          Permissions</a>
          <ul>
          <li><a href="#fix-permissions" id="toc-fix-permissions">67.1.
          Fix permissions</a></li>
          </ul></li>
          <li><a href="#raspberry-pi" id="toc-raspberry-pi">68.
          Raspberry Pi</a></li>
          <li><a href="#plasma" id="toc-plasma">69. Plasma</a>
          <ul>
          <li><a href="#packages-1" id="toc-packages-1">69.1.
          Packages</a></li>
          <li><a href="#launch" id="toc-launch">69.2. Launch</a></li>
          <li><a href="#autostart" id="toc-autostart">69.3.
          Autostart</a></li>
          <li><a href="#xdg-autostart-directories"
          id="toc-xdg-autostart-directories">69.4. XDG Autostart
          directories</a></li>
          <li><a href="#autostart-manager"
          id="toc-autostart-manager">69.5. Autostart Manager</a></li>
          <li><a href="#disable-kdeconnect"
          id="toc-disable-kdeconnect">69.6. Disable kdeconnect</a></li>
          <li><a href="#shortcuts" id="toc-shortcuts">69.7.
          Shortcuts</a></li>
          <li><a href="#fixing-hanging-service-on-shutdown"
          id="toc-fixing-hanging-service-on-shutdown">69.8. Fixing
          hanging service on shutdown</a></li>
          <li><a href="#config-1" id="toc-config-1">69.9. Config</a>
          <ul>
          <li><a href="#startup-and-shutdown-background-services"
          id="toc-startup-and-shutdown-background-services">69.9.1.
          Startup and Shutdown → Background Services</a></li>
          <li><a href="#startup-and-shutdown-desktop-session"
          id="toc-startup-and-shutdown-desktop-session">69.9.2. Startup
          and Shutdown → Desktop Session</a></li>
          <li><a href="#power-management-energy-saving"
          id="toc-power-management-energy-saving">69.9.3. Power
          Management → Energy Saving</a></li>
          <li><a href="#display-and-monitor-night-color"
          id="toc-display-and-monitor-night-color">69.9.4. Display and
          Monitor → Night Color</a></li>
          <li><a href="#window-management-task-switcher"
          id="toc-window-management-task-switcher">69.9.5. Window
          Management → Task Switcher</a></li>
          <li><a href="#flameshot" id="toc-flameshot">69.9.6.
          FlameShot</a></li>
          <li><a href="#task-bar" id="toc-task-bar">69.9.7. Task
          Bar</a></li>
          </ul></li>
          </ul></li>
          <li><a href="#regex" id="toc-regex">70. Regex</a></li>
          <li><a href="#compare-files" id="toc-compare-files">71.
          Compare files</a></li>
          <li><a href="#fiddler" id="toc-fiddler">72. Fiddler</a></li>
          <li><a href="#termux" id="toc-termux">73. Termux</a>
          <ul>
          <li><a href="#setting-up-termux"
          id="toc-setting-up-termux">73.1. Setting up termux</a></li>
          <li><a href="#termux-brightness"
          id="toc-termux-brightness">73.2. Termux Brightness</a></li>
          <li><a href="#tv-url-opener" id="toc-tv-url-opener">73.3. TV
          url opener</a></li>
          </ul></li>
          <li><a href="#vpn-critical" id="toc-vpn-critical">74. VPN
          Critical</a></li>
          <li><a href="#secure-boot" id="toc-secure-boot">75. Secure
          Boot</a>
          <ul>
          <li><a href="#steps-for-secure-boot"
          id="toc-steps-for-secure-boot">75.1. Steps for secure
          boot</a></li>
          </ul></li>
          <li><a href="#helix" id="toc-helix">76. Helix</a>
          <ul>
          <li><a href="#some-commands-2" id="toc-some-commands-2">76.1.
          Some commands</a></li>
          </ul></li>
          <li><a href="#pihole" id="toc-pihole">77. Pihole</a>
          <ul>
          <li><a href="#configuration-3" id="toc-configuration-3">77.1.
          Configuration</a></li>
          </ul></li>
          <li><a href="#thunderbird" id="toc-thunderbird">78.
          Thunderbird</a>
          <ul>
          <li><a href="#critical-account"
          id="toc-critical-account">78.1. Critical Account</a>
          <ul>
          <li><a href="#configure" id="toc-configure">78.1.1.
          Configure</a></li>
          <li><a href="#calendar" id="toc-calendar">78.1.2.
          Calendar</a></li>
          </ul></li>
          </ul></li>
          <li><a href="#xdg-desktop-portal"
          id="toc-xdg-desktop-portal">79. XDG-DESKTOP-PORTAL</a></li>
          <li><a href="#parsec" id="toc-parsec">80. Parsec</a>
          <ul>
          <li><a href="#wake-on-lan" id="toc-wake-on-lan">80.1. Wake on
          lan</a></li>
          <li><a href="#wake-pc" id="toc-wake-pc">80.2. Wake PC</a></li>
          </ul></li>
          <li><a href="#calendar-1" id="toc-calendar-1">81. Calendar</a>
          <ul>
          <li><a href="#share-microsoft-calendar"
          id="toc-share-microsoft-calendar">81.1. Share Microsoft
          Calendar</a></li>
          <li><a href="#add-microsoft-calendar-to-google"
          id="toc-add-microsoft-calendar-to-google">81.2. Add microsoft
          calendar to google</a></li>
          <li><a href="#gcalcli" id="toc-gcalcli">81.3. gcalcli</a></li>
          </ul></li>
          <li><a href="#gnome-desktop" id="toc-gnome-desktop">82.
          Gnome-desktop</a>
          <ul>
          <li><a href="#desktop-icons" id="toc-desktop-icons">82.1.
          Desktop icons</a></li>
          </ul></li>
          <li><a href="#bcompare" id="toc-bcompare">83. BCompare</a>
          <ul>
          <li><a href="#crack-for-4.x" id="toc-crack-for-4.x">83.1.
          Crack for <code>4.x</code></a></li>
          </ul></li>
          <li><a href="#frida-httptoolkit"
          id="toc-frida-httptoolkit">84. Frida / HttpToolkit</a>
          <ul>
          <li><a
          href="#notes-about-curl-after-intercepting-the-http-requests"
          id="toc-notes-about-curl-after-intercepting-the-http-requests">84.1.
          Notes about <code>curl</code> after intercepting the http
          requests</a></li>
          </ul></li>
          <li><a href="#misc" id="toc-misc">85. Misc</a></li>
          </ul>
        </div>
        <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
        
<h1 id="table-of-contents">1. Table of contents</h1>
<ul>
<li><a href="#1-table-of-contents">1. Table of contents</a>
<ul>
<li><a href="#11-introduction">1.1. Introduction</a></li>
</ul></li>
<li><a href="#2-markdown-notes">2. Markdown Notes</a>
<ul>
<li><a href="#21-vscode-extensions">2.1. VsCode extensions</a></li>
</ul></li>
<li><a href="#3-git-notes">3. Git notes</a>
<ul>
<li><a href="#31-notes-on-creating-a-git-repository-on-github">3.1.
Notes on creating a git repository on github</a>
<ul>
<li><a href="#311-some-notes-on-the-above-commands">3.1.1. Some notes on
the above commands</a></li>
</ul></li>
<li><a href="#32-check-previous-commit">3.2. Check previous
commit</a></li>
<li><a href="#33-git-stash-and-log">3.3. Git stash and log</a></li>
<li><a href="#34-create-local-git-repository">3.4. Create local git
repository</a></li>
<li><a href="#35-change-the-author-name">3.5. Change the author
name</a></li>
<li><a href="#36-remove-tracked-file-that-is-now-in-gitignore">3.6.
Remove tracked file that is now in .gitignore</a></li>
<li><a href="#37-check-last-commit-changes">3.7. Check last commit
changes</a></li>
<li><a href="#38-installing-git-in-live-iso-arch">3.8. Installing git in
live ISO arch</a></li>
<li><a href="#39-change-remote-url">3.9. Change remote URL</a></li>
<li><a href="#310-add-remote-url">3.10. Add remote URL</a></li>
<li><a href="#311-different-pushes">3.11. Different Pushes</a></li>
<li><a href="#312-download-a-file-from-github">3.12. Download a file
from github</a></li>
<li><a href="#313-merge-branches">3.13. Merge branches</a></li>
<li><a href="#314-check-merge-conflicts">3.14. Check merge
conflicts</a></li>
<li><a
href="#315-merge-mistake-you-committed-changes-to-local-master">3.15.
Merge mistake (You committed changes to (local) master)</a></li>
<li><a href="#316-git-merge-deleted-by-us">3.16. Git merge “Deleted by
us”</a></li>
<li><a href="#317-commit-id-and-sha">3.17. Commit ID and SHA</a></li>
<li><a href="#318-git-over-ssh-using-ssh-config">3.18. Git over ssh
using ssh config</a></li>
<li><a href="#319-sparse-checkout">3.19. Sparse Checkout</a></li>
<li><a href="#320-git-submodules">3.20. Git submodules</a>
<ul>
<li><a href="#3201-add-submodule">3.20.1. Add submodule</a></li>
<li><a href="#3202-clone-repo-with-submodule">3.20.2. Clone repo with
submodule</a></li>
<li><a
href="#3203-pulling-in-upstream-changes-from-the-submodule-remote">3.20.3.
Pulling in Upstream Changes from the Submodule Remote</a></li>
<li><a
href="#3204-pulling-upstream-changes-from-the-project-remote">3.20.4.
Pulling Upstream Changes from the Project Remote</a></li>
<li><a
href="#3205-upstream-repository-changed-url-of-the-submodule">3.20.5.
Upstream repository changed url of the submodule</a></li>
<li><a href="#3206-switching-from-subdirectories-to-submodules">3.20.6.
Switching from subdirectories to submodules</a></li>
</ul></li>
<li><a href="#321-migrate-part-of-git-repository">3.21. Migrate part of
git repository</a></li>
<li><a href="#322-git-reverse-patch">3.22. Git reverse patch</a></li>
</ul></li>
<li><a href="#4-bash-notes">4. Bash Notes</a>
<ul>
<li><a href="#41-bash-note-1">4.1. Bash Note 1</a></li>
<li><a href="#42-bash-note-2">4.2. Bash Note 2</a></li>
<li><a href="#43-bash-note-3">4.3. Bash Note 3</a></li>
<li><a href="#44-bash-note-4---compare-files">4.4. Bash Note 4 - Compare
Files</a></li>
<li><a href="#45-bash-note-5---use-of-curly-braces">4.5. Bash Note 5 -
Use of curly braces</a></li>
<li><a href="#46-bash-note-6---search-recursively-in-directory">4.6.
Bash Note 6 - Search recursively in directory</a></li>
</ul></li>
<li><a href="#5-lyx">5. Lyx</a>
<ul>
<li><a href="#51-configure-lyx">5.1. Configure lyx</a></li>
<li><a href="#52-kpathsea">5.2. Kpathsea</a></li>
<li><a href="#53-configure-minted">5.3. Configure minted</a></li>
<li><a href="#54-install-custom-cls">5.4. Install custom cls</a></li>
</ul></li>
<li><a href="#6-qemu">6. Qemu</a>
<ul>
<li><a href="#61-commands">6.1. Commands</a></li>
<li><a href="#62-variables">6.2. Variables</a></li>
</ul></li>
<li><a href="#7-inkscape">7. Inkscape</a></li>
<li><a href="#8-vscode">8. VsCode</a></li>
<li><a href="#9-zathura">9. Zathura</a></li>
<li><a href="#10-zsh">10. Zsh</a></li>
<li><a href="#11-jupyter">11. Jupyter</a>
<ul>
<li><a href="#111-jupyter-lab">11.1. Jupyter-Lab</a></li>
<li><a href="#112-opening-browser">11.2. Opening browser</a></li>
</ul></li>
<li><a href="#12-tmux">12. Tmux</a></li>
<li><a href="#13-pacman">13. Pacman</a>
<ul>
<li><a href="#131-pacman-cache">13.1. Pacman cache</a></li>
<li><a href="#132-install-from-live-usb">13.2. Install from live
usb</a></li>
<li><a href="#133-pacman-infos">13.3. Pacman infos</a></li>
<li><a href="#134-pacman-mirrors">13.4. pacman mirrors</a></li>
</ul></li>
<li><a href="#14-grub">14. Grub</a>
<ul>
<li><a href="#141-install-grub-manually-when-manjaro-fails">14.1.
Install grub manually when manjaro fails</a></li>
</ul></li>
<li><a href="#15-vim">15. Vim</a>
<ul>
<li><a href="#151-install-vim-in-cluster">15.1. Install Vim in
cluster</a></li>
<li><a href="#152-vim-snippets">15.2. Vim snippets</a></li>
<li><a href="#153-manage-tabs">15.3. Manage Tabs</a></li>
<li><a href="#154-vim-surroundings">15.4. Vim surroundings</a></li>
<li><a href="#155-some-commands">15.5. Some commands</a></li>
</ul></li>
<li><a href="#16-alacritty">16. Alacritty</a></li>
<li><a href="#17-lighdm">17. Lighdm</a></li>
<li><a href="#18-i3blocks">18. i3Blocks</a></li>
<li><a href="#19-pcmanfm">19. PcmanFM</a>
<ul>
<li><a href="#191-basic-configuration">19.1. Basic
Configuration</a></li>
</ul></li>
<li><a href="#20-mpv">20. MPV</a>
<ul>
<li><a href="#201-annoying-bar-at-the-top">20.1. Annoying bar at the
top</a></li>
<li><a href="#202-watch-stream">20.2. Watch stream</a></li>
</ul></li>
<li><a href="#21-mime-types">21. Mime-Types</a>
<ul>
<li><a href="#211-alternative-to-xdg">21.1. Alternative to xdg:</a></li>
</ul></li>
<li><a href="#22-color-scheme">22. Color-Scheme</a></li>
<li><a href="#23-libreoffice">23. LibreOffice</a></li>
<li><a href="#24-reflector">24. Reflector</a></li>
<li><a href="#25-acestream">25. AceStream</a></li>
<li><a href="#26-swig">26. Swig</a></li>
<li><a href="#27-tty-login">27. TTY Login</a>
<ul>
<li><a href="#271-add-username">27.1. Add Username</a></li>
<li><a href="#272-change-startup-message">27.2. Change startup
message</a></li>
</ul></li>
<li><a href="#28-hpc">28. HPC</a>
<ul>
<li><a href="#281-modules">28.1. Modules</a></li>
<li><a href="#282-some-commands">28.2. Some Commands</a></li>
</ul></li>
<li><a href="#29-network">29. Network</a>
<ul>
<li><a href="#291-network-not-connecting-at-startup">29.1. Network not
connecting at startup</a></li>
<li><a href="#292-mac-address">29.2. MAC address</a></li>
</ul></li>
<li><a href="#30-dmenu_ext">30. Dmenu_ext</a>
<ul>
<li><a href="#301-not-opening-paths">30.1. Not opening paths</a></li>
</ul></li>
<li><a href="#31-nvidia">31. Nvidia</a>
<ul>
<li><a href="#311-nvidia-back-screen-on-tty">31.1. NVIDIA back screen on
TTY</a></li>
</ul></li>
<li><a href="#32-cfp-nvidia">32. CFP Nvidia</a>
<ul>
<li><a href="#321-vpn-access">32.1. VPN access</a></li>
<li><a href="#322-first-steps-to-config-account">32.2. First steps to
config account</a></li>
</ul></li>
<li><a href="#33-awk">33. Awk</a></li>
<li><a href="#34-sublime-text">34. Sublime-Text</a></li>
<li><a href="#35-config-printer">35. Config-Printer</a>
<ul>
<li><a href="#351-cups">35.1. CUPS</a></li>
<li><a href="#352-avahi">35.2. AVAHI</a></li>
<li><a href="#353-hp-scanner">35.3. HP SCANNER</a></li>
</ul></li>
<li><a href="#36-sway">36. Sway</a>
<ul>
<li><a href="#361-packages-to-check-for-base-arch-install">36.1.
Packages to check for base arch install</a></li>
<li><a href="#362-services">36.2. Services</a></li>
<li><a href="#363-sway-install-from-yt">36.3. Sway install from
YT:</a></li>
<li><a href="#364-sway-my-experience">36.4. Sway my experience</a>
<ul>
<li><a href="#3641-packages">36.4.1. Packages</a></li>
<li><a href="#3642-configuration">36.4.2. Configuration</a></li>
<li><a href="#3643-fix-cannot-open-display">36.4.3. Fix cannot open
display</a></li>
<li><a href="#3644-mathematica">36.4.4. Mathematica</a></li>
<li><a href="#3645-zoom">36.4.5. Zoom</a></li>
<li><a href="#3646-albert">36.4.6. Albert</a></li>
</ul></li>
</ul></li>
<li><a href="#37-rclone">37. Rclone</a>
<ul>
<li><a href="#371-config">37.1. Config</a></li>
<li><a href="#372-rclone-union">37.2. Rclone union</a></li>
<li><a href="#373-problem">37.3. Problem</a></li>
<li><a href="#374-sync">37.4. Sync</a></li>
<li><a href="#375-onedrive">37.5. OneDrive</a></li>
</ul></li>
<li><a href="#38-pipewire">38. Pipewire</a></li>
<li><a href="#39-fail2ban">39. Fail2Ban</a>
<ul>
<li><a href="#391-configuration">39.1. Configuration</a></li>
</ul></li>
<li><a href="#40-systemd-user">40. Systemd-User</a></li>
<li><a href="#41-systemd-resolved">41. Systemd-Resolved</a>
<ul>
<li><a href="#411-activate-service">41.1. Activate Service:</a></li>
<li><a href="#412-systemd-networkd">41.2. systemd-networkd</a></li>
</ul></li>
<li><a href="#42-dual-boot">42. Dual Boot</a>
<ul>
<li><a href="#421-windows-after-linux">42.1. Windows After
Linux</a></li>
<li><a href="#422-fix-windows-bootloader-gone">42.2. Fix Windows
bootloader Gone</a></li>
</ul></li>
<li><a href="#43-rp-monitor">43. RP Monitor</a>
<ul>
<li><a href="#431-create-db-in-influxdb">43.1. Create db in
influxdb</a></li>
<li><a href="#432-config-grafana">43.2. CONFIG GRAFANA</a></li>
<li><a href="#433-notes">43.3. Notes</a></li>
</ul></li>
<li><a href="#44-docker">44. Docker</a>
<ul>
<li><a href="#441-jacket">44.1. Jacket</a></li>
<li><a href="#442-sonarr">44.2. Sonarr</a>
<ul>
<li><a href="#4421-add-manually-downloaded-season">44.2.1. Add manually
downloaded season</a></li>
<li><a href="#4422-add-manually-downloaded-movie-radarr">44.2.2. Add
manually downloaded movie (Radarr)</a></li>
</ul></li>
<li><a href="#443-system-service-to-run-docker">44.3. System service to
run docker</a></li>
<li><a href="#444-rclone-dlna">44.4. Rclone DLNA</a></li>
<li><a href="#445-transdrone">44.5. Transdrone</a></li>
<li><a href="#446-jellyfin">44.6. JellyFin</a></li>
<li><a href="#447-qbittorrent">44.7. QBitTorrent</a></li>
<li><a href="#448-bazarr">44.8. Bazarr</a></li>
<li><a href="#449-organizrr">44.9. Organizrr</a></li>
<li><a href="#4410-nginx">44.10. NginX</a></li>
<li><a href="#4411-some-important-concepts">44.11. Some Important
Concepts</a></li>
<li><a href="#4412-update-containers">44.12. Update Containers</a></li>
<li><a href="#4413-some-notes-based-on-experience">44.13. Some notes
based on experience</a></li>
</ul></li>
<li><a href="#45-vpn">45. VPN</a>
<ul>
<li><a href="#451-configuration">45.1. Configuration</a></li>
<li><a href="#452-notes">45.2. Notes</a></li>
<li><a href="#453-viseu">45.3. Viseu</a></li>
<li><a href="#454-check-ports">45.4. Check Ports</a></li>
<li><a href="#455-fix-connection-problem">45.5. Fix connection
problem</a></li>
<li><a href="#456-connect-to-rebelo">45.6. Connect to Rebelo</a></li>
<li><a href="#457-allow-access-to-my-vpn-on-another-vpn">45.7. Allow
access to my VPN on another VPN</a></li>
<li><a href="#458-udp2raw">45.8. UDP2RAW</a></li>
<li><a href="#459-updated-vpn">45.9. Updated VPN</a></li>
<li><a href="#4510-fixing-routes">45.10. Fixing routes</a></li>
<li><a href="#4511-rebelos-jellyfin">45.11. Rebelo’s Jellyfin</a></li>
</ul></li>
<li><a href="#46-ddns">46. DDNS</a></li>
<li><a href="#47-encrypt-dir">47. Encrypt dir</a>
<ul>
<li><a href="#471-disable-password-cache">47.1. Disable password
cache</a></li>
</ul></li>
<li><a href="#48-violent-monkey">48. Violent Monkey</a></li>
<li><a href="#49-wireshark">49. Wireshark</a></li>
<li><a href="#50-telegram">50. Telegram</a>
<ul>
<li><a href="#501-botfather">50.1. BotFather</a></li>
<li><a href="#502-find-bot-chat-id">50.2. Find bot chat ID</a></li>
<li><a href="#503-add-sonarr-and-radarr-to-telegram">50.3. Add sonarr
and radarr to telegram</a></li>
</ul></li>
<li><a href="#51-barrier">51. Barrier</a></li>
<li><a href="#52-teamviewer">52. TeamViewer</a></li>
<li><a href="#53-flatpak">53. Flatpak</a>
<ul>
<li><a href="#531-firefox">53.1. Firefox</a></li>
</ul></li>
<li><a href="#54-vm">54. VM</a>
<ul>
<li><a href="#541-fix-resolution">54.1. Fix Resolution</a></li>
<li><a href="#542-sdcard-on-vm">54.2. SDcard on VM</a></li>
</ul></li>
<li><a href="#55-latex">55. Latex</a></li>
<li><a href="#56-plex">56. Plex</a></li>
<li><a href="#57-format-phone">57. Format phone</a>
<ul>
<li><a href="#571-formatting">57.1. Formatting</a></li>
<li><a href="#572-connecting-to-pc">57.2. Connecting to PC</a></li>
<li><a href="#573-arch-linux-in-termux">57.3. ARCH LINUX IN
TERMUX</a></li>
<li><a href="#574-process-to-format">57.4. Process to format</a></li>
<li><a href="#575-apps-adb">57.5. Apps ADB</a></li>
</ul></li>
<li><a href="#58-find-command">58. Find Command</a>
<ul>
<li><a href="#581-error-with-mv-command">58.1. Error with mv
command</a></li>
</ul></li>
<li><a href="#59-conky-desktop">59. Conky Desktop</a>
<ul>
<li><a href="#591-install-conky-manager">59.1. Install
conky-manager</a></li>
</ul></li>
<li><a href="#60-endeavouros-stuff">60. EndeavourOS Stuff</a>
<ul>
<li><a href="#601-relativamente-ao-barrier">60.1. Relativamente ao
barrier</a></li>
</ul></li>
<li><a href="#61-map-keyboard-keys">61. Map Keyboard Keys</a></li>
<li><a href="#62-format-pen">62. Format Pen</a>
<ul>
<li><a href="#621-apagar-partições">62.1. Apagar partições</a></li>
<li><a href="#622-criar-partição">62.2. Criar Partição</a></li>
<li><a href="#623-format-pen-with-iso">62.3. Format pen with
ISO</a></li>
</ul></li>
<li><a href="#63-borg-backup">63. Borg Backup</a>
<ul>
<li><a href="#631-setup-steps">63.1. Setup Steps</a></li>
<li><a href="#632-mount-backup-automatically">63.2. MOUNT BACKUP
AUTOMATICALLY</a></li>
</ul></li>
<li><a href="#64-hdd-format">64. HDD Format</a>
<ul>
<li><a href="#641-delete-partitions">64.1. Delete Partitions</a></li>
<li><a href="#642-create-new-gpt-partition-table">64.2. Create New GPT
partition table</a></li>
<li><a href="#643-format-disk">64.3. Format Disk</a></li>
<li><a href="#644-find-uuid-and-check-type">64.4. Find UUID and check
type</a></li>
<li><a href="#645-fstab">64.5. Fstab</a></li>
</ul></li>
<li><a href="#65-ubuntu">65. Ubuntu</a>
<ul>
<li><a href="#651-fix-ethernet-unavailable">65.1. Fix ethernet
unavailable</a></li>
</ul></li>
<li><a href="#66-problem-unknown-fs-type-vfat">66. PROBLEM: Unknown fs
type vfat</a>
<ul>
<li><a href="#661-some-notes">66.1. Some notes</a></li>
</ul></li>
<li><a href="#67-permissions">67. Permissions</a>
<ul>
<li><a href="#671-fix-permissions">67.1. Fix permissions</a></li>
</ul></li>
<li><a href="#68-raspberry-pi">68. Raspberry Pi</a></li>
<li><a href="#69-plasma">69. Plasma</a>
<ul>
<li><a href="#691-packages">69.1. Packages</a></li>
<li><a href="#692-launch">69.2. Launch</a></li>
<li><a href="#693-autostart">69.3. Autostart</a></li>
<li><a href="#694-xdg-autostart-directories">69.4. XDG Autostart
directories</a></li>
<li><a href="#695-autostart-manager">69.5. Autostart Manager</a></li>
<li><a href="#696-disable-kdeconnect">69.6. Disable kdeconnect</a></li>
<li><a href="#697-shortcuts">69.7. Shortcuts</a></li>
<li><a href="#698-fixing-hanging-service-on-shutdown">69.8. Fixing
hanging service on shutdown</a></li>
<li><a href="#699-config">69.9. Config</a>
<ul>
<li><a href="#6991-startup-and-shutdown--background-services">69.9.1.
Startup and Shutdown → Background Services</a></li>
<li><a href="#6992-startup-and-shutdown--desktop-session">69.9.2.
Startup and Shutdown → Desktop Session</a></li>
<li><a href="#6993-power-management--energy-saving">69.9.3. Power
Management → Energy Saving</a></li>
<li><a href="#6994-display-and-monitor--night-color">69.9.4. Display and
Monitor → Night Color</a></li>
<li><a href="#6995-window-management--task-switcher">69.9.5. Window
Management → Task Switcher</a></li>
<li><a href="#6996-flameshot">69.9.6. FlameShot</a></li>
<li><a href="#6997-task-bar">69.9.7. Task Bar</a></li>
</ul></li>
</ul></li>
<li><a href="#70-regex">70. Regex</a></li>
<li><a href="#71-compare-files">71. Compare files</a></li>
<li><a href="#72-fiddler">72. Fiddler</a></li>
<li><a href="#73-termux">73. Termux</a>
<ul>
<li><a href="#731-setting-up-termux">73.1. Setting up termux</a></li>
<li><a href="#732-termux-brightness">73.2. Termux Brightness</a></li>
<li><a href="#733-tv-url-opener">73.3. TV url opener</a></li>
</ul></li>
<li><a href="#74-vpn-critical">74. VPN Critical</a></li>
<li><a href="#75-secure-boot">75. Secure Boot</a>
<ul>
<li><a href="#751-steps-for-secure-boot">75.1. Steps for secure
boot</a></li>
</ul></li>
<li><a href="#76-helix">76. Helix</a>
<ul>
<li><a href="#761-some-commands">76.1. Some commands</a></li>
</ul></li>
<li><a href="#77-pihole">77. Pihole</a>
<ul>
<li><a href="#771-configuration">77.1. Configuration</a></li>
</ul></li>
<li><a href="#78-thunderbird">78. Thunderbird</a>
<ul>
<li><a href="#781-critical-account">78.1. Critical Account</a>
<ul>
<li><a href="#7811-configure">78.1.1. Configure</a></li>
<li><a href="#7812-calendar">78.1.2. Calendar</a></li>
</ul></li>
</ul></li>
<li><a href="#79-xdg-desktop-portal">79. XDG-DESKTOP-PORTAL</a></li>
<li><a href="#80-parsec">80. Parsec</a>
<ul>
<li><a href="#801-wake-on-lan">80.1. Wake on lan</a></li>
<li><a href="#802-wake-pc">80.2. Wake PC</a></li>
</ul></li>
<li><a href="#81-calendar">81. Calendar</a>
<ul>
<li><a href="#811-share-microsoft-calendar">81.1. Share Microsoft
Calendar</a></li>
<li><a href="#812-add-microsoft-calendar-to-google">81.2. Add microsoft
calendar to google</a></li>
<li><a href="#813-gcalcli">81.3. gcalcli</a></li>
</ul></li>
<li><a href="#82-gnome-desktop">82. Gnome-desktop</a>
<ul>
<li><a href="#821-desktop-icons">82.1. Desktop icons</a></li>
</ul></li>
<li><a href="#83-bcompare">83. BCompare</a>
<ul>
<li><a href="#831-crack-for-4x">83.1. Crack for
<code>4.x</code></a></li>
</ul></li>
<li><a href="#84-frida--httptoolkit">84. Frida / HttpToolkit</a>
<ul>
<li><a
href="#841-notes-about-curl-after-intercepting-the-http-requests">84.1.
Notes about <code>curl</code> after intercepting the http
requests</a></li>
</ul></li>
<li><a href="#85-misc">85. Misc</a></li>
</ul>
<h2 id="introduction">1.1. Introduction</h2>
<p>In this document I include some notes about general stuff I learn and
do during my work/free time.</p>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="markdown-notes">2. Markdown Notes</h1>
<h2 id="vscode-extensions">2.1. VsCode extensions</h2>
<ul>
<li>Markdown all in One
<ul>
<li><code>Ctrl + Shift + P: Markdown All in One: section numbers, create table of contents, etc</code></li>
</ul></li>
<li>Markdown lint</li>
<li>vscode-pandoc
<ul>
<li>Ctrl + Shift + P -&gt; Pandoc Render</li>
<li>Add <code>"pandoc.pdfOptString": "-t html --css style.css"</code> to
<code>settings.json</code> in <code>.vscode/settings.json</code> in the
work directory containing the markdown project. This
<code>settings.json</code> overrides the global variables specified in
that file. This can also be edited by doing
<code>Ctlr+Shift+P: Preferences: Workspace Settings</code>. The
<code>style.css</code> is put in the same folder of the <code>.md</code>
file</li>
<li>`pacman -S pandoc pandoc-crossref wkhtmltopdf</li>
</ul></li>
<li>Markdown PDF<br />
We can add to the <code>setting.json</code> for vscode workspace to use
a specific style to generate the pdf:</li>
</ul>
<pre><code>  &quot;markdown-pdf.styles&quot;: [
          &quot;style.css&quot;,
      ],</code></pre>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="git-notes">3. Git notes</h1>
<h2 id="notes-on-creating-a-git-repository-on-github">3.1. Notes on
creating a git repository on github</h2>
<p>On folder do:</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a> <span class="fu">git</span> init</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a> <span class="fu">git</span> commit</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a> <span class="fu">git</span> branch <span class="at">-M</span> main</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a> <span class="fu">git</span> remote add origin https://github.com/jgroboredo/test.git</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a> <span class="fu">git</span> push <span class="at">-u</span> origin main</span></code></pre></div>
<h3 id="some-notes-on-the-above-commands">3.1.1. Some notes on the above
commands</h3>
<ul>
<li><code>git branch -m master main</code></li>
</ul>
<blockquote>
<p>renames the master branch in local git repository</p>
</blockquote>
<ul>
<li>In the second step, we’ll have to create a new branch on the remote
named “main” - because Git does not allow to simply “rename” a remote
branch. Instead, we’ll have to create a new “main” branch and then
delete the old “master” branch: <code>git push -u origin main</code> We
now have a new branch on the remote named “main”.</li>
<li>When you clone a repository with git clone , it automatically
creates a remote connection called origin pointing back to the cloned
repository.</li>
<li>When you do a git push origin master, you are saying to git: “Look
git, I want to push the current branch I am on to the remote repository
named origin, and I want to push to the master branch in that remote.”.
By default, the remote repository is named origin. I only need to
specify where I want to push if there are more than 1 repositories.</li>
<li>When you execute the command: git remote add origin “github repo
link” you are saying that for the current project, there is a remote
repository with the name origin, with the address of “github repo
link”</li>
</ul>
<h2 id="check-previous-commit">3.2. Check previous commit</h2>
<pre><code> git log
 git checkout &lt;commit_hash&gt; (example: 18e0b6a044a715b04bcacd599061b6b8bd586a7a)
 git checkout &lt;branch_to_return_to_present_state&gt;</code></pre>
<h2 id="git-stash-and-log">3.3. Git stash and log</h2>
<pre><code> git log --stat -&gt; see which files were altered in each commit
 git stash; git stash list; git stash drop</code></pre>
<h2 id="create-local-git-repository">3.4. Create local git
repository</h2>
<ul>
<li>Create a folder which is going to be the “server” -&gt; For example,
Notes.git</li>
<li>Inside the repository do: <code>git init --bare</code></li>
<li>On the same computer do: <code>git clone /path/to/server</code>
-&gt; the repository created this way will be linked to the “server” by
an absolute path which only works on this same pc</li>
<li>On the other computer do:
<code>git clone goncalo@ip:/path/to/server</code></li>
</ul>
<h2 id="change-the-author-name">3.5. Change the author name</h2>
<p><code>git config --global user.name "John Doe"</code></p>
<h2 id="remove-tracked-file-that-is-now-in-.gitignore">3.6. Remove
tracked file that is now in .gitignore</h2>
<p><code>git rm --cached &lt;file&gt;</code></p>
<h2 id="check-last-commit-changes">3.7. Check last commit changes</h2>
<p><code>git show --name-only</code> -&gt; Lists just the files in the
last commit and doesn’t give you the entire guts
<code>git diff HEAD^ HEAD</code> -&gt; HEAD^ identifies last commit</p>
<h2 id="installing-git-in-live-iso-arch">3.8. Installing git in live ISO
arch</h2>
<p>If error in keys:
<code>pacman -Sy archlinux-keyring; pacman-key --populate archlinux</code></p>
<h2 id="change-remote-url">3.9. Change remote URL</h2>
<ul>
<li><code>git remote -v</code></li>
</ul>
<blockquote>
<p>To check the present remote url</p>
</blockquote>
<ul>
<li><code>git remote set-url origin git@github.com:jgroboredo/Linux_Infos.git</code></li>
</ul>
<h2 id="add-remote-url">3.10. Add remote URL</h2>
<ul>
<li><code>git remote add name_of_remote git@github.com:jgroboredo/Linux_Infos.git</code></li>
<li><code>git push -u name_of_remote --all</code></li>
</ul>
<blockquote>
<p>Note: this changes the default repository! It also pushes all
branches!</p>
</blockquote>
<ul>
<li><code>git config --edit</code></li>
</ul>
<blockquote>
<p>Can use this command to change the default git push</p>
</blockquote>
<ul>
<li><code>git branch --set-upstream-to &lt;remote-name&gt;</code></li>
</ul>
<blockquote>
<p>Set preferred remote for current branch</p>
</blockquote>
<ul>
<li><code>git branch branch_name --set-upstream-to &lt;remote-name&gt;/branch</code></li>
</ul>
<blockquote>
<p>set preferred remote for branch_name</p>
</blockquote>
<ul>
<li><code>git branch -vv</code></li>
</ul>
<blockquote>
<p>shows the default remote for the current branch</p>
</blockquote>
<h2 id="different-pushes">3.11. Different Pushes</h2>
<ul>
<li>To push all branches to all remotes:
<code>git remote | xargs -L1 git push --all</code></li>
<li>Push a specific branch to all remotes:
<code>git remote | xargs -L1 -I R git push R branch_name</code></li>
<li>To make a git alias for the command:
<code>git config --global alias.pushall '!git remote | xargs -L1 git push --all'</code></li>
</ul>
<p>Or</p>
<ul>
<li>Create an all remote with several repo URLs to its name:</li>
</ul>
<pre><code> git remote add all origin-host:path/proj.git
 git remote set-url --add all nodester-host:path/proj.git
 git remote set-url --add all duostack-host:path/proj.git
 git push all --all</code></pre>
<p>Or</p>
<ul>
<li>If you want to always push to repo1, repo2, and repo3 but always
pull only from repo1, set up the remote ‘origin’ as:</li>
</ul>
<pre><code> git remote add origin https://exampleuser@example.com/path/to/repo1
 git remote set-url --push --add origin https://exampleuser@example.com/path/to/repo1
 git remote set-url --push --add origin https://exampleuser@example.com/path/to/repo2
 git remote set-url --push --add origin https://exampleuser@example.com/path/to/repo3</code></pre>
<ul>
<li>If you only want to pull from repo1 but push to repo1 and repo2 for
a specific branch specialBranch:</li>
</ul>
<pre><code>  [remote &quot;origin&quot;]
     url = ssh://git@aaa.xxx.com:7999/yyy/repo1.git
     fetch = +refs/heads/*:refs/remotes/origin/*
     ...
  [remote &quot;specialRemote&quot;]
     url = ssh://git@aaa.xxx.com:7999/yyy/repo1.git
     pushurl = ssh://git@aaa.xxx.com:7999/yyy/repo1.git
     pushurl = ssh://git@aaa.xxx.com:7999/yyy/repo2.git
     fetch = +refs/heads/*:refs/remotes/origin/* (Note: Has origin here again, only pulls from origin)
     ...
  [branch &quot;specialBranch&quot;]
     remote = origin
     pushRemote = specialRemote
     ...</code></pre>
<ul>
<li>My experience:
<ul>
<li><p>I can specify which remote to push or pull from:</p>
<div class="sourceCode" id="cb8"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> pull remote_name branch</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> push remote_name branch</span></code></pre></div></li>
<li><p>A branch has a default remote: I only need to specify the
remote_name and eventually the branch_name (I can’t pull from a
non-default remote without specifying the branch) if I don’t want to do
it to the default one</p></li>
</ul></li>
</ul>
<h2 id="use-curl-to-download-from-github">3.12. Use curl to download
from github</h2>
<div class="sourceCode" id="cb9"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="ex">curl</span> <span class="at">-LkSs</span> https://api.github.com/repos/jgroboredo/arch_install/tarball <span class="at">-o</span> master.tar.gz</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">tar</span> xf master.tar.gz</span></code></pre></div>
<h2 id="download-a-file-from-github">3.12. Download a file from
github</h2>
<ul>
<li>Go to file, click on raw, copy link</li>
<li><code>curl -L "link_from_above_step" &gt;&gt; output</code></li>
</ul>
<h2 id="merge-branches">3.13. Merge branches</h2>
<ul>
<li><code>git checkout master; git merge other_branch_name</code></li>
<li>Alternative:<code>git merge --no-ff other_branch_name</code> . Using
–no-ff allows someone reviewing history to clearly see the branch you
checked out to work on.</li>
<li><code>git branch -d branch_name</code></li>
</ul>
<blockquote>
<p>deletes branch locally</p>
</blockquote>
<ul>
<li><code>git push origin --delete branch_name</code></li>
</ul>
<blockquote>
<p>deletes a branch remotely</p>
</blockquote>
<ul>
<li><code>git fetch -p</code></li>
</ul>
<blockquote>
<p>Synchronize branch listing. After fetching, branches which no longer
exist on the remote will be deleted.</p>
</blockquote>
<p>If I do a: <code>git pull origin master</code> on another branch, it
will merge them. After creating a new branch, we need to specify
tracking information for the current branch. That means we need to do
something like <code>git pull &lt;remote&gt; &lt;branch&gt;</code> for
it to work. On the other hand, we can simply set tracking information
for the current branch by:
<code>git branch --set-upstream-to=origin/&lt;branch&gt; correction_chapter1</code></p>
<h2 id="check-merge-conflicts">3.14. Check merge conflicts</h2>
<p><code>git show --name-only [commit sha]</code> on a commit that was a
merge containing conflicts and you’ll see it as part of the message.</p>
<h2 id="merge-mistake-you-committed-changes-to-local-master">3.15. Merge
mistake (You committed changes to (local) master)</h2>
<pre><code>git branch &lt;new-branch&gt;
git reset HEAD~ --hard
git checkout new-branch </code></pre>
<p>The first command creates the new branch we want to work with. The
second command resets the main branch to just before the last commit,
but leaves the changes you just made in the new branch. Finally, we
switch to the new branch where your changes await you. If you’ve made
multiple commits, use <code>git reset HEAD~&lt;n&gt; --hard</code>,
where <n> is the number of commits back you want to go.</p>
<h2 id="git-merge-deleted-by-us">3.16. Git merge “Deleted by us”</h2>
<p>Resolve all non deleted merge conflicts by hand, which you have to do
anyway; Type <code>git diff --name-only --diff-filter=U</code> to get a
list of all remaining files in conflit. These files must be the ones you
want deleted.
<code>git diff --name-only --diff-filter=U | xargs git rm</code></p>
<h2 id="commit-id-and-sha">3.17. Commit ID and SHA</h2>
<div class="sourceCode" id="cb11"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> show <span class="at">-s</span> <span class="at">--format</span><span class="op">=</span>%H <span class="co"># shows the last commit full id</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> show <span class="at">-s</span> <span class="at">--format</span><span class="op">=</span>%h <span class="co"># shows the last commit sha</span></span></code></pre></div>
<h2 id="git-over-ssh-using-ssh-config">3.18. Git over ssh using ssh
config</h2>
<p><code>git remote set-url origin ssh://pi(here config name)/home/goncalo/HDD/Documents/git_repos/Notes.git</code>
(here full path)</p>
<h2 id="sparse-checkout">3.19. Sparse Checkout</h2>
<div class="sourceCode" id="cb12"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mkdir</span> <span class="op">&lt;</span>repo<span class="op">&gt;</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> <span class="op">&lt;</span>repo<span class="op">&gt;</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> init</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> remote add <span class="at">-f</span> origin <span class="op">&lt;</span>url<span class="op">&gt;</span></span></code></pre></div>
<p>This creates an empty repository with your remote, and fetches all
objects but doesn’t check them out.</p>
<p>Then: <code>git config core.sparseCheckout true</code></p>
<p>Now we define which files/folders we want to check out by editing
<code>.git/info/sparse-checkout</code>:</p>
<div class="sourceCode" id="cb13"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">&quot;some/dir/&quot;</span> <span class="op">&gt;&gt;</span> .git/info/sparse-checkout</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">&quot;another/sub/tree&quot;</span> <span class="op">&gt;&gt;</span> .git/info/sparse-checkout</span></code></pre></div>
<p>Finally, just update the repo:
<code>git pull origin master</code></p>
<h2 id="git-submodules">3.20. Git submodules</h2>
<h3 id="add-submodule">3.20.1. Add submodule</h3>
<div class="sourceCode" id="cb14"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Add submodule to repository</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="co"># By default, submodules will add the subproject </span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="co"># into a directory named the same as the repository</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> submodule add <span class="op">&lt;</span>link_to_submodule<span class="op">&gt;</span> <span class="op">&lt;</span>optional_path<span class="op">&gt;</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Although the submodule is a subdirectory in your working directory,</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Git sees it as a submodule and doesn’t track its </span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a><span class="co"># contents when you’re not in that directory</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> diff <span class="at">--cached</span> <span class="at">--submodule</span></span></code></pre></div>
<h3 id="clone-repo-with-submodule">3.20.2. Clone repo with
submodule</h3>
<div class="sourceCode" id="cb15"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> clone <span class="op">&lt;</span>main_project_link<span class="op">&gt;</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> submodule init <span class="co"># initializes local config file</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> submodule update <span class="co"># fetch all the data from that project</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="co"># or</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> clone <span class="at">--recurse-submodules</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a><span class="co"># or</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> clone <span class="op">&lt;</span>main_project_link<span class="op">&gt;</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> submodule update <span class="at">--init</span></span></code></pre></div>
<h3 id="pulling-in-upstream-changes-from-the-submodule-remote">3.20.3.
Pulling in Upstream Changes from the Submodule Remote</h3>
<div class="sourceCode" id="cb16"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> <span class="op">&lt;</span>git_submodule_dir<span class="op">&gt;</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> fecth</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> merge</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="co"># or</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> submodule update <span class="at">--remote</span> <span class="op">&lt;</span>submodule_name<span class="op">&gt;</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> <span class="op">&lt;</span>main_project<span class="op">&gt;</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> diff <span class="at">--submodule</span> <span class="co">#  get a list of commits that were added to the submodule</span></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> config <span class="at">--global</span> diff.submodule log <span class="co"># to avoid the need to write --submodule in every git diff</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a><span class="co"># If you commit at this point then you will lock the submodule </span></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a><span class="co"># into having the new code when other people update.</span></span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> config <span class="at">-f</span> .gitmodules submodule.DbConnector.branch stable <span class="co"># in order to track other branch</span></span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a><span class="co"># if we leave off -f .gitmodules it will only make the change locally</span></span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> config status.submodulesummary 1 <span class="co"># to see a summary of changes to the submodules</span></span></code></pre></div>
<h3 id="pulling-upstream-changes-from-the-project-remote">3.20.4.
Pulling Upstream Changes from the Project Remote</h3>
<p>Now the perspective of the colaborator that cloned the Main
Project.</p>
<p>Simply executing <code>git pull</code> is not enough. By default, the
git pull command recursively fetches submodules changes. However, it
does not update the submodules.</p>
<div class="sourceCode" id="cb17"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> submodule update <span class="at">--init</span> <span class="at">--recursive</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="co"># --init flag: MainProject might have added new submodules</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="co"># --recursive flag: if submodules have nested submodules</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="co"># or </span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> pull <span class="at">--recurse-submodules</span></span></code></pre></div>
<h3 id="upstream-repository-changed-url-of-the-submodule">3.20.5.
Upstream repository changed url of the submodule</h3>
<div class="sourceCode" id="cb18"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># copy the new URL to your local config</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> git submodule sync <span class="at">--recursive</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="co"># update the submodule from the new URL</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> git submodule update <span class="at">--init</span> <span class="at">--recursive</span></span></code></pre></div>
<h3 id="switching-from-subdirectories-to-submodules">3.20.6. Switching
from subdirectories to submodules</h3>
<p>Problem: we have been tracking files in our project and want to move
them out into a submodule.</p>
<div class="sourceCode" id="cb19"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co">#First unstage</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> rm <span class="at">-r</span> SubDir</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Then Add</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> submodule add <span class="op">&lt;</span>submodule_link<span class="op">&gt;</span></span></code></pre></div>
<h2 id="migrate-part-of-git-repository">3.21. Migrate part of git
repository</h2>
<p>After a fresh clone of the repository to migrate, do:</p>
<div class="sourceCode" id="cb20"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="ex">git-filter-repo</span> <span class="at">--prune-degenerate</span> always <span class="at">--prune-empty</span> always <span class="at">--path</span> /path/to/keep/1 <span class="at">--path</span> /path/to/keep/2 </span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Eventually rename things</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Put everything in root</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="ex">git-filter-repo</span> <span class="at">--path-rename</span> /previous/path/:</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Change name</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a><span class="ex">git-filter-repo</span> <span class="at">--path-rename</span> /previous/path/:/new/path</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a><span class="co"># migrate to new repo</span></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> new_repo</span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> init</span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> remote add old-repo ../myrepo</span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> pull old-repo master <span class="at">--allow-unrelated-histories</span></span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> remote remove old-repo</span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> add origin <span class="op">&lt;</span>new/origin<span class="op">&gt;</span></span></code></pre></div>
<h2 id="git-reverse-patch">3.22. Git reverse patch</h2>
<div class="sourceCode" id="cb21"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> fsck <span class="at">--no-reflog</span> <span class="kw">|</span> <span class="fu">awk</span> <span class="st">&#39;/dangling commit/ {print $3}&#39;</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="co"># create patch </span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> diff <span class="op">&gt;</span> my_patch.patch</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> apply <span class="at">--reject</span> <span class="at">--whitespace</span><span class="op">=</span>fix <span class="at">--reverse</span> my_patch.patch</span></code></pre></div>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="bash-notes">4. Bash Notes</h1>
<h2 id="bash-note-1">4.1. Bash Note 1</h2>
<ul>
<li><code>$#</code> &gt; number of arguments passed to the shell
script</li>
<li><code>$1, $2</code>, etc &gt; identify the arguments passed to the
script</li>
</ul>
<h2 id="bash-note-2">4.2. Bash Note 2</h2>
<p>The code:</p>
<div class="sourceCode" id="cb22"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="cf">case</span> <span class="va">$1</span> <span class="kw">in</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="ss">-f</span><span class="kw">|</span><span class="ss">--from</span><span class="kw">)</span> <span class="ex">command1</span><span class="kw">;</span> <span class="bu">shift</span> <span class="cf">;;</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="pp">*</span><span class="kw">)</span>         <span class="ex">command2</span><span class="cf">;;</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>  <span class="cf">esac</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>  <span class="bu">shift</span></span></code></pre></div>
<p>will check if the first argument <code>$1</code> passed to the script
matches <code>-f</code> or <code>--from</code> or any other cases; The
asterisk means that it does command2 if it doesn’t match any of the
cases above; The “shift” command shifts the arguments, i.e., if I have
<code>$1</code>, <code>$2</code> arguments, then <code>$2</code> -&gt;
<code>$1</code>.</p>
<h2 id="bash-note-3">4.3. Bash Note 3</h2>
<p>The code:</p>
<p><code>SCRIPT_DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" &amp;&gt; /dev/null &amp;&amp; pwd )"</code></p>
<p>will give you the full directory name of the script no matter where
it is being called from.</p>
<h2 id="bash-note-4---compare-files">4.4. Bash Note 4 - Compare
Files</h2>
<p><code>grep -F -x -v -f fileA fileB</code> &gt; This works by using
each line in <code>fileA</code> as a pattern (<code>-f fileA</code>) and
treating it as a plain string to match (<code>-F</code>). You force the
match to happen on the whole line <code>-x</code> and print out only the
lines that don’t match (<code>-v</code>). Therefore, you are printing
out the lines in fileB that don’t contain the same data as any line in
fileA.</p>
<h2 id="bash-note-5---use-of-curly-braces">4.5. Bash Note 5 - Use of
curly braces</h2>
<ol type="1">
<li>In the example:</li>
</ol>
<div class="sourceCode" id="cb23"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>  <span class="va">var</span><span class="op">=</span>10        <span class="co"># Declare variable</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="bu">echo</span> <span class="st">&quot;</span><span class="va">${var}</span><span class="st">&quot;</span> <span class="co"># One use of the variable</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>  <span class="bu">echo</span> <span class="st">&quot;</span><span class="va">$var</span><span class="st">&quot;</span>   <span class="co"># Another use of the variable</span></span></code></pre></div>
<p>it makes no difference to use curly braces.</p>
<ol start="2" type="1">
<li>However, the <code>{}</code> in <code>${}</code> are useful if you
want to expand the variable foo in the string <code>"${foo}bar"</code>
since “$foobar” would instead expand the variable identified by
foobar.</li>
</ol>
<p>Curly braces are also unconditionally required when:</p>
<ul>
<li>expanding array elements, as in <code>${array[42]}</code></li>
<li>using parameter expansion operations, as in
<code>${filename%.*}</code> (remove extension)</li>
<li>expanding positional parameters beyond 9:
<code>"$8 $9 ${10} ${11}"</code></li>
</ul>
<h2 id="bash-note-6---search-recursively-in-directory">4.6. Bash Note 6
- Search recursively in directory</h2>
<ul>
<li><code>grep -R "stuff"</code> will search recursively on all files on
that directory and look for the word stuff</li>
<li><code>for i in **/.ipynb_checkpoints</code> will find recursively
all directories with this name</li>
<li><code>for i in ./pattern</code> will search for this pattern in
current directory</li>
</ul>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="lyx">5. Lyx</h1>
<h2 id="configure-lyx">5.1. Configure lyx</h2>
<ul>
<li>Tools-Preferences-File Formats: PDF (pdflatex), shortname: pdf2,
Viewer: Custom - zathura</li>
<li>Tools-Preferences-Output-PDF command:
<code>zathura --synctex-forward $$n:1:$$t $$o</code></li>
<li>Tools-Preferences-Shortcuts-New: buffer-view pdf2 and buffer-update
pdf2</li>
<li>For the spellchecker, might need to install hunspell-en_US and
hunspel-pt_pt and enchant</li>
<li>For lgrenc.def not found -&gt; install texlive-langgreek</li>
<li>To use eps figures in lyx I need ghostscript : try to epstopdf on
command line to discover this.</li>
</ul>
<h2 id="kpathsea">5.2. Kpathsea</h2>
<ul>
<li>Kpathsea is a library for path searching (e.g., for very quickly
locating a given .sty file in a set of potentially large TEXMF trees,
without doing a recursive directory tree trversal every time a given
file is needed. (pse -&gt; pathsea)</li>
<li>kpsewhich minted.sy to search efficiently on tex library</li>
</ul>
<h2 id="configure-minted">5.3. Configure minted</h2>
<div class="sourceCode" id="cb24"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> mkdir <span class="st">&quot;/usr/share/texmf-texlive/tex/latex/minted/&quot;</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> cp minted.sty <span class="st">&quot;/usr/share/texmf-texlive/tex/latex/minted/&quot;</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> mktexlsr</span></code></pre></div>
<ul>
<li>Then in lyx, go to Tools/Tex Information, select latex styles and
click rescan. minted.sty should appear in the list in lyx, go to
“Tools&gt;preferences&gt;file handling&gt;converters” and find the
converter from tex to pdflatex. Edit its command line adding the option
“-shell-escape” (no quotes) into the Converter field, then click the
Modify button next to the list of converters. This is equivalent to
going to Documents-&gt;Formats-&gt;Allow running external programs (is a
better solution since it avoids writting a warning message). Then click
Apply in lyx, go to Document&gt;Settings and enter “/usepackage{minted}”
(no quotes) in the latex preamble in lyx, in the part of your document
where you want the highlighted code to appear, go to “Insert&gt;TEX
code” to get an Evil Red Text (ERT) box</li>
<li>In Document-&gt;Settings-&gt;Listings, add following options:
<ul>
<li>language=C++</li>
<li>frame=single</li>
<li>mathescape=true</li>
<li><code>syoek --synctex-forward $$n:1:$$t $$o</code></li>
</ul></li>
<li>Ordered bibliography: Use style unsrt and add to preamble:</li>
</ul>
<h2 id="install-custom-cls">5.4. Install custom cls</h2>
<ul>
<li><code>latex my_class.ins</code> -&gt; produces my_class.cls</li>
<li><code>kpsewhich -var-value=TEXMFHOME</code> -&gt; prints path where
to put cls</li>
<li>Regarding the above command, it’s good to put the usual path:
<code>$HOME/texmf/tex/latex/commonstuff/</code></li>
<li>kpsewhich my_class.cls -&gt; to check path of the class</li>
<li>Write lyx layout: In order to do this, find the basis class for our
new class. For that, inspect my_class.cls and check the line LoadClass.
It implies that my_class.cls is a descendent of that class (let’s
suppose it’s dependent on report class). Then, in /usr/share/lyx/layouts
copy report.layout, change its name to my_class.layout and edit like
this:</li>
</ul>
<pre><code>  \DeclareLaTeXClass[my_class]{name_of_layout}
  Input report.layout</code></pre>
<ul>
<li>In lyx, reconfigure. Now, name_of_layout is the text we see in
Document-Class</li>
<li>Default classes:
<code>/usr/share/texmf-dist/latex/elsarticle/elsarticle.cls</code></li>
</ul>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="qemu">6. Qemu</h1>
<h2 id="commands">6.1. Commands</h2>
<div class="sourceCode" id="cb26"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="ex">qemu-img</span> create <span class="at">-f</span> qcow2 qemu_image 8G</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="ex">qemu-system-x86_64</span> <span class="at">-smp</span> 6 <span class="at">-m</span> 4G <span class="at">-enable-kvm</span> <span class="at">-cdrom</span> arch.iso <span class="at">-boot</span> order=d qemu_image</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="ex">smp</span> <span class="er">(</span><span class="ex">number</span> of cores<span class="kw">)</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a><span class="ex">qemu-system-x86_64</span> <span class="at">-soundhw</span> ac97 <span class="at">-k</span> en-us <span class="at">-vga</span> std <span class="at">-enable-kvm</span> <span class="at">-m</span> 4G  <span class="at">-usbdevice</span> tablet <span class="at">-smp</span> 6 <span class="at">-enable-kvm</span> <span class="at">-boot</span> c qemu_image</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a><span class="co">#For no sound</span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a><span class="ex">qemu-system-x86_64</span> <span class="at">-k</span> en-us <span class="at">-vga</span> std <span class="at">-enable-kvm</span> <span class="at">-m</span> 4G  <span class="at">-usbdevice</span> tablet <span class="at">-smp</span> 6 <span class="at">-boot</span> c qemu_image</span></code></pre></div>
<h2 id="variables">6.2. Variables</h2>
<div class="sourceCode" id="cb27"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="ex">-k</span> en-us <span class="er">(</span><span class="ex">keymap</span><span class="kw">)</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="ex">-usbdevice</span> tablet</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="ex">-cpu</span> host</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a><span class="ex">-smp</span> 6 <span class="co"># number of cores</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a><span class="ex">-machine</span> type=pc,accel=kvm</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a><span class="ex">-enable-kvm</span></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a><span class="ex">-format=raw</span> <span class="pp">??</span></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a><span class="ex">-machine</span> smm=off <span class="co"># bug?</span></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a><span class="ex">-soundhw</span> sb16,es1370</span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a><span class="co">#telnet access</span></span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a><span class="ex">qemu-system-x86_64</span> <span class="at">-curses</span> <span class="at">-monitor</span> telnet:127.0.0.1:1234,server,nowait <span class="at">-boot</span> c qemu_image</span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a><span class="ex">telnet</span> 127.0.0.1 1234  <span class="at">--</span> in another terminal</span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a><span class="co">#KVM Quick Check</span></span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a><span class="fu">zgrep</span> CONFIG_VIRTIO /proc/config.gz</span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a><span class="fu">lsmod</span> <span class="kw">|</span> <span class="fu">grep</span> kvm</span></code></pre></div>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="inkscape">7. Inkscape</h1>
<ul>
<li>If I have problems with eps images, in this case, also need to
install ghostscript.</li>
<li>Do you have ImageMagick installed? LyX relies on ImageMagick to
convert among graphics formats. It also needs Ghostscript installed (IM
uses GS when the conversions involve PS, EPS or PDF files).</li>
<li>If <code>textext</code> package form the AUR gives problem, simply
go to <strong>textext</strong> official website and install it from
there</li>
</ul>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="vscode">8. VsCode</h1>
<ul>
<li>You can format an entire file with Format Document (Ctrl+Shift+I) or
just the current selection with Format Selection (Ctrl+K Ctrl+F) in
right-click context menu.</li>
<li>F1 -&gt; command pallet</li>
<li>SSH : F1 -&gt; Remote-SSH: Connect to Host…</li>
<li>Install extension: TabNine</li>
</ul>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="zathura">9. Zathura</h1>
<ul>
<li><code>pacman -S zahtura-pdf-poppler</code></li>
<li>make zathura default pdf viewer:
<code>mimeo --ad application/pdf zathura.desktop</code></li>
<li>to discover the real name of zathura.desktop run
<code>locate zathura.desktop</code></li>
<li>to check that pdf files have the correct mimetype run
<code>mimeo -m pdf_file.pdf</code></li>
<li>Clipboard: add <code>set selection-clipboard clipboard</code> to
<code>~/.config/zahtura/zathurarc</code> or
<code>/etc/zathurarc</code></li>
</ul>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="zsh">10. Zsh</h1>
<div class="sourceCode" id="cb28"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> clone https://github.com/zsh-users/zsh-autosuggestions ~/.zsh/zsh-autosuggestions</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="bu">source</span> ~/.zsh/zsh-autosuggestions/zsh-autosuggestions.zsh in .zshrc</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a><span class="fu">mkdir</span> .cache/zsh <span class="kw">&amp;&amp;</span> <span class="fu">touch</span> .cache/zsh/dirs</span></code></pre></div>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="jupyter">11. Jupyter</h1>
<h2 id="jupyter-lab">11.1. Jupyter-Lab</h2>
<p>To run over ssh, execute</p>
<div class="sourceCode" id="cb29"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ssh</span> <span class="at">-L</span> 8888<span class="er">(</span><span class="ex">port</span> on local<span class="kw">)</span><span class="ex">:localhost::8889</span><span class="er">(</span><span class="ex">port</span> on remote<span class="kw">)</span> <span class="ex">goncalo@ip</span> jupyter-lab <span class="at">--no-browser</span> <span class="at">--port</span><span class="op">=</span><span class="er">(</span><span class="ex">same</span> as before on remote<span class="kw">)</span><span class="ex">8889</span></span></code></pre></div>
<ul>
<li>To avoid authentication by token:
<code>jupyter server password</code></li>
<li>To list active sessions: <code>jupyter lab list</code></li>
<li>To kill a session: <code>jupyter lab stop 8888</code> (for
e.g.)</li>
</ul>
<h2 id="opening-browser">11.2. Opening browser</h2>
<p>If jupyter doesn’t open, do : <code>jupyter lab build</code> If
command above gives permission error, do:</p>
<div class="sourceCode" id="cb30"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> chown <span class="at">-hR</span> {user} {dir}</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="ex">jupyter</span> notebook <span class="er">(</span><span class="ex">lab</span><span class="kw">)</span> <span class="ex">--generate-config</span> </span></code></pre></div>
<p>Also, change redirect_file to false Na verdade, isto não funciona
porque tenho de mudar o <code>~/.profile</code> para firefox LOL</p>
<hr />
<ul>
<li>Can’t access file (probably happens cause directory contains hidden
folder .local):
<ul>
<li>set <code>c.ServerApp.use_redirect_file = False</code> in
<code>~/.jupyter jupyter_server_config.py</code></li>
<li>Stop server:</li>
</ul>
<div class="sourceCode" id="cb31"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>    <span class="ex">lsof</span> <span class="at">-n</span> <span class="at">-i4TCP:</span><span class="pp">[</span><span class="ss">port</span><span class="pp">-</span><span class="ss">number</span><span class="pp">]</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">kill</span> <span class="at">-9</span> <span class="pp">[</span><span class="ss">PID</span><span class="pp">]</span></span></code></pre></div></li>
</ul>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="tmux">12. Tmux</h1>
<p>ssh host, tmux, run command, <code>ctr+b d</code>, exit. To check the
tmux session, run <code>tmux attach</code></p>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="pacman">13. Pacman</h1>
<ul>
<li>Update pacman mirrors:
<code>reflector --verbose --latest 5 --sort rate --save /etc/pacman.d/mirrorlist</code></li>
<li>Check recently installed packages:
<code>grep -i installed /var/log/pacman.log</code></li>
</ul>
<h2 id="pacman-cache">13.1. Pacman cache</h2>
<div class="sourceCode" id="cb32"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> ls /var/cache/pacman/pkg/ <span class="kw">|</span> <span class="fu">wc</span> <span class="at">-l</span> <span class="co"># checks cached packages</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="fu">du</span> <span class="at">-sh</span> /var/cache/pacman/pkg/ <span class="co"># disk space occupied by cache</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> paccache <span class="at">-r</span> <span class="co"># cleans all packages except most recent 3</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> paccache <span class="at">-rk</span> 1 <span class="co"># keep only one most recent version</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> pacman <span class="at">-Sc</span> <span class="co"># remove all uninstalled packages</span></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> pacman <span class="at">-Scc</span> <span class="co"># remove installed and uninstalled packages from cache</span></span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> paccache <span class="at">-ruk0</span> <span class="co">#**** remove all versions of uninstalled packages</span></span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a><span class="ex">change</span> /etc/pacman.conf ParallelDownloads=5</span></code></pre></div>
<h2 id="install-from-live-usb">13.2. Install from live usb</h2>
<div class="sourceCode" id="cb33"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mount</span> system: mount /dev/sdax /mnt</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> pacman <span class="at">--root</span> /mnt <span class="at">-S</span> package</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> pacman <span class="at">-Qkk</span> <span class="kw">|</span> <span class="fu">grep</span> warning <span class="co"># To verify the presence of the files  installed by a package</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> pacman <span class="at">--root</span> /mnt <span class="at">-S</span> <span class="va">$(</span><span class="fu">sudo</span> pacman <span class="at">--root</span> /mnt <span class="at">-Qeq</span><span class="va">)</span> <span class="at">--noconfirm</span> <span class="co"># reinstalls installed packages</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a><span class="co">#If need to remove aur packages:</span></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> pacman <span class="at">--root</span> /mnt <span class="at">-Qeq</span> <span class="op">&gt;</span> packages.txt</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> pacman <span class="at">--root</span> /mnt <span class="at">-S</span> <span class="va">$(</span><span class="fu">cat</span> packages.txt<span class="va">)</span> <span class="at">--noconfirm</span></span></code></pre></div>
<h2 id="pacman-infos">13.3. Pacman infos</h2>
<div class="sourceCode" id="cb34"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pacman</span> <span class="at">-Qe</span> <span class="co"># lists explicitly installed packages</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="ex">pacman</span> <span class="at">-Rsc</span> <span class="co"># uninstalls (including unneeded dependencies)</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="ex">pacman</span> <span class="at">-Qs</span> <span class="st">&quot;query&quot;</span> <span class="co"># search installed packages for keywords</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a><span class="ex">pacman</span> <span class="at">-Qdt</span> <span class="co"># list unneeded packages</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a><span class="ex">pacman</span> <span class="at">-Rns</span> <span class="va">$(</span><span class="ex">pacman</span> <span class="at">-Qdtq</span><span class="va">)</span> <span class="co"># uninstall unneeded packages (nota: quando adicionei isto aos aliases, sempre que abri o terminal pedia-me a pass do sudo (estava a correr o que esta a frente de $)</span></span></code></pre></div>
<h2 id="pacman-mirrors">13.4. pacman mirrors</h2>
<p><code>sudo pacman-mirrors --fasttrack &amp;&amp; pacman -Syyu</code></p>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="grub">14. Grub</h1>
<ul>
<li><p>If no update-grub command, do:</p>
<div class="sourceCode" id="cb35"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> nano /usr/sbin/update-grub</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="st">#!/bin/sh</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a><span class="st">set -e</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a><span class="st">exec grub-mkconfig -o /boot/grub/grub.cfg &quot;</span><span class="va">$@</span><span class="st">&quot; </span></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;</span></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> chown root:root /usr/sbin/update-grub</span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> chmod 755 /usr/sbin/update-grub</span></code></pre></div></li>
<li><p>If error syntax in grub-customizer:</p>
<ul>
<li>View -&gt; Show placeholders</li>
<li>select entry “script code”</li>
<li>remove</li>
</ul></li>
<li><p>check kernel by <code>uname -r</code></p></li>
</ul>
<h2 id="install-grub-manually-when-manjaro-fails">14.1. Install grub
manually when manjaro fails</h2>
<ul>
<li>Deactivate CSM in BIOS</li>
<li>Quando acaba a instalacao, ver se ele cria a particao em /boot/efi
ou /boot</li>
<li><code>sudo fdisk --list</code> (para ver onde foi instalada a
particao no pc)</li>
<li><code>sudo su</code></li>
<li><code>mount /dev/sda2 /mnt</code> (em que sda2 era a particao com o
linux)</li>
<li><code>mount /dev/sda1 /mnt/boot/efi</code></li>
<li><code>grub-install --target=x86_64-efi --efi-directory=/mnt/boot/efi --bootloader-id=manjaro --boot-directory=/mnt/boot --recheck --debug</code></li>
<li><code>manjaro-chroot -a</code></li>
<li><code>update-grub</code></li>
<li><code>umount -R /mnt</code></li>
</ul>
<p><a
href="https://forum.manjaro.org/t/manjaro-grub-install-error-calamares-and-manual-the-why/125886">Link</a></p>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="vim">15. Vim</h1>
<ul>
<li><code>yay -S vim-plug-git</code></li>
<li>add <code>.vimrc</code> with the plugs I want</li>
<li>add folder <code>~/.vim/plugged/</code></li>
<li>to install plugs, do <code>:PlugInstall</code></li>
<li>for fzt pluggin: <code>:Files</code> command</li>
<li>For the NERDTree plugin to see icon of file, install:
<code>yay -S nerd-fonts-complete</code>; This font package my screw up
font sizes of icons. To correct this, add to i3blocks config the
following:</li>
</ul>
<pre><code>    &lt;span size=&#39;small&#39; font_weight=&#39;light&#39;&gt; icon &lt;/span&gt; </code></pre>
<p>        And change font on terminal to SauceCodePro Nerd Font
Medium</p>
<ul>
<li>To open a file in a new tab in nerdtree, press t (or T); to open
vertically click s;</li>
<li>To cycle through windows: C-W-W, C-W-H, C-W-L, C-W-J, C-W-K</li>
<li>To open file using fzf do:</li>
<li>CTRL+T to open in new tab</li>
<li>CTRL+X to open a new split</li>
<li>CTRL+V to open in a new vertical split</li>
<li>While in NERDTree, click on “m” to have a menu to do stuff with the
file or other things</li>
<li><code>yay -S vim-youcompleteme-git</code> -&gt; vim autocompletion
(Needs to be done separately from the installation of the dotfiles)</li>
<li>No need to add this plugin (vim-youcompleteme-git) to the
<code>.vimrc</code> file</li>
<li>add: <code>let g:ycm_show_diagnostics_ui = 0</code> to disable error
checking by YouCompleteMe</li>
<li><code>pacman -S python-black</code></li>
</ul>
<h2 id="install-vim-in-cluster">15.1. Install Vim in cluster</h2>
<div class="sourceCode" id="cb37"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> clone https://github.com/vim/vim.git</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="ex">./configure</span> <span class="at">--prefix</span><span class="op">=</span><span class="va">$HOME</span>/.local <span class="kw">&amp;&amp;</span> <span class="fu">make</span> <span class="kw">&amp;&amp;</span> <span class="fu">make</span> install</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="co"># More flags: --disable-perlinterp --enable-rubyinterp --enable-multibyte --enable-pythoninterp --with-features=huge</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">PATH</span><span class="op">=</span><span class="st">&quot;/home/youruser/.local/bin:</span><span class="va">$PATH</span><span class="st">&quot;</span></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a><span class="co"># For plugins:</span></span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a><span class="fu">mkdir</span> .vim/autoload</span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a><span class="ex">curl</span> <span class="at">-fLo</span> ~/.vim/autoload/plug.vim <span class="at">--create-dirs</span> <span class="dt">\</span></span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim</span></code></pre></div>
<p>Place in <code>.vimrc</code> before <code>plug#begin()</code>:</p>
<pre><code>let data_dir = has(&#39;nvim&#39;) ? stdpath(&#39;data&#39;) . &#39;/site&#39; : &#39;~/.vim&#39;
if empty(glob(data_dir . &#39;/autoload/plug.vim&#39;))
    silent execute &#39;!curl -fLo &#39;.data_dir.&#39;/autoload/plug.vim --create-dirs  https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim&#39;
    autocmd VimEnter * PlugInstall --sync | source $MYVIMRC
endif</code></pre>
<h2 id="vim-snippets">15.2. Vim snippets</h2>
<ul>
<li><code>:UltiSnipsEdit</code> command opens up a custom snippets file
for the current language/filytype</li>
<li>Don’t need the above step if I install vim-snippets plugin</li>
</ul>
<h2 id="manage-tabs">15.3. Manage Tabs</h2>
<ul>
<li>To move tabs -&gt; <code>Alt + arrows</code></li>
<li>To merge tabs -&gt; <code>Ctr + m</code> or
<code>Ctrl + n</code>;</li>
<li>To exchange position of merged tabs -&gt;
<code>&lt;C-w&gt; x</code>;</li>
<li>To change cursor position -&gt; <code>&lt;C-w&gt; w</code>;</li>
<li>To rotate windows -&gt; <code>&lt;C-w&gt; &lt;C-r&gt;</code></li>
</ul>
<h2 id="vim-surroundings">15.4. Vim surroundings</h2>
<ul>
<li>cs(atual)(target) -&gt; change surround from “atual” to
“target”</li>
<li>ds” -&gt; delete surround ”</li>
<li>ysiw[ -&gt; yank surround inner word [ -&gt; puts [ surrounding the
word the curson is in</li>
<li>ysf(smth)[ -&gt; puts [ surrounding current cursor position till
smth</li>
</ul>
<h2 id="some-commands">15.5. Some commands</h2>
<ul>
<li>procurar coisas: /searchthing e usa-se n ou N para avançar para as
seguintes</li>
<li>procurar string e substituir:</li>
</ul>
<pre><code>  :s/search/replace/
  :8,10 s/search/replace/g procura nas linhas 8 a 10
  :%s/search/replace/g procura no documento inteiro
  :%s/search/replace/gc pede confirmação para alterar</code></pre>
<ul>
<li>copiar e colar: selecionar o texto, y copia, p cola</li>
</ul>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="alacritty">16. Alacritty</h1>
<p>Install <code>pacman -S ttf-jetbrains-mono-nerd</code></p>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="lighdm">17. Lighdm</h1>
<pre class="text"><code>pacman -S lightdm-gtk-greeter-settings
change default greeter: /etc/lightdm/lightdm.conf under [Seat:*]
pacman -S archlinux-wallpaper
pacman -S materia-gtk-theme
yay -S pop-icon-theme-git
yay -S pop-gtk-theme</code></pre>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="i3blocks">18. i3Blocks</h1>
<p>For the scripts to work, even if it is .py, need to chmod +x -
https://github.com/vivien/i3blocks-contrib/tree/master/ - For calendar,
install yad and xdotool; add:
<code>for_window [class='Yad'] floating enable</code></p>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="pcmanfm">19. PcmanFM</h1>
<h2 id="basic-configuration">19.1. Basic Configuration</h2>
<ul>
<li>Go to edit -&gt; Preferences -&gt; Advanced :
<ul>
<li>Set terminal emulator (ex: xfce4-terminal) -&gt; to open directly
with vim for example</li>
<li>Set archiver integration: xarchiver</li>
</ul></li>
<li>To see thumbnails, install the following packages:
<ul>
<li>poppler-glib</li>
<li>ffmpegthumbnailer</li>
<li>freetype2</li>
<li>raw-thumbnailer</li>
<li>tumbler</li>
<li>libgsf</li>
<li>libgepub</li>
</ul></li>
</ul>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="mpv">20. MPV</h1>
<h2 id="annoying-bar-at-the-top">20.1. Annoying bar at the top</h2>
<ul>
<li>Change picom config: frame-opacity option</li>
</ul>
<h2 id="watch-stream">20.2. Watch stream</h2>
<ul>
<li><code>pacman -S yt-dlp</code></li>
<li><code>mpv 'link'</code></li>
</ul>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="mime-types">21. Mime-Types</h1>
<h2 id="alternative-to-xdg">21.1. Alternative to xdg:</h2>
<ul>
<li><code>yay -S mimeo</code></li>
<li><code>yay -S xdg-utils-mimeo</code></li>
</ul>
<p><a href="https://xyne.archlinux.ca/projects/mimeo/">MIMEO
COMMANDS</a></p>
<ul>
<li>Open files (foo, bar, etc) : <code>mimeo foo bar baz</code></li>
<li>find Leafpad’s desktop file:
<code>mimeo --app2desk leafpad</code></li>
<li>determine “test” file’s MIME-type: <code>mimeo -m test</code></li>
<li>associate “application/x-shellscript” with Leafpad:
<code>mimeo --add application/x-shellscript leafpad.desktop</code></li>
<li>Associate all text files with Medit:
<code>mimeo --add 'glob:text/*' medit.desktop</code></li>
<li>Association File Examples: (mimeo –assoc-help)</li>
</ul>
<pre><code>vlc --one-instance --playlist-enqueue %U
    ^https?://(www.)?youtube.com/watch\?.*v=

Open HTTP(S) URLs with Firefox:

/usr/bin/firefox %U   
    ^https?://

Open various media files in VLC by extension:

/usr/bin/vlc --one-instance --playlist-enqueue %F
  \.mp3$
  \.flac$
  \.avi$</code></pre>
<ul>
<li>CUSTOM ASSOCIATION FILES (mimeo –help, mimeo –filepath-help If
–assoc is not passed then the following paths will be checked for custom
associations, in order:</li>
</ul>
<div class="sourceCode" id="cb42"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="ex">/home/goncalo/.config/mimeo/associations.txt</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="ex">/etc/xdg/mimeo/associations.txt</span></span></code></pre></div>
<p>Note: Eventually try mimi! Links: - <a
href="https://github.com/taylorchu/mimi">repo</a> - <a
href="https://aur.archlinux.org/packages.php?ID=56438">aur</a></p>
<p>Note: eventually take a look at package perl-file-mimeinfo (mimeopen
-d )</p>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="color-scheme">22. Color-Scheme</h1>
<ul>
<li>Install: python-pywal</li>
<li>Install: <code>yay -S fzwal-git</code></li>
<li>Run: <code>wal --theme base16-nord</code></li>
<li>Add to .zshrc: (<code>cat ~/.cache/wal/sequences &amp;</code>)</li>
<li>Add to .vimrc:
<ul>
<li>Plug ‘dylanaraps/wal.vim’ (install with PlugInstall)</li>
<li><code>colorscheme wal</code></li>
<li><code>set background=dark</code></li>
</ul></li>
</ul>
<p>NOTE:</p>
<ul>
<li>This pywal thing seems to screw up with other windows. Removed for
now!</li>
<li>It seems like it isn’t pywal that messed with firefox -&gt; Firefox
stopped crahsing when I disabled the popOS gtk theme!!!</li>
</ul>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="libreoffice">23. LibreOffice</h1>
<ul>
<li>Latex in impress:
<code>pacman -S libreoffice-extension-texmaths</code></li>
<li>Check extension in Extension Manager inside libreoffice</li>
<li>To install ExpandAnimations go to Tools-&gt;ExtensionManager and add
there the oxt file</li>
</ul>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="reflector">24. Reflector</h1>
<div class="sourceCode" id="cb43"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="ex">reflector</span> <span class="at">--latest</span> 200 <span class="at">--protocol</span> http <span class="at">--protocol</span> https <span class="at">--sort</span> rate <span class="at">--save</span> /etc/pacman.d/mirrorlist</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="ex">reflector</span> <span class="at">--country</span> <span class="st">&#39;France,Germany&#39;</span> <span class="at">--age</span> 12 <span class="at">--protocol</span> https <span class="at">--sort</span> rate <span class="at">--save</span> /etc/pacman.d/mirrorlist</span></code></pre></div>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="acestream">25. AceStream</h1>
<div class="sourceCode" id="cb44"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="ex">yay</span> <span class="at">-S</span> acestream-engine</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="ex">yay</span> <span class="at">-S</span> acestream-launcher</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a><span class="ex">acestreamid</span></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a><span class="ex">acestream-launcher</span> acestream://id <span class="at">-p</span> player </span></code></pre></div>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="swig">26. Swig</h1>
<div class="sourceCode" id="cb45"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="ex">g++</span> <span class="at">-Wall</span> <span class="at">-Wextra</span> <span class="at">-Wpedantic</span> <span class="at">-I</span>/usr/include/python3.9 <span class="at">-I</span>/usr/lib/python3.9/site-packages/numpy/core/include/ <span class="at">-fPIC</span> <span class="at">-shared</span> example_wrap.cxx <span class="at">-o</span> _example.so <span class="at">-lpython3.9</span>   </span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="ex">the</span> first includes python and the second numpy/arrayobject.h</span></code></pre></div>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="tty-login">27. TTY Login</h1>
<h2 id="add-username">27.1. Add Username</h2>
<div class="sourceCode" id="cb46"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span> /etc/systemd/system/getty@tty1.service.d/override.conf:</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">[Service]</span></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>  <span class="va">ExecStart</span><span class="op">=</span></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>  <span class="va">ExecStart</span><span class="op">=</span>-/usr/bin/agetty <span class="ex">-n</span> <span class="at">-o</span> <span class="op">&lt;</span>username<span class="op">&gt;</span> %I</span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a><span class="ex">systemctl</span> edit getty@tty1</span></code></pre></div>
<h2 id="change-startup-message">27.2. Change startup message</h2>
<ol type="1">
<li>added script to bin folder that re-writes /etc/issue with the
correct value of the baterry. It uses a template situated in issue
folder. This template has a PLACEHOLDER text that is used by sed to
substitute with the value of the battery. In order for this to work, I
created a systemd service (check systemd_scripts folder) which runs the
script. Everything is situated in lap_dotfiles</li>
</ol>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="hpc">28. HPC</h1>
<h2 id="modules">28.1. Modules</h2>
<ul>
<li>To list all currently loaded modules: <code>module list</code></li>
<li>To list all available (loadable) modules:
<code>module avail</code></li>
<li>To load a module: <code>module load x</code></li>
<li>To unload a module: <code>module unload x</code></li>
<li>To swap a specific module for another:
<code>module switch x y</code></li>
</ul>
<h2 id="some-commands-1">28.2. Some Commands</h2>
<div class="sourceCode" id="cb47"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="ex">sinfo</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a><span class="ex">squeue</span></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a><span class="ex">scontrol</span> show partition/node/....</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a><span class="ex">scancel</span> <span class="er">(</span><span class="ex">process_id</span><span class="kw">)</span></span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Don&#39;t forget to load modules - e.g. -&gt; module load gcc-8.1, module load openmpi/4.0.1</span></span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a><span class="ex">module</span> avail <span class="co"># to see modules</span></span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a><span class="ex">srun</span> <span class="at">-n</span> 1 <span class="at">-p</span> partition bash <span class="co"># takes me to a shell inside the node</span></span></code></pre></div>
<p>Launch Script:</p>
<div class="sourceCode" id="cb48"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!bin/bash</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a><span class="co">#SBATCH # instrucoes ao sbatch</span></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a><span class="ex">./ficheiro.out</span></span></code></pre></div>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="network">29. Network</h1>
<h2 id="network-not-connecting-at-startup">29.1. Network not connecting
at startup</h2>
<ul>
<li><code>systemctl restart NetworkManager</code></li>
</ul>
<h2 id="mac-address">29.2. MAC address</h2>
<ul>
<li>To find the default device -&gt; <code>ip route list</code></li>
<li>To find the mac address -&gt; <code>ifconfig -a</code></li>
<li>Alternatives:
<ul>
<li><code>ip addr show &amp;&amp; ip addr show device</code></li>
<li><code>ip link show</code></li>
</ul></li>
</ul>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="dmenu_ext">30. Dmenu_ext</h1>
<h2 id="not-opening-paths">30.1. Not opening paths</h2>
<p>Add to mimeapps.list: inode/directory=pcmanfm.desktop;</p>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="nvidia">31. Nvidia</h1>
<h2 id="nvidia-back-screen-on-tty">31.1. NVIDIA back screen on TTY</h2>
<ul>
<li><p>/etc/modprobe.d/blacklist.conf:</p>
<div class="sourceCode" id="cb49"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install</span> i915 /usr/bin/false</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a><span class="fu">install</span> intel_agp /usr/bin/false</span></code></pre></div></li>
</ul>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="cfp-nvidia">32. CFP Nvidia</h1>
<h2 id="vpn-access">32.1. VPN access</h2>
<ul>
<li>Install snx from InfoCiencias</li>
<li>create .snxrc file</li>
<li>connect by snx</li>
<li>disconnect by snx -d</li>
</ul>
<h2 id="first-steps-to-config-account">32.2. First steps to config
account</h2>
<ul>
<li>To create home directory by default: CREATE_HOME yes in
/etc/login.defs</li>
<li>On first login had no home:
<ul>
<li>mkdir /home/username</li>
<li>chown username:username /home/username</li>
<li>cp -rT /etc/skel /home/username -&gt; to populate with default files
and folders</li>
</ul></li>
<li>Generate ssh keys: ssh-keygen</li>
<li>Add .pub key to ~/.ssh/authorized_keys</li>
<li>The default shell was /bin/sh. So that bash works,
<ul>
<li>chsh /bin/bash</li>
</ul></li>
<li>Can check shells by: cat /etc/shells</li>
</ul>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="awk">33. Awk</h1>
<ul>
<li><p>Print every 3 lines</p>
<div class="sourceCode" id="cb50"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">awk</span> <span class="st">&#39;NR%3==0&#39;</span> file</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a><span class="fu">awk</span> <span class="st">&#39;NR%3==0&#39;</span> file <span class="op">&gt;&gt;</span> tmp <span class="kw">&amp;&amp;</span> <span class="fu">mv</span> tmp file <span class="at">-</span><span class="op">&gt;</span> saving to file</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> ./file_pattern <span class="kw">;</span> <span class="cf">do</span></span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">awk</span> <span class="st">&#39;NR%3==0&#39;</span> <span class="va">$i</span> <span class="op">&gt;&gt;</span> tmp <span class="kw">&amp;&amp;</span> <span class="fu">mv</span> tmp <span class="va">$i</span> </span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a><span class="cf">done</span></span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a><span class="co"># The above cycle iterates over the files in the current directory</span></span></code></pre></div></li>
</ul>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="sublime-text">34. Sublime-Text</h1>
<ul>
<li><p>Go to sublime text webpage, linux repos and find pacman. Follow
the commands</p>
<ul>
<li>Go to preferences -&gt; package control (to install the package
manager)</li>
<li>To install a package: Ctrl + Shift + p (command pallet) -&gt;
Install -&gt; Package name</li>
<li>Imporant packages to install: (To see packges:
Preferences-&gt;Package Control-&gt;List Packages)
<ul>
<li>SFTP</li>
<li>C++ Starting Kit</li>
<li>C++NamespaceTool</li>
<li>ClangFormat</li>
<li>Anaconda</li>
<li>C Improved</li>
<li>C++11</li>
<li>SideBarEnhancements</li>
</ul></li>
</ul></li>
<li><p>Define shorcuts for sftp: Preferences-&gt;Package
Settings-&gt;SFTP-&gt;Key Bindings and write on the file on the right
hand side with the directory: .config/…../Packages/User/… My first
shortcuts were: alt+z(open files) e alt+x(open servers)</p></li>
<li><p>Example file for server setup:</p>
<pre class="text"><code>{
  // The tab key will cycle through the settings when first created
  // Visit https://codexns.io/products/sftp_for_subime/settings for help

  // sftp, ftp or ftps
  &quot;type&quot;: &quot;sftp&quot;,

  &quot;sync_down_on_open&quot;: true,
  &quot;sync_same_age&quot;: true,

  &quot;host&quot;: &quot;176.79.187.130&quot;,
  &quot;user&quot;: &quot;goncalo&quot;,
  //&quot;password&quot;: &quot;&quot;,
  //&quot;port&quot;: &quot;22&quot;,

  &quot;remote_path&quot;: &quot;/home/goncalo/Documents/Optics/NonLinearOptics_Interpolation/&quot;,
  //&quot;file_permissions&quot;: &quot;664&quot;,
  //&quot;dir_permissions&quot;: &quot;775&quot;,

  //&quot;extra_list_connections&quot;: 0,

  &quot;connect_timeout&quot;: 30,
  //&quot;keepalive&quot;: 120,
  //&quot;ftp_passive_mode&quot;: true,
  //&quot;ftp_obey_passive_host&quot;: false,
  //&quot;ssh_key_file&quot;: &quot;~/.ssh/id_rsa&quot;,
  //&quot;sftp_flags&quot;: [&quot;-F&quot;, &quot;/path/to/ssh_config&quot;],

  //&quot;preserve_modification_times&quot;: false,
  //&quot;remote_time_offset_in_hours&quot;: 0,
  //&quot;remote_encoding&quot;: &quot;utf-8&quot;,
  //&quot;remote_locale&quot;: &quot;C&quot;,
  //&quot;allow_config_upload&quot;: false,
}</code></pre></li>
<li><p>To use clang on save:</p>
<ul>
<li><p>Install clang (pacman -S clang) and the clang package in
sublime</p></li>
<li><p>Preferences-&gt;Package Settings-&gt;Clang
Format-&gt;Setting-User:</p>
<pre class="text"><code>{
  &quot;binary&quot;: &quot;/usr/bin/clang-format-3.8&quot; (/path/to/your/clang-format/executable/file),
  &quot;format_on_save&quot;: true,
  &quot;style&quot;: &quot;Custom&quot;,
}</code></pre></li>
<li><p>Preferences-&gt;Package Settings-&gt;Clang Format-&gt;Custom
Style-User:</p>
<pre class="text"><code>{
  &quot;Language&quot;: &quot;Cpp&quot;,
  &quot;TabWidth&quot;: 4,
  &quot;AlignTrailingComments&quot;: &quot;true&quot;,
  &quot;UseTab&quot;: &quot;Never&quot;,
}
or 
Language: Cpp
BreakBeforeBraces: Attach
PointerAlignment: Right
TabWidth: 4
IndentWidth: 4
AccessModifierOffset: 0
ColumnLimit: 120
NamespaceIndentation: All
AlignTrailingComments: true
AllowAllParametersOfDeclarationOnNextLine: true
AlwaysBreakTemplateDeclarations: true
UseTab: Never</code></pre></li>
</ul></li>
</ul>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="config-printer">35. Config-Printer</h1>
<h2 id="cups">35.1. CUPS</h2>
<ul>
<li><p>Packages to install:</p>
<ul>
<li>cups, cups-filters, liblouis, qpdf, cups-pdf, python-pycups,
python-pycurl, gsfonts</li>
<li>system-config-printer</li>
</ul></li>
<li><p>Services to activate</p>
<div class="sourceCode" id="cb54"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> systemctl enable <span class="at">--now</span> cups.service</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> systemctl enable <span class="at">--now</span> cups.socket</span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> systemctl enable <span class="at">--now</span> cups.path</span></code></pre></div></li>
<li><p>List services:
<code>sudo systemctl -a list-units | grep -i cups</code></p></li>
<li><p>Configuration:</p>
<ul>
<li>Verify the following user groups are set in file
/etc/cups/cups-files.conf <code>SystemGroup sys root wheel</code></li>
<li>Associate a user to the “sys” group by replacing “username” below:
<code>gpasswd -a username sys</code></li>
</ul></li>
<li><p>Add A Printer Using CUPS Web Interface</p>
<ul>
<li>Open “Manage Printing” or browse to http://localhost:631/</li>
<li>Click on “Administration” at the top of the web page.</li>
<li>Click on “Add Printers”.</li>
<li>Select the desired printer under “Discovered Network Printers” and
click the “Continue” button.</li>
<li>Set the “Name”, “Description” and “Location” and then clock on the
“Continue” button.</li>
<li>Select the “Model” of printer and click the “Add Printer”
button.</li>
<li>Select default options and click the “Set Default Options”
button.</li>
</ul></li>
<li><p>Add A Printer Using Printer Settings This utilizes “Printer
Settings” (system-config-printer package) a native GUI application.</p>
<ul>
<li>Open “Printer Settings”.</li>
<li>Click on the “Unlock” button.</li>
<li>Click on the “Add” button.</li>
<li>Select the desired printer and click the “Forward” button.</li>
<li>Set the desired “Printer Name”, “Description” and “Location”.</li>
<li>Click the “Apply” button.</li>
</ul></li>
</ul>
<p>After these steps, it should work. Do not need to go for
avahi!!!!</p>
<h2 id="avahi">35.2. AVAHI</h2>
<ul>
<li>Packages to install:
<ul>
<li>avahi, nss-mdns</li>
</ul></li>
<li><code>sudo systemctl enable avahi-daemon.service</code></li>
<li>edit the file /etc/nsswitch.conf and change the hosts line to
include <code>mdns_minimal [NOTFOUND=return]</code> before the word
resolve</li>
<li>avahi-browse –all –ignore-local –resolve –terminate or</li>
<li>avahi-discover (needs gtk3, dbus-python and python-gobject)</li>
</ul>
<p>The question is not avahi or cups but : Do I need/want printer
autodiscovery or not ? If answer is yes &gt; enable avahi , if answer is
no &gt; disable avahi Either use cups or cups + avahi</p>
<h2 id="hp-scanner">35.3. HP SCANNER</h2>
<ul>
<li>wiki page: SANE/Scanner-specific problems</li>
<li>pacman -S sane-airscan ipp-usb</li>
<li>pacman -S hplip</li>
<li>Go to system-config-printer and now add printer (printing should
work from now on). In order to scan:
<ul>
<li><code>hp-makeuri &lt;scanner_ip&gt; / scanimage -L</code></li>
<li><code>scanimage --device "&lt;hpaio:/net....&gt;" --format=png --resolution 300 &gt;scan.png</code></li>
</ul></li>
</ul>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="sway">36. Sway</h1>
<h2 id="packages-to-check-for-base-arch-install">36.1. Packages to check
for base arch install</h2>
<div class="sourceCode" id="cb55"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pacman</span> <span class="at">-S</span> grub efibootmgr networkmanager network-manager-applet dialog wpa_supplicant mtools dosfstools reflector base-devel linux-headers avahi xdg-user-dirs xdg-utils gvfs gvfs-smb nfs-utils inetutils dnsutils bluez bluez-utils cups hplip alsa-utils bash-completion openssh rsync reflector acpi acpi_call tlp virt-manager qemu qemu-arch-extra edk2-ovmf bridge-utils dnsmasq vde2 openbsd-netcat iptables-nft ipset firewalld flatpak sof-firmware nss-mdns acpid os-prober ntfs-3g terminus-font</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="ex">pacman</span> <span class="at">-S</span> xdg-desktop-portal-wlr</span></code></pre></div>
<h2 id="services">36.2. Services</h2>
<div class="sourceCode" id="cb56"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="ex">systemctl</span> enable NetworkManager</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a><span class="ex">systemctl</span> enable bluetooth</span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a><span class="ex">systemctl</span> enable cups.service</span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a><span class="ex">systemctl</span> enable sshd</span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a><span class="ex">systemctl</span> enable avahi-daemon</span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a><span class="ex">systemctl</span> enable tlp <span class="co"># You can comment this command out if you didn&#39;t install tlp, see above</span></span>
<span id="cb56-7"><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a><span class="ex">systemctl</span> enable reflector.timer</span>
<span id="cb56-8"><a href="#cb56-8" aria-hidden="true" tabindex="-1"></a><span class="ex">systemctl</span> enable fstrim.timer</span>
<span id="cb56-9"><a href="#cb56-9" aria-hidden="true" tabindex="-1"></a><span class="ex">systemctl</span> enable libvirtd</span>
<span id="cb56-10"><a href="#cb56-10" aria-hidden="true" tabindex="-1"></a><span class="ex">systemctl</span> enable firewalld</span>
<span id="cb56-11"><a href="#cb56-11" aria-hidden="true" tabindex="-1"></a><span class="ex">systemctl</span> enable acpid</span></code></pre></div>
<h2 id="sway-install-from-yt">36.3. Sway install from YT:</h2>
<p><code>pacman -S sway swaylock swayidle xorg-xwayland ttf-font-awesome</code></p>
<h2 id="sway-my-experience">36.4. Sway my experience</h2>
<h3 id="packages">36.4.1. Packages</h3>
<div class="sourceCode" id="cb57"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pacman</span> <span class="at">-S</span> sway swaylock</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="ex">pacman</span> <span class="at">-S</span> mako grim</span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a><span class="ex">yay</span> <span class="at">-S</span> grimshot</span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a><span class="ex">pacman</span> <span class="at">-S</span> wl-clipboard</span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a><span class="ex">pacman</span> <span class="at">-S</span> light <span class="er">(</span><span class="ex">manage</span> brightness<span class="kw">)</span></span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a><span class="ex">pacman</span> <span class="at">-S</span> playerctl <span class="er">(</span><span class="ex">waybar</span> config<span class="kw">)</span></span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a><span class="ex">pacman</span> <span class="at">-S</span> waybar</span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a><span class="ex">yay</span> <span class="at">-S</span> swaylock-effects-git</span>
<span id="cb57-9"><a href="#cb57-9" aria-hidden="true" tabindex="-1"></a><span class="ex">pacman</span> <span class="at">-S</span> swayidle</span>
<span id="cb57-10"><a href="#cb57-10" aria-hidden="true" tabindex="-1"></a><span class="ex">pacman</span> <span class="at">-S</span> xdg-desktop-portal-wlr</span>
<span id="cb57-11"><a href="#cb57-11" aria-hidden="true" tabindex="-1"></a><span class="ex">pacman</span> <span class="at">-S</span> dex</span>
<span id="cb57-12"><a href="#cb57-12" aria-hidden="true" tabindex="-1"></a><span class="ex">yay</span> <span class="at">-S</span> rambox-bin</span>
<span id="cb57-13"><a href="#cb57-13" aria-hidden="true" tabindex="-1"></a><span class="ex">yay</span> <span class="at">-S</span> albert-minimal</span>
<span id="cb57-14"><a href="#cb57-14" aria-hidden="true" tabindex="-1"></a><span class="ex">pacman</span> <span class="at">-S</span> pamixer</span>
<span id="cb57-15"><a href="#cb57-15" aria-hidden="true" tabindex="-1"></a><span class="ex">pacman</span> <span class="at">-S</span> brightnessctl</span>
<span id="cb57-16"><a href="#cb57-16" aria-hidden="true" tabindex="-1"></a><span class="ex">yay</span> <span class="at">-S</span> nordic-theme</span>
<span id="cb57-17"><a href="#cb57-17" aria-hidden="true" tabindex="-1"></a><span class="ex">yay</span> <span class="at">-S</span> clipman</span>
<span id="cb57-18"><a href="#cb57-18" aria-hidden="true" tabindex="-1"></a><span class="co"># installed i3-quickterm from github: https://github.com/lbonn/i3-quickterm.git</span></span></code></pre></div>
<h3 id="configuration">36.4.2. Configuration</h3>
<ul>
<li>The first config lines are concerned with environment variables
needed to make gtk applications launch faster:
<ul>
<li>exec systemctl –user import-environment DISPLAY WAYLAND_DISPLAY
SWAYSOCK</li>
<li>exec hash dbus-update-activation-environment 2&gt;/dev/null
&amp;&amp;<br />
dbus-update-activation-environment –systemd DISPLAY WAYLAND_DISPLAY
SWAYSOCK</li>
</ul></li>
<li>The keyboard and touchpad are configured in sway config. To get the
inputs run: swaymsg -t get_inputs</li>
<li>using i3-quickterm to have a dropdown menu. Need to install rofi for
it to work but I can also use i3-quickterm shell and then I do not need
to install rofi.</li>
<li>binding albert in config with exec albert toggle</li>
<li>using swaylock-effects-git for sway lock</li>
<li>Using “exec grimshot copy area” for screenshots (requires
wl-clipboard)</li>
<li>Bind media keys (brightness and volume) on config. Associated icons
to notifications. The icons are from Arc-X-D package.</li>
<li>If I want to use light, need to add the following line to sudoers:
%wheel ALL=(root) NOPASSWD: /usr/bin/light</li>
<li>Install playerctl for these controls and waybar.</li>
<li>For the autostart applications, need to add the flag –indicator to
nm-applet</li>
<li>For the dual monitor, check the monitor with swaymsg -t
get_outputs</li>
<li>Sway doesn’t work very well with lightdm -&gt; use lydm -&gt;
systemctl enable ly.service -f</li>
<li>Instead of using ly, simply use .zprofile to login. For it to work,
need whiptail and Rebelo’s package shiftstate (it is on lap_dotfiles).
Ctr+Enter after putting pw on tty takes me to a tui to choose the wm.
Shift+Enter takes me to tty login</li>
<li>The env variable MOZ_ENABLE_WAYLAND=1 enables to run firefox on
wayland mode. However, it doesn’t load the gtk theme this way. Then, I
added to .confi/sway/env the flag GTK_THEME=Nordic. Need to change this
in accordance to the gtk theme I want</li>
</ul>
<h3 id="fix-cannot-open-display">36.4.3. Fix cannot open display</h3>
<p><code>pacman -S xorg-server-xwayland</code></p>
<h3 id="mathematica">36.4.4. Mathematica</h3>
<ul>
<li>In order to run mathematica:
<code>QT_QPA_PLATFORM="xcb" mathematica &amp;</code></li>
<li>A better way is to add a folder: <span class="math inline">$HOME/bin
and the following script name mathematica (same name as the original in
/usr/local/bin): ```bash #!/bin/sh QT_QPA_PLATFORM="xcb"
/usr/local/bin/mathematica "$</span>@” ```</li>
<li>Then, if in sway, add to the env script in .config/sway the
following line: <code>PATH="${HOME}/bin:${PATH}"</code> The fact that
$HOME/bin comes before path overrides the original mathematica
script!Now, I can launch mathematica from dmenu</li>
<li>Although the above steps solve the problem when we call the binary
mathematica, it doesn’t solve the problem when we want to open a
mathematica notebook through the file manager. To solve that problem I
need to change the wolfram-mathematica12.desktop file in
/usr/share/applications/wolfram-mathematica12.desktop. In the field exec
I need to put the path to $HOME/bin/mathematica script. I saved the
original desktop file in
/usr/share/applications/mathematica.desktop.</li>
<li>mathematica was crashing with 3D graphics. Solution: run mathematica
with mesa: mathematica -mesa notebook_name.</li>
</ul>
<h3 id="zoom">36.4.5. Zoom</h3>
<ul>
<li>Currently doesn’t allow for sreen sharing. Use zoom in firefox and
it works fine!</li>
<li>Eventually try XGD_CURRENT_DESKTOP=gnome zoom</li>
</ul>
<h3 id="albert">36.4.6. Albert</h3>
<ul>
<li>albert crashing after search or cancelling search: rm
.config/albert/core.db</li>
</ul>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="rclone">37. Rclone</h1>
<h2 id="config">37.1. Config</h2>
<ul>
<li>rclone is best configured using ssh-agent:
<ul>
<li>rclone config</li>
</ul></li>
<li>new remote</li>
<li>Storage &gt; sftp</li>
<li>host: 192.168.1.64 (e.g)</li>
<li>user: goncalo (e.g)</li>
<li>ssh port: blank</li>
<li>To use ssh-agent, leave all the other options blank (and eventually
refuse them)</li>
</ul>
<h2 id="rclone-union">37.2. Rclone union</h2>
<pre class="text"><code>[paulo_http_single]
type = http
url = https://joserebelo:PASSWORD@paulo

[paulo_http]
type = union
upstreams = paulo_http_single:/:ro /cache/union</code></pre>
<ul>
<li>The first part on the union config is read-only but
<code>/cache/union</code> is not, allowing to add our own stuff</li>
<li>We need to mount (for the union to work) the
<code>[paulo_http]</code> one.</li>
<li>what we write in the mounted drive will go to /cache/union and
reading merges both</li>
</ul>
<h2 id="problem">37.3. Problem</h2>
<ul>
<li><p>NewFs: couldn’t connect SSH: ssh: handshake failed: ssh: unable
to authenticate, attempted methods [none publickey], no supported
methods remain</p></li>
<li><p>This was happening because of the type of keys. I should
generate: ssh-keygen -t ed25519</p></li>
<li><p>Solution: add to /etc/ssh/sshd_config:
PubkeyAcceptedAlgorithms=+ssh-rsa</p></li>
<li><p>I should also add:</p>
<pre class="text"><code>PermitRootLogin no
PasswordAuthentication no</code></pre></li>
</ul>
<h2 id="sync">37.4. Sync</h2>
<ul>
<li><code>rclone sync /home/goncalo/Documents pi:/home/goncalo/HDD/Documents/Backups/Laptop/Documents --log-file /home/goncalo/.local/my_logs/backup.log -v --exclude lap_dotfiles/ --transfers=8 --progress</code></li>
<li>-i flag asks question about copying</li>
</ul>
<h2 id="onedrive">37.5. OneDrive</h2>
<ul>
<li><code>rclone copy UsefulScripts OneDrive:Documents/UsefulScripts</code>
(copies the contents of UsefulScripts -&gt; therefore I copy to
Documents/UsefulScripts, otherwise would populate Documents with its
contents)</li>
</ul>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="pipewire">38. Pipewire</h1>
<ul>
<li><code>pacman -S pipewire</code></li>
<li><code>pacman -S pipewire-pulse</code>. Remove pulseaudio and
pulseaudio-bluetooth</li>
<li>It automatically creates symlink
<code>/etc/systemd/user/sockets.target.wants/pipewire-pulse.socket → /usr/lib/systemd/user/pipewire-pulse.socket</code></li>
<li>Disable pulseaudio on sway config</li>
<li><code>pacman -S libpulse</code> (comes with pulseaudio)</li>
<li><code>pacman -Qo pactl</code></li>
<li>bluetooth should not be affected by this</li>
<li>pacmd used by volume-script no longer works. Need to use amixer
(which comes with alsa-utils) to check if muted or not.</li>
</ul>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="fail2ban">39. Fail2Ban</h1>
<ul>
<li><code>pacman -S fail2ban</code></li>
<li>enable/start fail2ban.service</li>
</ul>
<h2 id="configuration-1">39.1. Configuration</h2>
<p>Edit file /etc/fail2ban/jail.local:</p>
<pre class="text"><code>[DEFAULT]
bantime = -1
findtime = 1d
maxretry = 5

[sshd]
enabled = true</code></pre>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="systemd-user">40. Systemd-User</h1>
<ul>
<li>Can configure <code>/etc/systemd/user.conf</code> and set the
default environment for the units. Affects all user units:</li>
</ul>
<pre class="text"><code>[Manager]
DefaultEnvironment=&quot;PATH=/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl:/opt/vc/bin:/home/goncalo/.local/bin&quot;

DefaultEnvironment=&quot;VAR1=word1 word2&quot; VAR2=word3 &quot;VAR3=word 5 6&quot; -&gt; Sets three variables &quot;VAR1&quot;, &quot;VAR2&quot;, &quot;VAR3&quot;.</code></pre>
<ul>
<li><code>systemctl status &lt;name&gt;.service</code> to show the
status of a given service. The PID is also shown.
<code>sudo strings /proc/&lt;PID&gt;/environ</code> allows to look at
the actual environment of the process.</li>
<li>For services of <code>Type=oneshot</code>, the behavior is similar
to simple - but the service manager will consider the unit up after the
main process exits. <code>oneshot</code> can be used with
<code>RemainAfterExit</code>. For the case of the while loop, I do not
want any of these, since if the script exits, then it means it finished.
With <code>Type=oneshot</code>, the <code>systemctl --start</code>
command left hanging.</li>
<li>Useful link <a
href="https://stackoverflow.com/questions/39032100/what-is-the-difference-between-systemds-oneshot-and-simple-service-types">stack
overflow</a>.</li>
</ul>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="systemd-resolved">41. Systemd-Resolved</h1>
<p><code>/etc/systemd/resolved.conf</code>:</p>
<pre class="text"><code>[Resolve]
DNS=1.1.1.1#cloudflare-dns.com 9.9.9.9#dns.quad9.net
FallbackDNS=1.0.0.1#cloudflare-dns.com 9.9.9.10#dns.quad9.net
DNSSEC=yes
DNSOverTLS=yes
Cache=yes
CacheFromLocalhost=no
DNSStubListener=yes
ReadEtcHosts=yes</code></pre>
<p><code>/etc/resolv.conf</code>:</p>
<p><code>ln -rsf /run/systemd/resolve/stub-resolv.conf /etc/resolv.conf</code></p>
<p><code>/etc/NetworkManager/NetworkManager.conf</code>:</p>
<pre class="text"><code>[main]
# Ignore network-provided dns
dns = none</code></pre>
<h2 id="activate-service">41.1. Activate Service:</h2>
<p><code>systemctl enable systemd-resolved.service</code></p>
<h2 id="systemd-networkd">41.2. systemd-networkd</h2>
<p>I can force the dns of a given interface like this:</p>
<pre class="text"><code>Edit sudo cat /etc/systemd/network/vpn.network

[Match]
Name=vpn*

[Network]
DHCP=yes
DNS=10.0.1.2
Domains=~critical.pt</code></pre>
<p>where <code>Name</code> needs to match the name of the interface.</p>
<p>Then, simply: <code>systemctl start systemd-networkd</code>.</p>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="dual-boot">42. Dual Boot</h1>
<h2 id="windows-after-linux">42.1. Windows After Linux</h2>
<ul>
<li>Install windows;</li>
<li>Boot live iso; mount disk with linux:
<ul>
<li><code>mount /dev/sdX2 /mnt</code></li>
<li><code>mount /dev/sdX1 /mnt/boot/efi</code></li>
<li><code>manjaro-chroot /mnt</code></li>
<li><code>update-grub</code></li>
</ul></li>
<li>If windows keeps changing boot entry order:
<ul>
<li>Install EasyUefi (easyuefi.com)
<ul>
<li>Go to Manage EFI boot option</li>
</ul></li>
<li>Check the path to the manjaro boot option</li>
<li><code>Bcdedit /set {bootmgr} path path\from\above\step</code>
(e.g. 64.efi)</li>
</ul></li>
</ul>
<h2 id="fix-windows-bootloader-gone">42.2. Fix Windows bootloader
Gone</h2>
<ul>
<li>shift+f10</li>
<li>diskpart</li>
<li>list disk</li>
<li>select disk X (Where windows was installed)</li>
<li>list volume</li>
<li>select volume Y</li>
<li>assign letter=Z (where Z is the letter you want to “mount”)</li>
<li>do the same to efi partition:
<ul>
<li>list disk</li>
<li>select disk X (Where is the EFI partition)</li>
<li>list volume</li>
<li>select volume volume-number</li>
<li>assign letter=M</li>
</ul></li>
<li>exit diskpart (exit)</li>
<li>run:
<code>bcdboot &lt;Letter-Assigned-To-Windows&gt;:\Windows</code> eg:
bcdboot Z:
<ul>
<li>optionally: <code>bcdboot Z:\Windows /s M:</code> (/s copies to
drive M)</li>
</ul></li>
<li>Unmount devices:
<ul>
<li>diskpart</li>
<li>list volume</li>
<li>select volume VOLUME-NUMBER</li>
<li>remove letter DRIVE_LETTER</li>
</ul></li>
</ul>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="rp-monitor">43. RP Monitor</h1>
<ul>
<li>for the monotoring need 3 docker containers: grafana, influxdb
(database), telegraf
<ul>
<li>the ports on docker-compose need to match the ones in
telegraf.conf</li>
<li>In the telegraf conf:
<ul>
<li>urls: needs to be 127.0.0.1:(port of docker compose)</li>
<li>username and pw must match what I put in influxdb</li>
<li>hostname must be the one on of pi</li>
</ul></li>
</ul></li>
</ul>
<h2 id="create-db-in-influxdb">43.1. Create db in influxdb</h2>
<div class="sourceCode" id="cb65"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> exec <span class="at">-it</span> influxdb bash </span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a><span class="ex">influx</span></span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a><span class="ex">CREATE</span> USER <span class="st">&quot;grafana&quot;</span> WITH PASSWORD <span class="st">&#39;qwe&#39;</span> <span class="er">(</span><span class="ex">pw</span> configured in grafana<span class="kw">)</span></span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a><span class="ex">CREATE</span> USER <span class="st">&quot;telegraf&quot;</span> WITH PASSWORD <span class="st">&#39;asd&#39;</span> <span class="er">(</span><span class="ex">pw</span> put on config<span class="kw">)</span></span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a><span class="ex">CREATE</span> DATABASE <span class="st">&quot;pi&quot;</span></span>
<span id="cb65-6"><a href="#cb65-6" aria-hidden="true" tabindex="-1"></a><span class="ex">GRANT</span> ALL ON <span class="st">&quot;pi&quot;</span> TO <span class="st">&quot;grafana&quot;</span></span>
<span id="cb65-7"><a href="#cb65-7" aria-hidden="true" tabindex="-1"></a><span class="ex">GRANT</span> ALL ON <span class="st">&quot;pi&quot;</span> TO <span class="st">&quot;telegraf&quot;</span></span>
<span id="cb65-8"><a href="#cb65-8" aria-hidden="true" tabindex="-1"></a><span class="ex">SHOW</span> DATABASES</span></code></pre></div>
<h2 id="config-grafana">43.2. CONFIG GRAFANA</h2>
<ul>
<li>add data source:
<ul>
<li>Configuration -&gt; Data Sources:</li>
<li>url: http://influxdb:8086</li>
<li>database: pi</li>
<li>User: grafana (same as defined in influxdb)</li>
<li>Pw: same as defined in influxdb</li>
</ul></li>
<li>import dashboard:
<ul>
<li>ID: 10578</li>
<li>Select data source added above</li>
</ul></li>
</ul>
<h2 id="notes">43.3. Notes</h2>
<ul>
<li>In order to restart a container do docker-compose up container_name
(this reloads the yml if it changed); otherwise use docker-compose
restart container_name</li>
<li><code>docker rm -f container_name</code> (deletes container)</li>
<li><code>docker inspect influxdb | jq ".[0].Config.Volumes"</code></li>
<li>In telegram.conf I need 127.0.0.1 : nas portas means “bind to all
addresses” mas aqui quero mesmo aceder ao localhost</li>
</ul>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="docker">44. Docker</h1>
<ul>
<li><p><code>pacman -S docker docker-compose</code></p></li>
<li><p><code>systemctl enble docker.service</code></p></li>
<li><p>docker info;
<code>sudo chmod 666 /var/run/docker.sock</code></p></li>
<li><p>On folder, run: <code>docker-compose up -d</code></p></li>
<li><p>To access things on the web, check the port on .yml file and:
http://localhost:8080</p></li>
<li><p>To access using any device on the network, substitute 127.0.0.1
to 0.0.0.0 in all containers in the .yml file Then, only need to do
ip(192.168.1.64):port on any device and it will work.</p></li>
<li><p>Login on web: admin, pw: adminadmin</p></li>
<li><p>On qbittorrent, tools-&gt;options-&gt;default save path:
/downloads/</p>
<p>Notes on the downloads folder:</p>
<ul>
<li>It is important that this folder is mounted to some directory on my
computer (check docker-compose) and that this mount point is the same in
radarr/sonarr. Radarr/sonarr will check the download folder in the
qbittorrent settings (which is /downloads) and will therefore look in
the directory /downloads. Therefore, /downloads must be a volume in
docker-compose and should point to the same folder as in
qbittorrent.</li>
</ul></li>
<li><p>On qbittorrent, tools-&gt;options-&gt;(under automatically add
torrents from) Monitored Folder -&gt; /blackhole</p></li>
<li><p>Get image: https://hub.docker.com/r/linuxserver/radarr</p></li>
<li><p><code>docker ps -a</code> -&gt; check running containers</p></li>
<li><p>To set pw and username on qbittorrent: Tools -&gt; Options -&gt;
Connection -&gt; Authentication</p></li>
<li><p>Rebuild image: docker-compose build rclone-extension
–no-cache</p></li>
</ul>
<h2 id="jacket">44.1. Jacket</h2>
<ul>
<li>http://localhost:9117</li>
<li>Add indexer -&gt; RARBG and 1337x;</li>
</ul>
<h2 id="sonarr">44.2. Sonarr</h2>
<ul>
<li><p>Download clients -&gt; Clicl + -&gt; Select qbittorrent -&gt;
host é qbittorrent (you can access containers by name)</p></li>
<li><p>Port: 8080</p></li>
<li><p>Username and Pw : same as qbittorrent login (admin,
adminadmin)</p></li>
<li><p>We can access a container from the terminal: docker exec -it
qbittorrent bash</p></li>
<li><p>Go to Indexers -&gt; Select Torznab -&gt; In URL paste the
Torznab feed from jackett (and change localhost to jackett in the
URL)</p></li>
<li><p>Add API key from jackett (on top of the page)</p></li>
<li><p>If this doesn’t work, change dns:</p>
<ul>
<li><code>vim /etc/resolv.conf</code></li>
<li><code>nameserver 1.1.1.2</code></li>
</ul></li>
<li><p>vim /etc/NetworkManager/NetworkManager.conf</p>
<pre class="text"><code>[main]
# Ignore network-provided dns
dns = none</code></pre></li>
<li><p>check if I can ping from jackett:
<code>docker exec -it jackett bash; curl 1337x.to</code></p></li>
<li><p><code>systemctl restart docker</code></p></li>
<li><p><code>docker-compose up -d</code></p></li>
<li><p>When adding series, the root folder should be: /media -&gt; this
is mapped to a volume outside the container</p></li>
<li><p>qbittorrent downloads to /downloads and sonarr moves it to
/media</p></li>
<li><p>old episodes on sonarr must be downloaded manually</p></li>
<li><p>A lupa saca automatico e o boneco deixa escolher o
torrent</p></li>
<li><p>If I can’t add indexer, I can add one that I know that works and
then edit it and substitute the url for the one I want to add.</p></li>
<li><p>Add series on read-only file system:</p>
<ul>
<li>Mount read-only fs inside container</li>
<li>Add new series to default path where sonarr can write</li>
<li>Open sqlitebrowser -&gt; Open Database -&gt; sonardb (inside config
folder in container) -&gt; In table, select Series -&gt; find series
-&gt; Select Path -&gt; Change on the right</li>
</ul></li>
</ul>
<h3 id="add-manually-downloaded-season">44.2.1. Add manually downloaded
season</h3>
<ul>
<li>Go to Wanted on the meny on the left</li>
<li>Manual Import</li>
<li>Select Folder with manually downloaded season</li>
<li>Move automatically</li>
</ul>
<h3 id="add-manually-downloaded-movie-radarr">44.2.2. Add manually
downloaded movie (Radarr)</h3>
<ul>
<li>Go to movies main section (where all movies are)</li>
<li>Manual Import (at the top bar)</li>
<li>Select movie to import</li>
<li>Move automatically</li>
</ul>
<h2 id="system-service-to-run-docker">44.3. System service to run
docker</h2>
<pre class="text"><code>/etc/systemd/system/docker-compose.service

[Unit]
Description=Docker Compose Service
Requires=docker.service
After=docker.service
After=network-online.target
Wants=network-online.target

[Service]
Type=oneshot
RemainAfterExit=yes
WorkingDirectory=/home/jose/dotfiles/pi
ExecStart=/usr/sbin/docker-compose up -d
ExecStop=/usr/sbin/docker-compose down
TimeoutStartSec=0

[Install]
WantedBy=multi-user.target</code></pre>
<h2 id="rclone-dlna">44.4. Rclone DLNA</h2>
<ul>
<li>Settings -&gt; Download clients -&gt; Advanced options -&gt; Enable
remove imported downloads from download client history</li>
<li>This is streaming the /media folder to my network</li>
<li>In VLC go to view -&gt; playlist -&gt; local network -&gt; universal
plug and play</li>
</ul>
<h2 id="transdrone">44.5. Transdrone</h2>
<p>Description: App for android to manage torrents</p>
<h2 id="jellyfin">44.6. JellyFin</h2>
<ul>
<li><p>drive ntfs -&gt; does not support inotify -&gt; scan manually:
Settings -&gt; dashboard -&gt; scan all libraries</p></li>
<li><p>In order to change folder go to settings -&gt; Dashboard -&gt;
Libraries</p></li>
<li><p>If informations are not correct, select movie or series and click
identify</p></li>
<li><p>Do not watch jellyfin on browser. Instead, yay -S
jellyfin-media-player</p></li>
<li><p>DNLA</p>
<ul>
<li>add to yml: “network_mode: host” on jellyfin container and remove
ports section</li>
</ul></li>
</ul>
<h2 id="qbittorrent">44.7. QBitTorrent</h2>
<ul>
<li>In order to stop seeding go to tools -&gt; bittorrent -&gt; seeding
limits -&gt; min ratio 0.01 -&gt; max seed time 1 minute (Pause torrent,
remove doesnt work)</li>
</ul>
<h2 id="bazarr">44.8. Bazarr</h2>
<ul>
<li>Go to settings -&gt; Languages -&gt; Add New Profile -&gt; Add
desired languages -&gt; Below this option, check the boxes Series and
Movies and choose the profile just created in the step before</li>
</ul>
<h2 id="organizrr">44.9. Organizrr</h2>
<ul>
<li>In order for qbittorrent to work: Tools -&gt; WebUI -&gt; Untick
“Enable clickjacking protection” and “Enable Cross-Site Request Forgery
protection”</li>
</ul>
<h2 id="nginx">44.10. NginX</h2>
<ul>
<li><p>Need to get nginx.conf and proxy.conf from swag github;</p></li>
<li><p>On the nginx.conf carefull with the following lines:</p>
<ul>
<li>include /config/nginx/worker_processes.conf;</li>
<li>include /config/nginx/resolver.conf;</li>
</ul></li>
<li><p>/config/nginx/resolver.conf:</p>
<ul>
<li><code>resolver  127.0.0.11 valid=30s;</code> (note that the “;” is
important in these files</li>
</ul></li>
<li><p>The configs to reverse proxy can be found in github:
linuxserver/reverse-proxy-confs (I want the subfolder ones)</p></li>
<li><p>In order to setup the sonarr, jackett, etc reverse-proxy config,
I need to read the config because it asks to change the Base URL,
etc</p></li>
<li><p>In order to setup grafana, needed to add to the docker-compose
config:</p>
<ul>
<li>environment:
<ul>
<li>“GF_SERVER_ROOT_URL=%(protocol)s://%(domain)s:%(http_port)s/grafana/”</li>
</ul></li>
</ul></li>
<li><p>The above configs only have the “location” block which goes
inside the server block. The default server config can be found in
/config/nginx/site-confs/default. There, I should add “include
/config/nginx/proxy-confs/.*subfolder.conf;” and comment both “location”
blocks there.</p></li>
<li><p>The organizr config has as upstream_port port 80. In
docker-compose.yml, organizr has host post 9983 mapped to port 80 on the
container. However, nginx bypasses that and goes straight to port 80 on
the container -&gt; that’s why the reverse proxy config works.</p></li>
<li><p>It happened that, when I connected to organizr behind the nginx
server, I could not login. This happened because the browser was
rejecting cookies. The problem was in proxy.conf file. It assumed it was
in https. Only need to comment the lines:</p>
<ul>
<li><code>proxy_set_header X-Forwarded-Proto https;</code></li>
<li><code>proxy_set_header X-Forwarded-Ssl on;</code></li>
</ul></li>
<li><p>Changed all port mapping in docker-compose.yml to 127.0.0.1:port
so it can only be access from pi. Since everything is reverse proxied,
it’s fine</p></li>
<li><p>The nginx docker-compose config has in port section:</p>
<ul>
<li>80:80 which defaults to 0.0.0.0:80:80 (that’s why I can access nginx
from the entire network)</li>
</ul></li>
<li><p>In order to reverse-proxy emby I commented out the line
“network_mode: host” otherwise the reverse-proxy config does not work by
default. If I want to use “network_mode: host” I need change the
reverse-proxy config: “set $upstream_app emby” -&gt; “set $upstream_app
10.0.10.1”. Inside emby, in Network, need to change “Secure connection
mode” to “Handled by reverse proxy”. One thing I noticed was that UPnP
was not working. In order for it to work, in emby, I need to add, in
Network -&gt; Lan Networks: 192.168.0.0/24, 10.0.10.0/24</p></li>
<li><p>Couldn’t find rclone serve dlna in laptop with firewalld. Use
firewall gui, go to options -&gt; change zones of connections -&gt;
select my network and put it as home. Then, select my network in
connections, in zones tab select home, then services, and tick
upnp-client</p></li>
<li><p>In the media reverse proxy config, the lines: “alias /media” and
“facyindex on” are the ones responsible to show the content of the
folder /media of the container (folder where I wanna mount the stuff I
wanna show). Note that I also need to “git clone
https://github.com/alehaa/nginx-fancyindex-flat-theme.git” and</p>
<pre class="text"><code>sed -i &#39;/&lt;small&gt;/,/&lt;\/small&gt;/d&#39; &quot;$FANCYINDEX_THEME_PATH/layout/footer.html&quot;
sed -i &quot;s/File Browser/$(cat /etc/hostname) \| media/g&quot; -i &quot;$FANCYINDEX_THEME_PATH/layout/header.html&quot;
sed -i &quot;s/&#39;Home&#39;/&#39;&#39;/g&quot; -i &quot;$FANCYINDEX_THEME_PATH/layout/js/breadcrumbs.js&quot;</code></pre></li>
</ul>
<h2 id="some-important-concepts">44.11. Some Important Concepts</h2>
<ul>
<li><p>Docker bypasses iptables</p></li>
<li><p>localhost de um container não é o mesmo que de outro (estao
isolados)</p></li>
<li><p>Can’t specify ports with network_mode host</p></li>
<li><p>In iptables.rules, the line:
<code>":FORWARD DROP [0:0]"</code></p>
<p>blocks all forwarded packets</p></li>
<li><p>If I want to find the docker ip of a container:
<code>docker network inspect -f '{{range .IPAM.Config}}{{.Subnet}}{{end}}' &lt;container_id&gt;</code></p></li>
<li><p>The <code>&lt;container_id&gt;</code> can be found by running
<code>docker ps -a</code></p></li>
<li><p><code>docker inspect &lt;container_name&gt;</code></p></li>
<li><p><code>docker stop/logs/(rm -f)/restart &lt;container_name&gt;</code></p></li>
<li><p><code>docker inspect -f '{{range .NetworkSettings.Networks}}{{.IPAddress}}{{end}}' &lt;container_id&gt;</code></p></li>
<li><p><code>docker images -&gt; prints images of containers</code></p></li>
<li><p><code>docker image inspect &lt;image_id_from_above_step&gt;</code></p></li>
<li><p><code>docker manifest inspect --verbose &lt;container_name&gt;</code></p></li>
</ul>
<h2 id="update-containers">44.12. Update Containers</h2>
<ul>
<li><p><code>docker-compose pull</code></p></li>
<li><p><code>docker-compose up</code></p></li>
<li><p>Container to update containers</p>
<pre class="text"><code>  watchtower:
    container_name: watchtower
    image: containrrr/watchtower:latest
    networks:
      - monitoring
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock
    command: &gt;-
      --cleanup --rolling-restart --schedule &quot;0 0 4 * * *&quot;</code></pre></li>
</ul>
<p>Info: –cleanup doesn’t leave older version on the computer.
–rolling-restart restarts the containers one by one (important to deal
with dependencies) The container pulls automatically</p>
<ul>
<li><code>docker system prune -a</code> (after doing docker-compose up,
otherwise deletes images I just pulled)</li>
<li>list images: <code>docker images -a</code></li>
<li>remove all images:
<code>docker rmi $(docker images -a -q)</code></li>
</ul>
<h2 id="some-notes-based-on-experience">44.13. Some notes based on
experience</h2>
<ul>
<li><code>docker run -it image_name sh</code> -&gt; runs an interactive
shell container using the image “image_name” The above command can be
necessary because if the container is a one-shot, it will simply die
after running: <code>docker run &lt;image_name&gt;</code> However, I can
also do <code>docker run -t -d &lt;image_name&gt; sh</code> and, even
it’s an one-shot, it will be kept alive. Then, I can always do a
<code>docker exec -it &lt;container_id&gt; sh</code> to enter again
inside the container</li>
<li>Other ways of starting a container:
<code>sudo docker create &lt;image_name&gt;; sudo docker start &lt;container_id_from_previous_command&gt;</code></li>
<li><code>docker image history --no-trunc image_name &gt; image_history</code>
-&gt; steps in the Dockerfile</li>
<li><code>docker ps -a</code> -&gt; lists containers and the container
id</li>
<li>save the id in a variable:
<code>container_id=$(docker create image_name)</code></li>
<li>Extracting a file from an image:
<code>docker cp "$container_id:$source_path" "$destination_path"</code></li>
<li>Pushing a file to an image:
<code>docker cp folder/. "&lt;container_id&gt;:/path/in/container"</code>
-&gt; this actually pushes all files inside folder</li>
<li><code>docker image inspect &lt;image&gt;</code></li>
<li><code>docker container prune</code> -&gt; removes all
containers</li>
<li><code>git reset HEAD~1</code> -&gt; go back one commit before
pushing</li>
<li>jenkins scm</li>
<li>https://www.infoq.com/articles/build-a-container-golang/</li>
</ul>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="vpn">45. VPN</h1>
<h2 id="configuration-2">45.1. Configuration</h2>
<ul>
<li><p><code>pacman -S wireguard-tools</code> (wireguard-dkms,
headers)</p></li>
<li><p>script wgg from rebelo:</p>
<ul>
<li><code>WG_PEERS</code>: names of the devices I want connected to the
VPN</li>
<li><code>NODE_URL</code> is the public ip</li>
<li><code>WG_NODE_ADDRESS</code> is the desktop’s ip inside the VPN</li>
<li><code>WG_VPN_LAN</code> is the VPN network (which must match the IP
chosen in the above line)</li>
<li>The <code>WG_NODE_INTERFACE</code> can be seen running: ip addr
show</li>
<li>The script may be run again in order to add devices (the
configurations before won’t be altered)</li>
</ul></li>
<li><p>Open port on router:</p>
<ul>
<li>Go to games and apps, configuration, and remove all the ports
there;</li>
<li>Protocol: UDP</li>
<li>Log and CONE unchecked (like everything else really)</li>
<li>Port: 57278</li>
</ul></li>
<li><p>In order to show a qrcode for the wireguard app on cell phone:
qrencode -t ansiutf8 -r /etc/wireguard/peers/telemovel.conf</p></li>
<li><p>Give wireguard on cellphone root privileges</p></li>
<li><p>On phone’s wireguard, tunnel name can be anything I want</p></li>
<li><p>To turn vpn on: <code>sudo wg-quick up wg1</code></p></li>
<li><p>Startup: <code>sudo systemctl enable wg-quick@wg1</code></p></li>
<li><p>To check hand shakes:
<code>sudo wg show wg1 latest-handshakes</code></p></li>
<li><p>In order to fix the problem of the VPN not starting with
systemctl service, a possible cause might be fail2ban. Then:</p>
<ul>
<li>vim <code>/usr/lib/systemd/system/fail2ban.service</code> Append to
“After= :” the following: wg-quick@wg1.service</li>
</ul></li>
<li><p>On laptop: <code>pacman -S wireguard-tools</code></p></li>
<li><p>Copy <code>/etc/wireguard/peers/laptop.conf</code> to
<code>/etc/wireguard/wg0.conf</code></p></li>
<li><p><code>sudo wg-quick up wg0</code></p></li>
<li><p>ip r show show the routes</p></li>
</ul>
<h2 id="notes-1">45.2. Notes</h2>
<ul>
<li>Each computer needs an individual ip and key</li>
<li>For example, if I copy my laptop’s file and put it in another
computer, changing the ip, it won’t work if both connect since the key
is the same</li>
<li>IPS have 32 bits</li>
<li>With A.B.C.D/X we mean that the X most significant digits are
considered: 192.168.1.0/24 -&gt; 192.168.0.x with x between 0 to
255</li>
<li>192.168.0.0/16 -&gt; 192.168.0.0 to 192.168.255.255</li>
</ul>
<h2 id="viseu">45.3. Viseu</h2>
<ul>
<li>na config do desktop do porto, tens lá uma entrada para cada
peer</li>
<li>no peer de viseu, para alem de 10.0.10.4/32, adicionavas
192.168.20.0/24</li>
<li>e nos peer/*.conf também</li>
<li>ou seja, de qualquer lado, o teu telemóvel sabia que, para chegar à
rede 192.168.20.0/24, tem que enviar pacotes para o desktop do
porto</li>
<li>e o desktop do porto sabe que, para chegar a essa mesma rede, tem
que enviar pacotes para o peer de viseu</li>
<li>tinhas que adicionar a 192.168.20.0/24 no peer de viseu em wg1 no
desktop do porto</li>
<li>e nos peers tinha de adicionar 192.168.20.0/24 para cada um dos
peers saber que, pelo desktop do porto, consegue chegar a viseu</li>
</ul>
<h2 id="check-ports">45.4. Check Ports</h2>
<ul>
<li>sudo nmap -sU -p- ip (UDP)</li>
<li>sudo nmap -sT -p- ip (TCP)</li>
</ul>
<h2 id="fix-connection-problem">45.5. Fix connection problem</h2>
<ul>
<li>On laptop:
<ul>
<li>ip route add 192.168.1.64/32 via 192.168.1.254 dev (interface, ex:
wlp0s20f3)</li>
<li>nmcli connection show</li>
<li>nmcli connection modify CONNECTION_NAME (ex: ROBOREDO) +ipv4.routes
“192.168.1.0/24 192.168.1.254”</li>
</ul></li>
<li>Apparently, this fix isn’t permanent</li>
</ul>
<h2 id="connect-to-rebelo">45.6. Connect to Rebelo</h2>
<ul>
<li><p>Add wg2.conf in /etc/wireguard (note: can have both vpns
up)</p></li>
<li><p>Alternatively, I can add the <code>[Peer]</code> section to wg1
and, then, I don’t need wg2 and this works best.</p></li>
<li><p>Some notes if I didn’t include the <code>[Peer]</code> section
inside wg1:</p>
<ul>
<li>When I added the AllowedIPs on phone, I couldn’t connect to
Rebelo-pi. This happened because the reply from Rebelo wasn’t being
forwarded to phone. I would need to add something like:
<code>iptables -A FORWARD -i wg2 -o wg1 -j ACCEPT</code> in wg1
config.</li>
<li><code>sudo iptables -A FORWARD -j ACCEPT</code> also makes it work
(this allows all trafic)</li>
<li><code>sudo iptables -D FORWARD -j ACCEPT</code> reverts the above
command</li>
</ul></li>
<li><p>Add 10.0.1.0/24 in AllowedIPs of peers</p></li>
<li><p><code>wg show wg1 latest-handshakes</code> -&gt; to check if
connection is successful</p></li>
<li><p><code>echo "your_private_key" | wg pubkey</code> -&gt; generates
public key using private key</p></li>
<li><p>This connection only works when connected to vpn, even if I’m on
my LAN!!!</p></li>
<li><p><code>tcpdump -i any icmp</code> (icmp are the type of packages,
the ones used by ping command. This command listens to packages being
sent through my computer)</p></li>
</ul>
<h2 id="allow-access-to-my-vpn-on-another-vpn">45.7. Allow access to my
VPN on another VPN</h2>
<ul>
<li><p>Create another peer. In the allowed IPs of this peer in the
config of my server, it should be:</p>
<pre class="text"><code>AllowedIPs = &lt;IP on my network&gt;/32, &lt;IPs on the other network, for e.g., 10.0.20.0&gt;/24  </code></pre>
<p>What this means is that, on my network, the traffic for this peer can
come from these different ips.</p></li>
<li><p>On the server config of the other VPN, they should add the
<code>[PEER]</code> section of the config that I provided them. Also,
their peers need to have in the <code>Allowed IPs</code> the range of
IPs of my network.</p>
<p>What this means is that, when they try to connect to my VPN from one
of their peers, the IPs of my network are in the config of their VPN.
Then, their server has a route for my VPN through the
<code>[PEER]</code> section provided on the config of their server.
However, since now it’s their server connecting to mine, I need the
public key of the server and not the public key associated with the
config that I gave them. For this reason, read last point.</p></li>
<li><p>Finally, I need to change the public key of the peer that I
created for them and put the public key of their server.</p></li>
</ul>
<h2 id="udp2raw">45.8. UDP2RAW</h2>
<ul>
<li><code>pacman -S udp2raw-tunnel</code></li>
<li>Open tcp port on router for udp2raw (e.g: 58374)</li>
<li>I can still have a direct port for wireguard (e.g. 57278). This is
also the ListenPort in wg1.conf</li>
<li>On server, run:
<code>udp2raw -s -l "0.0.0.0:58374" -r "127.0.0.1:57278" -k "tgbyhnrfv" --raw-mode faketcp -a</code>
:
<ul>
<li>“0.0.0.0:58374” -&gt; this means traffic can come from anywhere
(0.0.0.0) and udp2raw listens on port 58374, which I specifically
openned in router</li>
<li>“127.0.0.1:57278” -&gt; this means that traffic coming from port
58374 is going to be sent to port 57278, which is wireguard’s port</li>
<li>Example udp2raw.service:</li>
</ul>
<pre class="text"><code>[Unit]
Description=udp2raw-tunnel client service
ConditionFileIsExecutable=/usr/bin/udp2raw
After=network-online.target

[Service]
Type=simple
RemainAfterExit=yes
ExecStart=/usr/bin/udp2raw -s -l &quot;0.0.0.0:58374&quot; -r &quot;127.0.0.1:57278&quot; -k &quot;tgbyhnrfv&quot; --raw-mode faketcp -a
Restart=on-failure

[Install]
WantedBy=multi-user.target</code></pre></li>
<li>On client:
<code>sudo udp2raw -c -l "127.0.0.1:5634" -r "$(ssh goncalo@jgroboredo.ddns.net 'curl -s ifconfig.me'):58374" -k "tgbyhnrfv" --raw-mode faketcp -a</code>
<ul>
<li>“127.0.0.1:5634” -&gt; local traffic to port 5634</li>
<li>“$(ssh goncalo@jgroboredo.ddns.net ‘curl -s ifconfig.me’):58374”
-&gt; target is my ipv4 ip and the port where upd2raw is listening on
server, meaning in this case 58374</li>
</ul></li>
<li>The only thing left is to change wireguard config in the client:
<ul>
<li>For this, simply create a new config;</li>
<li>Add in the <code>[Interface]</code> group the line: “MTU = 1300”
(udp2raw doesn’t support large packages)</li>
<li>Change endpoint to: “127.0.0.1:5634”</li>
</ul></li>
</ul>
<h2 id="updated-vpn">45.9. Updated VPN</h2>
<ul>
<li>In iptables, drop all connections except the ones I want to
keep;</li>
<li>These connections are only concerned with the direct access to the
raspberry and not the traffic thourgh vpn;</li>
<li>If I want to have a peer with full access to vpn and another with
restricted access (this access refers to forwarding traffic through
vpn), and I want to be able to access the restricted access peer, I need
to include in the iptables.rules the following lines:
<ul>
<li><p><code>-A FORWARD -m state --state RELATED,ESTABLISHED -j ACCEPT</code>
Basically, the idea is that, the restricted access peer needs to send
packets saying the connection is established, for example. Therefore,
these packets need to be forward by the vpn… However, this peer isn’t
allowed to do that by default. However, this rule allows for RELATED
packets to be forwarded. The similar rule existent in the wg config
isn’t enough probably because the packets don’t go through eth0. The
rule</p></li>
<li><p><code>-A FORWARD -p icmp --icmp-type echo-request -j ACCEPT</code>
allows for pings.</p></li>
<li><p>Lastly, on iptables.rules, I need to specifically allow access to
each port I want to access, EVEN if I’m already connected to the vpn.
The idea seems to be that I have access to the VPN through the VPN port,
but this doesn’t give me access to the other ports.</p></li>
<li><p>A container that hasn’t network_mode host can’t now connect to
one that is on the network_mode host. To solve this, allow input from
docker interface:</p>
<ul>
<li><code>-A INPUT -i br+ -p TCP --dport 32400 -j ACCEPT</code></li>
</ul></li>
</ul></li>
</ul>
<h2 id="fixing-routes">45.10. Fixing routes</h2>
<ul>
<li>When laptop is not connected to VPN but desktop is (both in porto),
I could not ping desktop from laptop using the local ip, since the
wireguard priority was lower and the response of the desktop went
through the vpn (and laptop was not connected)</li>
<li>changing priorities correctly:
<ul>
<li><code>sudo ifmetric wlp0s20f3 0</code></li>
<li><code>sudo ip route del default</code></li>
<li><code>sudo ip route add default via 192.168.200.254 dev wlp0s20f3 proto dhcp src 192.168.200.67 metric 600</code></li>
<li><code>sudo ifmetric wg0 1</code></li>
</ul></li>
</ul>
<p>NOTE: <a href="https://hub.docker.com/r/linuxserver/swag">Nginx
Server</a></p>
<h2 id="rebelos-jellyfin">45.11. Rebelo’s Jellyfin</h2>
<p>I need to foward the traffic in order for a peer to have access to
Rebelo’s Jellyfin. If the peer has full access, everything will work. If
the peer has limited access and I want to maintain it like that, I need
to add the following lines:</p>
<pre class="text"><code>PostUp   = iptables -A FORWARD -i %i -s 10.0.10.5 -d 10.0.0.0/24 -p tcp --dport 80  -j ACCEPT
PostDown = iptables -D FORWARD -i %i -s 10.0.10.5 -d 10.0.0.0/24 -p tcp --dport 80  -j ACCEPT
PostUp   = iptables -A FORWARD -i %i -s 10.0.10.5 -d 10.0.0.0/24 -p tcp --dport 443  -j ACCEPT
PostDown = iptables -D FORWARD -i %i -s 10.0.10.5 -d 10.0.0.0/24 -p tcp --dport 443  -j ACCEPT

PostUp   = iptables -A FORWARD -i %i -s 10.0.10.5 -d 10.0.1.0/24 -p tcp --dport 80  -j ACCEPT
PostDown = iptables -D FORWARD -i %i -s 10.0.10.5 -d 10.0.1.0/24 -p tcp --dport 80  -j ACCEPT
PostUp   = iptables -A FORWARD -i %i -s 10.0.10.5 -d 10.0.1.0/24 -p tcp --dport 443  -j ACCEPT
PostDown = iptables -D FORWARD -i %i -s 10.0.10.5 -d 10.0.1.0/24 -p tcp --dport 443  -j ACCEPT</code></pre>
<p>Note: the <code>-d &lt;ip&gt;</code> only affects traffic that goes
specifically to that ip. I am basically saying: allow fowarding to that
destination.</p>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="ddns">46. DDNS</h1>
<p>ON ROUTER:</p>
<ul>
<li>Go to dynamic ddns;</li>
<li>Configure -&gt; Activate -&gt; Username: email of no-ip account
-&gt; Password: pw of no-ip account; Service: No-IP -&gt; Host: hostname
chosen in no-ip account (–.ddns.net)</li>
<li>Do not forget to change router’s account pw to something different
from default (currently, it is my usual pw)</li>
</ul>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="encrypt-dir">47. Encrypt dir</h1>
<ul>
<li>tar -cvzf - folder | gpg -c &gt; folder.tar.gz.gpg
<ul>
<li>gpg -d folder.tar.gz.gpg | tar -xvzf -</li>
</ul></li>
</ul>
<h2 id="disable-password-cache">47.1. Disable password cache</h2>
<ul>
<li><p>Edit <code>~/.gnupg/gpg-agent.conf</code></p>
<pre class="text"><code>  default-cache-ttl 1
  max-cache-ttl 1</code></pre></li>
</ul>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="violent-monkey">48. Violent Monkey</h1>
<ul>
<li><p>https://addons.mozilla.org/en-US/firefox/addon/violentmonkey/</p></li>
<li><p>https://github.com/Purfview/IMDb-Scout-Mod</p>
<ul>
<li>Go to script in github, raw -&gt; ViolentMonkey will prompt to
install</li>
<li>Go to imdb page of some movie/show, violentmonkey IMDB scout mod
settings, search for sonnar and radarr and set it up (the root folder is
the folder inside radarr and sonarr where I keep movies/tvshows).</li>
<li>Don’t forget to enable them at the very end of the file</li>
</ul></li>
<li><p>https://greasyfork.org/en/scripts/789-select-text-inside-a-link-like-opera</p></li>
<li><p>https://greasyfork.org/en/scripts/1810-google-tracking-b-gone</p></li>
<li><p>Tampermonkey allows method GM_cookie</p></li>
</ul>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="wireshark">49. Wireshark</h1>
<ul>
<li>Dissectors: .local/lib/wireshark/plugins</li>
<li>For rfcomm dlci: file -&gt; export -&gt; export as json</li>
</ul>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="telegram">50. Telegram</h1>
<h2 id="botfather">50.1. BotFather</h2>
<pre class="text"><code>/newbot
BotName
botusername_bot
/setuserpic
@botusername_bot (note: this doesn&#39;t work without the &quot;@&quot;)</code></pre>
<h2 id="find-bot-chat-id">50.2. Find bot chat ID</h2>
<ul>
<li>On telegram, search by: <span class="citation"
data-cites="botusername_bot">@botusername_bot</span></li>
<li><code>https://api.telegram.org/bot&lt;bot_token_here&gt;/getUpdates</code></li>
<li>Send message to bot in telegram and update this page</li>
<li>Another option is to add <span class="citation"
data-cites="RawDataBot">@RawDataBot</span> to my group (do not forget to
kick it after)</li>
</ul>
<h2 id="add-sonarr-and-radarr-to-telegram">50.3. Add sonarr and radarr
to telegram</h2>
<ul>
<li>Go to settings -&gt; Connect -&gt; Telegram</li>
<li>In name, just put Telegram</li>
<li>Add bot token and chat id</li>
</ul>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="barrier">51. Barrier</h1>
<p>Connect first with barrier only after do this:</p>
<ul>
<li>Edit <code>sudo vim /etc/systemd/system/barrier.service</code></li>
</ul>
<pre class="text"><code>[Unit]
Description=Barrier Client mouse/keyboard share
Requires=display-manager.service
After=display-manager.service
StartLimitIntervalSec=0

[Service]
Type=forking
ExecStart=/usr/bin/barrierc --no-restart --name raspberrypi (name I want for the client to be known) --enable-crypto 192.168.0.109 (ip of server)
Restart=always
RestartSec=10
User=pi

[Install]
WantedBy=multi-user.target</code></pre>
<p>And do:</p>
<div class="sourceCode" id="cb76"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> systemctl daemon-reload</span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a><span class="ex">systemctl</span> start barrier.service</span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a><span class="ex">systemctl</span> status barrier.service</span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a><span class="ex">systemctl</span> enable barrier.service</span></code></pre></div>
<p>so that the service doesn’t run when I go to openbox, since I want to
play cs, add to /etc/sudoers :
<code>goncalo ALL = NOPASSWD: /bin/systemctl stop barrier.service</code>
and add <code>sudo systemctl stop barrier.service</code> to
autostart</p>
<p>Barrier does not work on wayland</p>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="teamviewer">52. TeamViewer</h1>
<p>Start teamviewer service:
<code>systemctl start teamviewerd.service</code></p>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="flatpak">53. Flatpak</h1>
<div class="sourceCode" id="cb77"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pacman</span> <span class="at">-S</span> flatpak</span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a><span class="ex">flatpak</span> install flathub com.usebottles.bottles</span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a><span class="ex">flatpak</span> run com.usebottles.bottles</span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-5"><a href="#cb77-5" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> ln <span class="at">-s</span> /var/lib/flatpak/exports/bin/chat.rocket.RocketChat /usr/bin/rocket-chat</span>
<span id="cb77-6"><a href="#cb77-6" aria-hidden="true" tabindex="-1"></a><span class="fu">cp</span> /var/lib/flatpak/app/media.emby.EmbyTheater/current/active/files/share/applications/media.emby.EmbyTheater.desktop  /usr/share/applications/</span></code></pre></div>
<h2 id="firefox">53.1. Firefox</h2>
<div class="sourceCode" id="cb78"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="ex">flatpak</span> install flathub org.mozilla.firefox</span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a><span class="ex">flatpak</span> list to list apps</span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a><span class="ex">flatpak</span> update <span class="op">&lt;</span>Application-ID<span class="op">&gt;</span> #<span class="er">(</span><span class="ex">app-ID</span> found in previous step<span class="kw">)</span></span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Added systemd service to update automatically flatpak apps (from arch wiki flatpak)</span></span>
<span id="cb78-5"><a href="#cb78-5" aria-hidden="true" tabindex="-1"></a><span class="ex">systemd-analyze</span> <span class="at">--system</span> unit-paths</span></code></pre></div>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="vm">54. VM</h1>
<h2 id="fix-resolution">54.1. Fix Resolution</h2>
<ul>
<li>go to /etc/default/grub</li>
<li>GRUB_GFXMODE=1024x768x32</li>
<li>GRUB_GFXPAYLOAD_LINUX=keep</li>
<li>grub-mkconfig -o /boot/grub/grub.cfg</li>
</ul>
<h2 id="sdcard-on-vm">54.2. SDcard on VM</h2>
<ul>
<li>check with <code>fdisk -l</code> where is the sdcard
(/dev/mmcblk0)</li>
<li>unmount if mounted</li>
<li><code>VBoxManage internalcommands createrawvmdk -filename /path/to/file.vmdk -rawdisk /dev/mmcblk0</code></li>
<li>Go to the storage settings of the VM, add hard disk and select the
.vmdk file created above</li>
<li><code>sudo usermod -a -G vboxusers goncalo</code></li>
<li><code>sudo usermod -a -G disk goncalo</code></li>
</ul>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="latex">55. Latex</h1>
<pre class="text"><code>/usr/share/texmf-dist/tex/latex/local
which mktexlsr
sudo path/to/mktexlsr or sudo $(which mktexlsr)---&gt; update latex</code></pre>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="plex">56. Plex</h1>
<pre class="text"><code>docker stop plex
sqlite3 &quot;config_docker/plex/Library/Application Support/Plex Media Server/Plug-in Support/Databases/com.plexapp.plugins.library.db&quot;
PRAGMA default_cache_size = 20000; (com o ponto e virgula)
ctrl-D
docker start plex</code></pre>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="format-phone">57. Format phone</h1>
<h2 id="formatting">57.1. Formatting</h2>
<ul>
<li><code>pacman -S android-tools</code></li>
<li><code>adb shell - cd /data/adb/modules/quick* - find . -name "*.apk"</code></li>
<li>backup -&gt; boot, system image, data</li>
<li><code>adb pull /sdcard/Fox</code> -&gt; copy of the backup to
pc</li>
<li><code>adb push zipname.zip /sdcard</code> (no need to wipe to do
this)</li>
<li><code>adb reboot bootloader</code></li>
<li>important partitions to wipe -&gt; system, cache, data</li>
<li>to flash recovery:
<code>sudo fastboot flash recovery ficheiro-do-recovery.img</code></li>
<li><code>pacman -S android-udev</code> (fastboot has no
permissions)</li>
<li><code>treble check</code></li>
<li><code>fastboot getvar all | grep “slot”</code></li>
<li>If there’s any problem, I can always flash xiaomi rom
(bookmarks)</li>
<li>with command: <code>bash flash_all.sh</code> (only need to connect
phone in fastboot mode)</li>
<li>flash gapps after flahsing rom</li>
<li>update firmware before new rom! Flashing the same way as the
others</li>
<li>Maybe need to really format data partition</li>
<li>To update recovery, I can do it inside recover, flashing the
zip</li>
<li>To install, for example, Orange Fox, from TWRP, I can simply flash
it from TWRP</li>
<li>Installing lavender with gapps did not work… Need MindTheGapps</li>
</ul>
<h2 id="connecting-to-pc">57.2. Connecting to PC</h2>
<ul>
<li><p>Primeiro instalar termux</p>
<ul>
<li>install fdroid and install termux from there</li>
</ul></li>
<li><p><code>pkg upgrade</code></p></li>
<li><p><code>pkg install openssh</code></p></li>
<li><p><code>touch ~/.ssh/authorized_keys</code></p></li>
<li><p><code>chmod 600 ~/.ssh/authorized_keys</code></p></li>
<li><p><code>chmod 700 ~/.ssh</code></p></li>
<li><p>copy key from pc to phone</p></li>
<li><p><code>cat ~/.ssh/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys</code></p></li>
<li><p><code>chmod 600 ~/.ssh/authorized_keys</code></p></li>
<li><p>run ssh: sshd</p></li>
<li><p>kill ssh: pkill sshd</p></li>
<li><p><code>apt update &amp;&amp; apt upgrade</code></p></li>
<li><p>port: 8022</p></li>
<li><p>termux-setup-storage: (creates folder ~/storage) -shared: phone
internal memory directory -external: sdcard (on sdcard:
android-data-com.termux: Symlink external-1 points to a private Termux
directory on external sdcard,
i.e. /storage/XXXX-XXXX/Android/data/com.termux/files)</p></li>
<li><p>pkg install tsu - using magisk this will give termux super user
sudo</p></li>
<li><p>After installing tsu, I can sudo chown /storage/XXXX-XXXX to be
able to write on sdcard directly</p></li>
<li><p>install jupyter-notebook:</p>
<ul>
<li><code>apt install clang python fftw libzmq freetype libpng pkg-config libcrypt</code></li>
<li><code>LDFLAGS="-lm -lcompiler_rt" pip install jupyter</code></li>
<li><code>pip install numpy</code> (ou pkg)</li>
<li><code>pip install matplotlib</code></li>
<li>run: <code>jupyter notebook</code></li>
</ul></li>
<li><p>install termux-sudo-master : file in phone format folder (after
installing tsu, dont need this):</p>
<div class="sourceCode" id="cb81"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pkg</span> install ncurses-utils</span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a><span class="ex">change</span> to extraction directory of termux-sudo-master</span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span> sudo <span class="op">&gt;</span> /data/data/com.termux/files/usr/bin/sudo</span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a><span class="fu">chmod</span> 700 /data/data/com.termux/files/usr/bin/sudo</span>
<span id="cb81-5"><a href="#cb81-5" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> su <span class="pp">[-]</span> <span class="at">-</span><span class="op">&gt;</span> gets me to root shell</span>
<span id="cb81-6"><a href="#cb81-6" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> <span class="op">&lt;</span>comand<span class="op">&gt;</span></span></code></pre></div></li>
</ul>
<h2 id="arch-linux-in-termux">57.3. ARCH LINUX IN TERMUX</h2>
<div class="sourceCode" id="cb82"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pkg</span> update</span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a><span class="ex">pkg</span> install curl bsdtar</span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a><span class="ex">curl</span> <span class="at">-OL</span> https://raw.githubusercontent.com/TermuxArch/TermuxArch/master/setupTermuxArch.bash</span>
<span id="cb82-4"><a href="#cb82-4" aria-hidden="true" tabindex="-1"></a><span class="fu">bash</span> setupTermuxArch.bash</span>
<span id="cb82-5"><a href="#cb82-5" aria-hidden="true" tabindex="-1"></a><span class="bu">exit</span></span>
<span id="cb82-6"><a href="#cb82-6" aria-hidden="true" tabindex="-1"></a><span class="ex">pkg</span> install vim</span>
<span id="cb82-7"><a href="#cb82-7" aria-hidden="true" tabindex="-1"></a><span class="fu">touch</span> .bashrc</span>
<span id="cb82-8"><a href="#cb82-8" aria-hidden="true" tabindex="-1"></a><span class="ex">~/arch/startarch</span> <span class="co"># at the bash prompt</span></span>
<span id="cb82-9"><a href="#cb82-9" aria-hidden="true" tabindex="-1"></a><span class="ex">pacman</span> <span class="at">-Syyu</span> sudo wget curl</span>
<span id="cb82-10"><a href="#cb82-10" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> chown root:root /etc/resolv.conf</span>
<span id="cb82-11"><a href="#cb82-11" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> chmod 644 /etc/resolv.conf</span>
<span id="cb82-12"><a href="#cb82-12" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> passwd root</span>
<span id="cb82-13"><a href="#cb82-13" aria-hidden="true" tabindex="-1"></a><span class="ex">addauser</span> <span class="op">&lt;</span>user<span class="op">&gt;</span></span>
<span id="cb82-14"><a href="#cb82-14" aria-hidden="true" tabindex="-1"></a><span class="bu">exit</span></span>
<span id="cb82-15"><a href="#cb82-15" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> passwd <span class="op">&lt;</span>user<span class="op">&gt;</span></span>
<span id="cb82-16"><a href="#cb82-16" aria-hidden="true" tabindex="-1"></a><span class="ex">visudo</span></span>
<span id="cb82-17"><a href="#cb82-17" aria-hidden="true" tabindex="-1"></a><span class="co"># And add your user&#39;s privileges under root&#39;s in the &quot;User privilege specification&quot; section: </span></span>
<span id="cb82-18"><a href="#cb82-18" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>user<span class="op">&gt;</span> ALL=<span class="kw">(</span><span class="ex">ALL</span><span class="kw">)</span> <span class="ex">ALL</span></span>
<span id="cb82-19"><a href="#cb82-19" aria-hidden="true" tabindex="-1"></a><span class="fu">su</span> <span class="at">-</span> <span class="op">&lt;</span>user<span class="op">&gt;</span></span>
<span id="cb82-20"><a href="#cb82-20" aria-hidden="true" tabindex="-1"></a><span class="fu">wget</span> <span class="at">--no-check-certificate</span> <span class="st">&#39;https://docs.google.com/uc?export=download&amp;id=107Fh0l_p0ItVkUufOhP9to-OU_6KYhPW&#39;</span> <span class="at">-O</span> fresharch.sh <span class="kw">&amp;&amp;</span> <span class="fu">chmod</span> +x fresharch.sh <span class="kw">&amp;&amp;</span> <span class="fu">sudo</span> bash fresharch.sh</span>
<span id="cb82-21"><a href="#cb82-21" aria-hidden="true" tabindex="-1"></a><span class="ex">add</span> su <span class="at">-</span> <span class="op">&lt;</span>user<span class="op">&gt;</span> to bash</span>
<span id="cb82-22"><a href="#cb82-22" aria-hidden="true" tabindex="-1"></a><span class="co"># If you need to access shared storage, then cd into /storage/emulated/0</span></span>
<span id="cb82-23"><a href="#cb82-23" aria-hidden="true" tabindex="-1"></a><span class="co"># create symlinks (ln -s) for storage</span></span></code></pre></div>
<h2 id="process-to-format">57.4. Process to format</h2>
<ul>
<li>Boot to recovery</li>
<li>Format system, data, cachr</li>
<li>Reboot to recovery to reload partition table</li>
<li>Install rom, format data, reboot to rom</li>
</ul>
<h2 id="apps-adb">57.5. Apps ADB</h2>
<div class="sourceCode" id="cb83"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="ex">adb</span> shell pm list packages</span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a><span class="ex">adb</span> shell pm uninstall <span class="at">-k</span> <span class="at">--user</span> 0 NameOfPackage <span class="co">#(get name from app info, advanced)</span></span>
<span id="cb83-3"><a href="#cb83-3" aria-hidden="true" tabindex="-1"></a><span class="ex">adb</span> uninstall com.example.myapp</span>
<span id="cb83-4"><a href="#cb83-4" aria-hidden="true" tabindex="-1"></a><span class="ex">adb</span> shell content query <span class="at">--uri</span> content://com.android.contacts/contacts</span>
<span id="cb83-5"><a href="#cb83-5" aria-hidden="true" tabindex="-1"></a><span class="ex">adb</span> shell content delete <span class="at">--uri</span> content://com.android.contacts/contacts/437413</span>
<span id="cb83-6"><a href="#cb83-6" aria-hidden="true" tabindex="-1"></a><span class="ex">adb</span> shell content query <span class="at">--uri</span> content://contacts/phones/  <span class="at">--projection</span> display_name:number:notes</span></code></pre></div>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="find-command">58. Find Command</h1>
<h2 id="error-with-mv-command">58.1. Error with mv command</h2>
<p>By running the following command:</p>
<p><code>find . -type f -name '*2019*' -exec mv {} ./backup_2019 \;</code></p>
<p>I obtain the following errors:</p>
<pre class="text"><code>mv: ‘./backup_2019/2019-A.txt’ and ‘backup_2019/2019-A.txt’ are the same file
mv: ‘./backup_2019/2019-B.txt’ and ‘backup_2019/2019-B.txt’ are the same file
mv: ‘./backup_2019/2019-C.txt’ and ‘backup_2019/2019-C.txt’ are the same file</code></pre>
<p>This happens because I am not ignoring the target directory to where
I am moving the file.</p>
<p>The command:</p>
<p><code>find . -path './backup_2019' -prune -o -type f -name '*2019*' -exec mv {} ./backup_2019 \;</code></p>
<p>More ways of pruning:</p>
<p><code>find . -maxdepth 1 \( -path "./Linux" \) -prune -o -type d -print</code></p>
<p><code>find . -mindepth 1 -maxdepth 1 \( -path "Some/Path" -o -path "./Linux" \) -prune -o -type d -print</code></p>
<p>solves this issue.</p>
<p>Using the option <code>-maxdepth 1</code> should also solve the
issue.</p>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="conky-desktop">59. Conky Desktop</h1>
<p><code>/usr/share/conky conky_maia</code> is the file I want. I have
it saved in Linux backup.</p>
<h2 id="install-conky-manager">59.1. Install conky-manager</h2>
<p>Change in config:</p>
<pre class="text"><code>own_window yes
own_window_class Conky
own_window_type override
background yes</code></pre>
<ul>
<li>To use the conky-manager, comment on config the line with:
<code>exec --no-startup-id start_conky_maia</code></li>
<li>check for driver: lspci -k</li>
<li>ifconfig: install net-tools : this allows to see the name of the
device in use (eg. wlan0)</li>
<li>add the files in conky-startup.sh like:
<code>conky -c /path/to/file</code></li>
<li>add conky-startup to config</li>
</ul>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="endeavouros-stuff">60. EndeavourOS Stuff</h1>
<ul>
<li><p>Might need to connect to network:</p>
<div class="sourceCode" id="cb86"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="ex">nmcli</span> d <span class="at">-</span><span class="op">&gt;</span> to determine the name of the wifi interface</span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a><span class="ex">nmcli</span> r wifi on</span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a><span class="ex">nmcli</span> d wifi list</span>
<span id="cb86-4"><a href="#cb86-4" aria-hidden="true" tabindex="-1"></a><span class="ex">nmcli</span> d wifi connect my_wifi password <span class="op">&lt;</span>password<span class="op">&gt;</span></span></code></pre></div></li>
<li><p>Check wlan interface: <code>iw dev</code></p></li>
<li><p>Script photo nationalgeographic:
<code>pacman -S python-pillow</code></p></li>
<li><p>Put touchpad file in <code>/etc/X11/xorg.conf.d</code> with:</p>
<div class="sourceCode" id="cb87"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="ex">NaturalScrolling</span> off</span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a><span class="ex">AccelProfile</span> <span class="at">-1</span></span></code></pre></div></li>
<li><p>Nao consigo obter em lyx o output por causa de ficheiros eps:
<code>pacman -S ghostscript</code></p></li>
<li><p>Ao instalar o Mathematica, o script não gostou que o path tivesse
um espaco</p></li>
</ul>
<h2 id="relativamente-ao-barrier">60.1. Relativamente ao barrier</h2>
<ul>
<li><p>O nome dos dois pcs nao pode ser o mesmo;</p></li>
<li><p>No ficheiro <code>/etc/systemd/system/barrier.service</code>
tenho de ter:</p>
<pre class="text"><code>[Unit]
Description=Barrier Client mouse/keyboard share
Requires=display-manager.service
After=display-manager.service
StartLimitIntervalSec=0

[Service]
Type=forking
ExecStart=/usr/bin/barrierc --no-restart --name raspberrypi --enable-crypto 192.168.0.109
Restart=always
RestartSec=10
User=pi

[Install]     
WantedBy=multi-user.target</code></pre>
<p>O important é em <code>--name</code> ter o nome do pc que eu pus no
servidor (exemplo: no servidor, disse que o monitor se chamava
goncalo-desktop… Entao, este é o nome que tenho de usar)</p></li>
</ul>
<p>Note: Adicionar à config do i3 workspace_auto_back_and_forth yes</p>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="map-keyboard-keys">61. Map Keyboard Keys</h1>
<ul>
<li>Search for keycode:
<ul>
<li><code>xmodmap -pk</code></li>
</ul></li>
<li>Go to i3 config, add command:
<code>exec_always --no-startup-id xmodmap -e "keycode 106 = backslash"</code></li>
<li>Note:
<ul>
<li>In the command above, keycode 106 is the key to be altered;
backslash is the name of the the name of the key (In this example, it is
backslash) and the keycode of the key I want to replace (which also has
a name associated with it, in this case it was
<code>KP_Divide</code>)</li>
</ul></li>
<li>Example:
<ul>
<li><code>xmodmap -e "keycode 38 = a A aacute Aacute ae AE ae"</code></li>
<li>Then:</li>
</ul>
<ol type="1">
<li>a: normal a</li>
<li>A: shift + a</li>
<li>á: altgr + a</li>
<li>Á: shift + altgr + a</li>
</ol></li>
</ul>
<p>Using the example above, I can do:
<code>exec_always --no-startup-id xmodmap -e "keycode 106 = backslash bar"</code></p>
<p>This will include the | in the key when doing shift+key</p>
<p>On my keyboard, ç -&gt; alt + ,</p>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="format-pen">62. Format Pen</h1>
<h2 id="apagar-partições">62.1. Apagar partições</h2>
<div class="sourceCode" id="cb89"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> fdisk <span class="at">-l</span> <span class="at">-</span><span class="op">&gt;</span> para ver qual é a pen</span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> gdisk /dev/sdX <span class="at">-</span><span class="op">&gt;</span> em que X é o que encontro em cima</span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">o,</span> enter</span>
<span id="cb89-4"><a href="#cb89-4" aria-hidden="true" tabindex="-1"></a>  <span class="ex">n,</span> enter, enter, enter</span>
<span id="cb89-5"><a href="#cb89-5" aria-hidden="true" tabindex="-1"></a>  <span class="ex">0700</span></span>
<span id="cb89-6"><a href="#cb89-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">w</span></span></code></pre></div>
<h2 id="criar-partição">62.2. Criar Partição</h2>
<div class="sourceCode" id="cb90"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> mkfs.vfat /dev/sdX1</span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> mkfs.exfat <span class="co"># (for SD CARD)</span></span></code></pre></div>
<h2 id="format-pen-with-iso">62.3. Format pen with ISO</h2>
<pre class="text"><code>sudo fdisk --list
dd if=manjaro.iso of=/dev/sd# status=progress
sync</code></pre>
<p>If I want to install windows, use woeusb:
<code>sudo woeusb --target-filesystem NTFS --device Win10_20H2_v2_French_x64.iso /dev/sdb</code></p>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="borg-backup">63. Borg Backup</h1>
<h2 id="setup-steps">63.1. Setup Steps</h2>
<ol type="1">
<li>Create backup user in pi (do not add user no any groups):</li>
</ol>
<div class="sourceCode" id="cb92"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> useradd <span class="at">-m</span> <span class="op">&lt;</span>username<span class="op">&gt;</span></span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a><span class="fu">passwd</span> <span class="op">&lt;</span>username<span class="op">&gt;</span></span>
<span id="cb92-3"><a href="#cb92-3" aria-hidden="true" tabindex="-1"></a><span class="ex">ssh-keygent</span> <span class="at">-t</span> ed25519</span>
<span id="cb92-4"><a href="#cb92-4" aria-hidden="true" tabindex="-1"></a><span class="fu">touch</span> ~/.ssh/authorized_keys</span>
<span id="cb92-5"><a href="#cb92-5" aria-hidden="true" tabindex="-1"></a><span class="fu">chmod</span> 600 ~/.ssh/authorized_keys</span></code></pre></div>
<ol start="2" type="1">
<li>Prepare repo directory:</li>
</ol>
<div class="sourceCode" id="cb93"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="ex">btrfs</span> subvolume create /home/goncalo/HDD/@backups <span class="er">(</span><span class="ex">btrfs</span> subvolume create /path/to/mount/point<span class="kw">)</span></span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Add</span> entry to fstab to mount this subvolume</span>
<span id="cb93-3"><a href="#cb93-3" aria-hidden="true" tabindex="-1"></a><span class="fu">mkdir</span> /mnt/backups/repo/name</span>
<span id="cb93-4"><a href="#cb93-4" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> chown <span class="op">&lt;</span>backup-user<span class="op">&gt;</span>:<span class="op">&lt;</span>backup-user<span class="op">&gt;</span> /mnt/backups/repo/name</span>
<span id="cb93-5"><a href="#cb93-5" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> chmod 770 /mnt/backups/repo/name</span></code></pre></div>
<ol start="3" type="1">
<li>Init borg backup</li>
</ol>
<p><code>borg init --encryption=keyfile ssh://backup-user@pi/mnt/backups/repo/name</code></p>
<ol start="4" type="1">
<li>Borg mount (needs <code>pacman -S python-llfuse</code>)</li>
</ol>
<p><code>borg mount path/to/repo::backup/name /mount/point</code></p>
<h2 id="mount-backup-automatically">63.2. MOUNT BACKUP
AUTOMATICALLY</h2>
<ul>
<li><p>Do it with systemd mount: needs a mount and .automount unit; This
allows to export environment variables in the mount process;</p></li>
<li><p>I’m mounting the backup repo using fstab (I mount it directly
because I need the backup user) and then I use that to mount the borg
backup through systemd mount; Eventually, this could be avoided if I
used umask in borg (in umask the permissions subtract - 0077 results in
700; I probably want 0007)</p></li>
<li><p>The systemd units to mount need to have the path where it is
going to be mounted in the name. Example: . Path where to mount:
/mnt/borg_backup/backup_files -&gt; Systemd unit name:
mnt-borg_backup-backup_files.{mount,automount}</p></li>
<li><p>The entry in fstab doesn’t use the env variables specified in the
systemd mount unit</p></li>
</ul>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="hdd-format">64. HDD Format</h1>
<p><code>sudo fdisk -l</code></p>
<h2 id="delete-partitions">64.1. Delete Partitions</h2>
<p><code>sudo gdisk /dev/sdX</code> (where X is found from the previous
step) and then select <code>d</code> and <code>w</code></p>
<h2 id="create-new-gpt-partition-table">64.2. Create New GPT partition
table</h2>
<pre class="text"><code>sudo gdisk /dev/sdX
  - n
  - enter
  - enter
  - enter
  - w</code></pre>
<h2 id="format-disk">64.3. Format Disk</h2>
<p><code>sudo mkfs.btrs -f /dev/sdX1</code></p>
<h2 id="find-uuid-and-check-type">64.4. Find UUID and check type</h2>
<p><code>sudo blkid</code></p>
<h2 id="fstab">64.5. Fstab</h2>
<pre class="text"><code>UUID=d1e18a1a-1c64-458e-9aa3-e59cd9b8bd51       /home/goncalo/HDD2            btrfs   defaults,nofail,noatime   0       0</code></pre>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="ubuntu">65. Ubuntu</h1>
<h2 id="fix-ethernet-unavailable">65.1. Fix ethernet unavailable</h2>
<pre class="text"><code>[ifupdown]
managed=true</code></pre>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="problem-unknown-fs-type-vfat">66. PROBLEM: Unknown fs type
vfat</h1>
<p>Issue: Booted and got an error while mounting /efi during boot: /efi,
unknown file system type vfat What is happening: booting a different
kernel from what is on /</p>
<p>Unpack unified kernel image to check kernel version: -
<code>objcopy -O binary --only-section=.linux linux.efi unpacked-vmlinuz</code>
- <code>file unpacked-vmlinuz</code></p>
<p>Check current version: <code>ls /usr/lib/modules</code></p>
<p><code>sbctl list-bundles</code></p>
<p>Generate new unified kernel image:</p>
<pre class="text"><code>sbctl bundle -s -i /boot/intel-ucode.img \
-l /usr/share/systemd/bootctl/splash-arch.bmp \
-k /boot/vmlinuz-linux \
-f /boot/initramfs-linux.img \
/efi/EFI/Linux/linux.efi</code></pre>
<p>Edit <code>/etc/mkinitcpio.d/linux.preset</code>:</p>
<pre class="text"><code>ALL_config=&quot;/etc/mkinitcpio.conf&quot;
ALL_kver=&quot;/boot/vmlinuz-linux&quot;

PRESETS=(&#39;efi&#39;)

# BIOS
bios_image=&quot;/boot/initramfs-linux.img&quot;

# EFI
efi_image=&quot;/boot/initramfs-linux.img&quot;
#efi_options=&quot;--splash /usr/share/systemd/bootctl/splash-arch.bmp&quot;
efi_microcode=(/boot/*-ucode.img)
efi_efi_image=&quot;/efi/EFI/Linux/linux.efi&quot;</code></pre>
<h2 id="some-notes">66.1. Some notes</h2>
<ul>
<li>initramfs is the / before the actual / is mounted (it is mounted in
ram) and provides basic utillities + systemd. It also includes some base
kernel modules -&gt; need to rebuild initramfs after kernel update</li>
<li>systemd-bootx64.efi is just the bootloader</li>
<li>efibootmgr writes on the motherboard directly</li>
<li>linux.efi is an unified kernel image - contains kernel, initramfs,
kernel arguments, ucode</li>
<li>mkinitcpio gera o initramfs e depois produz o linux.efi</li>
<li>vmlinuz-linux is the actual kernel</li>
</ul>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="permissions">67. Permissions</h1>
<h2 id="fix-permissions">67.1. Fix permissions</h2>
<ul>
<li><code>sudo pacman-fix-permissions</code></li>
<li>check ssh to fix key permissions</li>
<li><code>stat -c "%a %n" /etc/ssh/*</code> -&gt; outputs permissions in
numbers</li>
</ul>
<p>I have made a script with a file which has the correct permissions
which I got from alex pc</p>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="raspberry-pi">68. Raspberry Pi</h1>
<ul>
<li><p>Needed to systemctl enable sshd inside chroot (chroot
root/@)</p></li>
<li><p>p10k configure to configure p10k theme for zsh</p></li>
<li><p>For username in zsh prompt: uncomment context line in .p10k file
in POWERLEVEL9K_LEFT_PROMPT_ELEMENTS</p></li>
<li><p>In order for the systemctl –user to work, need to set UsePAM yes
in /etc/ssh/sshd_config</p></li>
<li><p>In rebelo script change:</p>
<ul>
<li>rebelo-pi to goncalo-pi</li>
<li>change also the Disk to avoid potential problems</li>
</ul></li>
<li><p>file <code>/etc/iptables/iptables.rules</code>:</p>
<pre class="text"><code>  *filter
  :INPUT ACCEPT [0:0]
  :FORWARD ACCEPT [0:0]
  :OUTPUT ACCEPT [0:0]
  COMMIT</code></pre></li>
<li><p>before finishing formating I need to:</p>
<ul>
<li>change iptables.rules</li>
<li>change sshd_config (port and pw authentication)</li>
<li>enable sshd service</li>
</ul></li>
<li><p>on sdcard, aarch64 did not work. Need to change
config/config.sh:</p>
<ul>
<li>ARCH_CPU_BRAND=armv7h</li>
<li>ARCH-KERNEL=linux-rpi</li>
</ul></li>
<li><p>In order to be able to build the packages to arm architecture
from arch x86_64 need to install:</p>
<ul>
<li>qemu-user-static-bin</li>
<li>Other dependencies:
<ul>
<li>arch-install-scripts</li>
<li>uboot-tools</li>
<li>aria2</li>
<li>iwd</li>
<li>gnu-netcat (for nc)</li>
<li>arp-scan</li>
<li>exfatprogs (for mkfs.exfat)</li>
</ul></li>
</ul></li>
<li><p>Edit <code>/boot/config.txt</code> for overclock</p>
<pre class="text"><code>  enable_uart=1 (this screws up the OC)
  over_voltage=6
  arm_freq=2000</code></pre></li>
<li><p>In order for the ssh-agent to work, add to
/etc/ssh/sshd_config:</p>
<ul>
<li>UsePAM yes</li>
</ul></li>
</ul>
<p>Don’t forget systemctl –user cannot be ran with sudo</p>
<p>For docker to work, don’t forget to change the UID in everyfile. The
error:</p>
<p><code>Failed to load config file "/run/secrets/rclone_conf": open /run/secrets/rclone_conf: permission denied</code></p>
<p>was because I did not change the UID in the image for rclone
Docker</p>
<p>Final step: <code>docker-compose build</code></p>
<ul>
<li><p>stress test: stress -c 4 -t 900s</p></li>
<li><p>https://healthchecks.io/</p></li>
<li><p>To update firmware: pacman -S rpi-eeprom:</p>
<ul>
<li>rpi-eeprom-update (checks version)</li>
<li>rpi-eeprom-update -a (updates)</li>
</ul></li>
</ul>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="plasma">69. Plasma</h1>
<h2 id="packages-1">69.1. Packages</h2>
<pre class="text"><code>plasma-desktop
plasma-wayland-session
plasma-workspace-wallpapers
plasma-systemmonitor
plasma-nm
plasma-pa
plasma-browser-integration
powerdevil
bluedevil
kdialog  # for native dialogs in some apps
breeze breeze-gtk
kwrited
phonon-qt5-gstreamer
kde-gtk-config
xdg-desktop-portal xdg-desktop-portal-kde xdg-desktop-portal-gtk
khotkeys</code></pre>
<h2 id="launch">69.2. Launch</h2>
<div class="sourceCode" id="cb102"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Wayland</span></span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">MOZ_ENABLE_WAYLAND</span><span class="op">=</span>1</span>
<span id="cb102-3"><a href="#cb102-3" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">XDG_SESSION_TYPE</span><span class="op">=</span>wayland</span>
<span id="cb102-4"><a href="#cb102-4" aria-hidden="true" tabindex="-1"></a><span class="bu">exec</span> startplasma-wayland</span>
<span id="cb102-5"><a href="#cb102-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-6"><a href="#cb102-6" aria-hidden="true" tabindex="-1"></a><span class="co"># X11 </span></span>
<span id="cb102-7"><a href="#cb102-7" aria-hidden="true" tabindex="-1"></a><span class="bu">exec</span> sx startplasma-x11</span></code></pre></div>
<h2 id="autostart">69.3. Autostart</h2>
<p>Check the following paths</p>
<pre class="text"><code>~/.kde/Autostart
~/.kde/share/autostart
~/.config/autostart
~/.local/share/autostart
/etc/xdg/autostart
/usr/share/autostart</code></pre>
<h2 id="xdg-autostart-directories">69.4. XDG Autostart directories</h2>
<p>Place Desktop entries (i.e. .desktop files) in the appropriate
<strong>XDG Autostart directory</strong>:</p>
<ul>
<li>user-specific: <code>$XDG_CONFIG_HOME/autostart</code>
(~/.config/autostart by default)</li>
<li>system-wide: <code>$XDG_CONFIG_DIRS/autostart</code>
(/etc/xdg/autostart by default)</li>
</ul>
<p>To disable a system-wide entry, create an overriding entry containing
<code>Hidden=true</code>.</p>
<h2 id="autostart-manager">69.5. Autostart Manager</h2>
<p>The program scans <code>$HOME/.config/autostart/</code> for
applications and login scripts,
<code>$HOME/.config/plasma-workspace/env</code> for pre-startup scripts
and <code>$HOME/.config/plasma-workspace/shutdown</code> for logout
scripts to check what programs and scripts are already there and
displays them. However, applications in <code>/etc/xdg/autostart</code>
are also launched.</p>
<p>To autostart an application, navigate to System Settings &gt; Startup
and Shutdown &gt; Autostart and add the program or shell script of your
choice. For applications, a .desktop file will be created, for login
scripts, a .desktop file launching the script will be created.</p>
<p>If a desktop file under <code>$HOME/.config/autostart/</code> has
<code>OnlyShowIn=XFCE;</code>, then it will not be autostarted.</p>
<h2 id="disable-kdeconnect">69.6. Disable kdeconnect</h2>
<p>First we need to avoid kdedconnect to autostart:</p>
<p><code>cp /etc/xdg/autostart/org.kde.kdeconnect.daemon.desktop ~/.config/autostart/</code></p>
<p>Now edit the file
<code>~/.config/autostart/org.kde.kdeconnect.daemon.desktop</code> and
add <code>Hidden=true</code>. Actually you can even remove everything
else, because only the file name has to be identically so it’s
“overriden”. So it looks like:</p>
<pre class="text"><code>[Desktop Entry]
Hidden=true</code></pre>
<p>Now the autostart service is disabled, but this isn’t enough. We also
need to “disable” the d-bus service:</p>
<div class="sourceCode" id="cb105"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mkdir</span> <span class="at">-p</span> ~/.local/share/dbus-1/services/</span>
<span id="cb105-2"><a href="#cb105-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cp</span> /usr/share/dbus-1/services/org.kde.kdeconnect.service ~/.local/share/dbus-1/services/</span></code></pre></div>
<p>Edit the file
<code>~/.local/share/dbus-1/services/org.kde.kdeconnect.service</code>
and change Exec to <code>/usr/bin/false</code> so the file looks
like:</p>
<pre class="text"><code>[D-BUS Service]
Name=org.kde.kdeconnect
Exec=/usr/bin/false</code></pre>
<p><code>/usr/bin/false</code> will return with a “error” return code
(because it returns with 1 and not 0), so your logs (via journalctl) may
display the process couldn’t start or failed. But that shouldn’t
matter.</p>
<p>Now kdeconnectd should not run anymore after you logout and login
again.</p>
<h2 id="shortcuts">69.7. Shortcuts</h2>
<ul>
<li>“Switch to Next Screen” shortcut to work: you need to check
“Separate screen focus” option first from System settings → Window
behavior → Window Behavior (on the left side) → Separate screen
focus</li>
<li>Logout Menu: Shortcuts → Session Management → Logout (default:
ctrl+alt_del)</li>
<li>Screen Lock: Workspace Behavior → Sreen Locking (also, disable
automatic screen lock here)</li>
<li>“Switch to Screen 0”: Meta+Ctrl+Right</li>
<li>“Switch to Screen 1”: Meta+Ctrl+Left</li>
<li>“Switch to Window to the Left”: Meta+Alt+Left</li>
<li>“Switch to Window to the Right”: Meta+Alt+Right</li>
</ul>
<h2 id="fixing-hanging-service-on-shutdown">69.8. Fixing hanging service
on shutdown</h2>
<p>First atempt:
<code>sudo rm /usr/share/dbus-1/accessibility-services/org.a11y.*</code></p>
<p>Add:</p>
<p><code>NoExtract = usr/share/dbus-1/accessibility-services/org.a11y.*</code></p>
<p>to makepkg.conf.</p>
<h2 id="config-1">69.9. Config</h2>
<h3 id="startup-and-shutdown-background-services">69.9.1. Startup and
Shutdown → Background Services</h3>
<ul>
<li>Remove Search Folder Updater (also go to Search → File Search and
untick <code>Enable File Search</code>)</li>
</ul>
<h3 id="startup-and-shutdown-desktop-session">69.9.2. Startup and
Shutdown → Desktop Session</h3>
<ul class="task-list">
<li><input type="checkbox" checked="" />Start with an empty session</li>
<li><input type="checkbox" checked="" />Confirm Logout</li>
<li><input type="checkbox" checked="" />Offer Shutdown Options</li>
<li><input type="checkbox" checked="" />End Current Session</li>
</ul>
<h3 id="power-management-energy-saving">69.9.3. Power Management →
Energy Saving</h3>
<ul>
<li>Untick Screen Energy Saving</li>
</ul>
<h3 id="display-and-monitor-night-color">69.9.4. Display and Monitor →
Night Color</h3>
<ul>
<li>Activate</li>
</ul>
<h3 id="window-management-task-switcher">69.9.5. Window Management →
Task Switcher</h3>
<ul>
<li>Filter Windows by: Virtual desktops and Screens
(<strong>current</strong> in both)</li>
</ul>
<h3 id="flameshot">69.9.6. FlameShot</h3>
<p>I should not use the shortcut option for flameshot that comes by
default. Instead do:</p>
<ul>
<li>Go to Settings &gt; Shortcuts &gt; Custom Shortcuts</li>
<li>Right click &gt; New &gt; Global Shortcut &gt; Command/Url</li>
<li>Select trigger and Command/Url to
<code>/usr/bin/flameshot gui</code></li>
</ul>
<h3 id="task-bar">69.9.7. Task Bar</h3>
<ul>
<li>Add “Task Manager” widget to each panel</li>
<li>Right-click on an item in Task Manager -&gt; Configure Task
Manager</li>
<li>Behavior tab -&gt; Filter: Show only tasks from the current
screen</li>
</ul>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="regex">70. Regex</h1>
<div class="sourceCode" id="cb107"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Lessons: need -n flag which disables automatic printing</span></span>
<span id="cb107-2"><a href="#cb107-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Need to escape the plus sign</span></span>
<span id="cb107-3"><a href="#cb107-3" aria-hidden="true" tabindex="-1"></a><span class="fu">sed</span> <span class="at">-n</span> <span class="st">&#39;s/.*\(FOR-ICU-[0-9]\+\).*/\1/p&#39;</span> List_Of_Reqs.txt </span></code></pre></div>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="compare-files">71. Compare files</h1>
<div class="sourceCode" id="cb108"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="co"># This command will output lines unique to file_2. So, if output is empty, then all file_2 lines are contained in the file_1.</span></span>
<span id="cb108-2"><a href="#cb108-2" aria-hidden="true" tabindex="-1"></a><span class="fu">comm</span> <span class="at">-13</span> <span class="op">&lt;(</span><span class="fu">sort</span> <span class="at">-u</span> file_1<span class="op">)</span> <span class="op">&lt;(</span><span class="fu">sort</span> <span class="at">-u</span> file_2<span class="op">)</span></span></code></pre></div>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="fiddler">72. Fiddler</h1>
<p>First, you should enable the Allow remote computers to connect
setting in Fiddler</p>
<ol type="1">
<li>Open Fiddler and select Tools -&gt; Options</li>
<li>Choose the Connections tab</li>
<li>Select the Allow remote computers to connect checkbox to enable the
setting</li>
<li>Restart Fiddler in order the changes to take effect</li>
</ol>
<p>Fiddler is now listening on port 8888 (this is the default port, you
can change it from the setting above).</p>
<p>Once Fiddler is listening, we should use it as a proxy in
Android.</p>
<ol type="1">
<li>Open the WiFi menu.</li>
<li>Tap and hold on your current network to show the network
details</li>
<li>Choose the Manage network settings option</li>
<li>Check Show advanced options checkbox</li>
<li>Choose Manual from the Proxy dropdown list</li>
<li>Type your IP address in the Proxy host name field</li>
<li>NOTE: You can check your IP address by hovering over the Network
Connection icon in the Fiddler toolbar.</li>
<li>Type the Fiddler listening port (8888 by default) in the Proxy port
field</li>
<li>Click Save to apply changes</li>
</ol>
<p>With the current setup you should be able to capture HTTP traffic.
However, if you try to open any HTTPS website, you’ll get the This
site’s security certificate is not trusted! error. To fix this, you
should trust the Fiddler root certificate.</p>
<p>NOTE: By default, Fiddler-generated certificate is valid for 5 years.
However, this can cause ERR_CERT_VALIDITY_TOO_LONG error in Chrome on
Android. To fix this:</p>
<ol type="1">
<li>Run about:config in Fiddler QuickExec.</li>
<li>Create new variable fiddler.certmaker.ValidDays with value 820</li>
</ol>
<p>Then, you can proceed with installing the Fiddler Root certificate as
follow:</p>
<ol type="1">
<li>In your browser, navigate to http://ipv4.fiddler:8888</li>
<li>Download the Fiddler root certificate.</li>
<li>Install the certificate on your device.</li>
</ol>
<p>Now you should be able to capture HTTPS traffic too.</p>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="termux">73. Termux</h1>
<h2 id="setting-up-termux">73.1. Setting up termux</h2>
<p>Termux should be installed from F-Droid, both in TV and phone.</p>
<p>Besides termux, install (also using F-Droid) Termux:API, Termux:Boot,
Termux:Widgets.</p>
<p>In terms of permissions, both in TV and Phone, allow termux to
<code>Display Over Other Apps</code>. In TV, in order to get this
setting, go to settings -&gt; Apps -&gt; Termux and it should be
there.</p>
<p>Note: In TV, in order to have wireless debug, need to allow USB
debugging in developer options and then allow the connection with the
pc.</p>
<p>In terms of packages, install:</p>
<div class="sourceCode" id="cb109"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pkg</span> update</span>
<span id="cb109-2"><a href="#cb109-2" aria-hidden="true" tabindex="-1"></a><span class="ex">pkg</span> install libqrencode jq yq termux-api termux-styling vim</span></code></pre></div>
<p>Copy the <code>.termux</code> folder <a
href="https://github.com/jgroboredo/lap_dotfiles">dotfiles</a> to termux
home and run:</p>
<div class="sourceCode" id="cb110"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="ex">termux-reload-settings</span></span></code></pre></div>
<p>The above is important because otherwise the font my screw up the
qrcode.</p>
<h2 id="termux-brightness">73.2. Termux Brightness</h2>
<p>This needs termux:api. Termux:Api should be allowed to
<code>Modify system settings</code>.</p>
<p>With termux:widgets, all scripts placed under
<code>~/.shortcuts</code> will be able to be selected as a shortcut with
termux:Widget.</p>
<p>Then, in order to control brightness use
<code>termux-brightness</code>. Example:</p>
<div class="sourceCode" id="cb111"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="kw">[[</span> <span class="st">&quot;</span><span class="va">$(</span><span class="fu">uname</span> <span class="at">-o</span><span class="va">)</span><span class="st">&quot;</span> <span class="ot">==</span> <span class="st">&quot;Android&quot;</span> <span class="kw">]];</span> <span class="cf">then</span></span>
<span id="cb111-2"><a href="#cb111-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">termux-brightness</span> 255</span>
<span id="cb111-3"><a href="#cb111-3" aria-hidden="true" tabindex="-1"></a>  <span class="bu">trap</span> <span class="st">&quot;termux-brightness 40; exit&quot;</span> SIGINT</span>
<span id="cb111-4"><a href="#cb111-4" aria-hidden="true" tabindex="-1"></a><span class="cf">fi</span></span></code></pre></div>
<h2 id="tv-url-opener">73.3. TV url opener</h2>
<p>Use Termux:Boot in order to start sshd server.</p>
<p>Create script under <code>~/bin/</code> name
<code>termux-url-opener</code>:</p>
<div class="sourceCode" id="cb112"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/data/data/com.termux/files/usr/bin/sh</span></span>
<span id="cb112-2"><a href="#cb112-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-3"><a href="#cb112-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ssh</span> 192.168.200.70 <span class="at">-p</span> 8022 termux-open-url <span class="st">&quot;</span><span class="va">$1</span><span class="st">&quot;</span></span></code></pre></div>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="vpn-critical">74. VPN Critical</h1>
<p>Some commands:</p>
<div class="sourceCode" id="cb113"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="ex">nslookup</span></span>
<span id="cb113-2"><a href="#cb113-2" aria-hidden="true" tabindex="-1"></a> <span class="op">&gt;</span> server <span class="op">&lt;</span>Server_IP<span class="op">&gt;</span></span>
<span id="cb113-3"><a href="#cb113-3" aria-hidden="true" tabindex="-1"></a> <span class="op">&gt;</span> name.company.com</span>
<span id="cb113-4"><a href="#cb113-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-5"><a href="#cb113-5" aria-hidden="true" tabindex="-1"></a><span class="ex">resolvectl</span> query name.company.com</span>
<span id="cb113-6"><a href="#cb113-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-7"><a href="#cb113-7" aria-hidden="true" tabindex="-1"></a><span class="ex">nmcli</span> device show wlp1s0 <span class="kw">|</span> <span class="fu">grep</span> DNS</span></code></pre></div>
<p>On Ubuntu: <code>/etc/NetworkManager/NetworkManager.conf</code>
append the following lines:</p>
<pre class="text"><code>[keyfile]
unmanaged-devices=interface-name:vpn*,except:interface-name:enp0s3;interface-name:wlan*</code></pre>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="secure-boot">75. Secure Boot</h1>
<h2 id="steps-for-secure-boot">75.1. Steps for secure boot</h2>
<ol type="1">
<li>Setup motherboard in setup mode. In order to do that, go to
<code>Secure boot options</code> and
<code>Delete all Signatures</code>;</li>
<li>Install booster: <code>pacman -S booster</code></li>
<li>Check <code>sbctl status</code> and see if <code>Setup Mode</code>
is <code>Enabled</code></li>
<li>After, create keys</li>
</ol>
<div class="sourceCode" id="cb115"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a><span class="ex">sbctl</span> create-keys</span>
<span id="cb115-2"><a href="#cb115-2" aria-hidden="true" tabindex="-1"></a><span class="fu">chmod</span> 600 /usr/share/secureboot/keys/<span class="pp">**</span>/<span class="pp">*</span>.key</span></code></pre></div>
<ol start="5" type="1">
<li><p>If <code>Setup Mode</code> is Enabled, then enroll keys:</p>
<div class="sourceCode" id="cb116"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="ex">sbctl</span> enroll-keys <span class="at">--microsoft</span></span></code></pre></div></li>
<li><p>Keep the keys in the efi partition for easy re-enrollment:
<code>mkdir -p /efi/keys; cp /usr/share/secureboot/keys/**/*.pem /efi/keys</code></p></li>
<li><p><code>mkdir -p /efi/EFI/Linux</code></p></li>
<li><p>Finally,</p></li>
</ol>
<div class="sourceCode" id="cb117"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Bundle and sign kernel</span></span>
<span id="cb117-2"><a href="#cb117-2" aria-hidden="true" tabindex="-1"></a><span class="ex">sbctl</span> bundle <span class="at">-s</span> <span class="dt">\</span></span>
<span id="cb117-3"><a href="#cb117-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">-i</span> <span class="st">&quot;/boot/</span><span class="va">$ARCH_CPU_BRAND</span><span class="st">-ucode.img&quot;</span> <span class="dt">\</span></span>
<span id="cb117-4"><a href="#cb117-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">-k</span> <span class="st">&quot;/boot/vmlinuz-</span><span class="va">$ARCH_KERNEL</span><span class="st">&quot;</span> <span class="dt">\</span></span>
<span id="cb117-5"><a href="#cb117-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">-f</span> <span class="st">&quot;/boot/booster-</span><span class="va">$ARCH_KERNEL</span><span class="st">.img&quot;</span> <span class="dt">\</span></span>
<span id="cb117-6"><a href="#cb117-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;/efi/EFI/Linux/booster-</span><span class="va">$ARCH_KERNEL</span><span class="st">.efi&quot;</span></span>
<span id="cb117-7"><a href="#cb117-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb117-8"><a href="#cb117-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Sign systemd-boot</span></span>
<span id="cb117-9"><a href="#cb117-9" aria-hidden="true" tabindex="-1"></a><span class="ex">sbctl</span> sign <span class="at">-s</span> <span class="st">&quot;/efi/EFI/systemd/systemd-bootx64.efi&quot;</span></span>
<span id="cb117-10"><a href="#cb117-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb117-11"><a href="#cb117-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Re-generate all</span></span>
<span id="cb117-12"><a href="#cb117-12" aria-hidden="true" tabindex="-1"></a><span class="ex">sbctl</span> sign-all <span class="at">-g</span></span></code></pre></div>
<ol start="9" type="1">
<li>Don’t forget to have the same keys in the main system and in the
recovery system</li>
<li>After doing this, remove <code>mkinitcpio</code>- I should only
remove it after, otherwise something might go wrong</li>
<li>On recovery, if it wasn’t setup like this, copy first the keys to
the recovery partition; install booster (note that I need
<code>arch-chroot</code> - it mounts necessary stuff for the chroot
comparing to <code>chroot</code>) and run the <code>sbctl bundle</code>
command (where the efi needs to be renamed, careful!!!!!) and then
<code>sbctl sign-all -g</code> (although I think this last sign is not
necessary). Note that do not need to sign the bootloader again.</li>
</ol>
<p>Note: If I already had windows installed, this would work out of the
box because of the <code>--microfost</code> flag.</p>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="helix">76. Helix</h1>
<p>The helix mindset is that we always highlight something before
performing an action.</p>
<p>To install md preview, run
<code>cargo install --git https://github.com/euclio/mdpls</code> and
then add to <code>languages.toml</code>:</p>
<pre class="text"><code>[[language]]
name = &quot;markdown&quot;
language-server = { command = &quot;/path/to/mdpls&quot; }
config = { markdown.preview.auto = true, markdown.preview.browser = &quot;firefox&quot; }</code></pre>
<h2 id="some-commands-2">76.1. Some commands</h2>
<ol type="1">
<li>Modes: insert, visual, normal, space, go-to, match</li>
<li>File picker: space mode -&gt; f</li>
<li>While in file picker, to open in a vertical split: Highlight target
file and press Ctrl + V</li>
<li>Alt + . do redo a command</li>
<li>In order to remove a highlight, press “;”</li>
<li>Press “C” to delete a highlighted section and start writing</li>
<li>“s” (select) is basically a search within the selected text. If we
do this and then press “c”, we can do a find a replace</li>
<li>Use “,” to get rid of multiple cursors</li>
<li>Use “x” to highlight an entire line, in normal mode. Subsequent
presses of “x” will highlight subsequent lines</li>
<li>“]+f” will highlight an entire function</li>
<li>“[+c” will go to the previous class/struct</li>
<li>“]+a” to cycle through all function parameters</li>
<li>In space mode, press “s” to open a symbol picker and “S” for the
entire workspace<br />
</li>
<li>“Space + r” to rename a symbol</li>
<li>“Space + a” to get code actions</li>
<li>“g+d” to go to definition. Here, it helps to do “Crtl + i” and “Ctrl
+ o” to go back to where we came from</li>
<li>“g+r” will show all places where something is referenced</li>
<li>“Shift+r” will replace the current highlight with what we yanked
before</li>
<li>Pressing <code>"</code> allows to select the register to which we
want to yank something. Then, press the letter to save to and yank</li>
</ol>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="pihole">77. Pihole</h1>
<h2 id="configuration-3">77.1. Configuration</h2>
<p>By default, it won’t work since, by using systemd-resolved stub
listener, port 53 will be occupied. For that, the stub resolver should
be disabled with:</p>
<p><code>sudo sed -r -i.orig 's/#?DNSStubListener=yes/DNSStubListener=no/g' /etc/systemd/resolved.conf</code></p>
<p>This will not change the nameserver settings, which point to the stub
resolver thus preventing DNS resolution. Change the
<code>/etc/resolv.conf</code> symlink to point to
<code>/run/systemd/resolve/resolv.conf</code>, which is automatically
updated to follow the system’s netplan:
<code>sudo sh -c 'rm /etc/resolv.conf &amp;&amp; ln -s /run/systemd/resolve/resolv.conf /etc/resolv.conf'</code>.
After making these changes, you should restart systemd-resolved using
<code>systemctl restart systemd-resolved</code>.</p>
<p>Since raspberry uses dhcpcp, it will overwrite the
<code>/etc/resolv.conf</code>. In order to avoid this we can disable the
hook <code>/usr/lib/dhcpcd/dhcpcd-hooks/20-resolv.conf</code>. Do so by
adding the following to the last section of
<code>/etc/dhcpcd.conf</code>:</p>
<pre class="text"><code>nohook resolv.conf</code></pre>
<p>The above configuration does not seem to work well with tailscale,
since systemd-resolved will still use
<code>/run/systemd/resolve/resolv.conf</code> and tailscale renames
<code>/etc/resolv.conf</code> to <code>/etc/resolv.conf.bak</code> and
this keeps pointing at <code>/run/systemd/resolve/resolv.conf</code>,
and writes a new <code>/etc/resolv.conf</code> that does not seem to be
used by systemd-resolved - then, the tailscale dns configuration is not
in use.</p>
<p>In this case, simply disable systemd-resolved and use the tailscale
<code>/etc/resolv.conf</code> directly:</p>
<pre class="text"><code># resolv.conf(5) file generated by tailscale
# DO NOT EDIT THIS FILE BY HAND -- CHANGES WILL BE OVERWRITTEN

nameserver 100.100.100.100
search taildbd36.ts.net</code></pre>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="thunderbird">78. Thunderbird</h1>
<h2 id="critical-account">78.1. Critical Account</h2>
<h3 id="configure">78.1.1. Configure</h3>
<p>Incoming:</p>
<ul>
<li>IMAP</li>
<li>Server hostname: outlook.office365.com</li>
<li>Port: 993</li>
<li>SSL: SSL/TLS</li>
<li>Authentication: Oauth2</li>
</ul>
<p>Outgoing:</p>
<ul>
<li>Server hostname: smtp.office365.com</li>
<li>Port: 587</li>
<li>SSL: STARTTLS</li>
<li>Authentication: Oauth2</li>
</ul>
<p>Username (Incoming and Outgoing): email</p>
<h3 id="calendar">78.1.2. Calendar</h3>
<ul>
<li>Install TBSync extension</li>
<li>Install Provider for Exchange ActiveSync</li>
<li>In TBSync, add account (exchange) and sync calendar</li>
</ul>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="xdg-desktop-portal">79. XDG-DESKTOP-PORTAL</h1>
<p>Fix applications taking long to on startup:</p>
<ul>
<li>Install xdg-desktop-portal-gtk:
<code>pacman -S xdg-desktop-portal-gtk</code></li>
<li>Uninstall xdg-desktop-portal-wlr:
<code>pacman -R xdg-desktop-portal-wlr</code></li>
<li>Add i3 to <code>UsrIn=gnome;i3</code> in
<code>/usr/share/xdg-desktop-portal/portals/gtk.portal</code></li>
</ul>
<p>Also add to .zprofile the following exports:</p>
<div class="sourceCode" id="cb121"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">XDG_SESSION_TYPE</span><span class="op">=</span>x11</span>
<span id="cb121-2"><a href="#cb121-2" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">XDG_CURRENT_DESKTOP</span><span class="op">=</span>i3</span>
<span id="cb121-3"><a href="#cb121-3" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">GDK_BACKEND</span><span class="op">=</span>x11</span></code></pre></div>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="parsec">80. Parsec</h1>
<h2 id="wake-on-lan">80.1. Wake on lan</h2>
<p>For wake on lan to work, check:
<code>ethtool interface | grep Wake-on</code>. The output should be
<code>g</code> and it is required for <code>WoL</code> to work. It can
be set with <code>ethtool -s interface wol g</code>. If using
<code>NetworkManager</code>, this can be made persistent by going into
the ethernet configuration inside network manager and enabling the magic
packet.</p>
<h2 id="wake-pc">80.2. Wake PC</h2>
<ul>
<li>ssh to rpi and run: <code>wol -v bc:5f:f4:83:32:cc</code>.</li>
<li>In desktop,
<code>systemctl reboot --boot-loader-entry=auto-windows</code></li>
</ul>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="calendar-1">81. Calendar</h1>
<h2 id="share-microsoft-calendar">81.1. Share Microsoft Calendar</h2>
<ol type="1">
<li>Go to <a href="outlook.office365.com">outlook</a>;</li>
<li>Settings -&gt; View All Outlook Settings;</li>
<li>Calendar -&gt; Shared calendars;</li>
<li>Publish a calendar -&gt; Can view all details</li>
<li>Grab the ICS link</li>
</ol>
<h2 id="add-microsoft-calendar-to-google">81.2. Add microsoft calendar
to google</h2>
<p>Microsoft calendar doesn’t sync well in google. Therefore, use a
google script to update the calendar for me:</p>
<ol type="1">
<li>Go to <a href="script.google.com">google scripts</a></li>
<li>Add this <a
href="https://github.com/derekantrican/GAS-ICS-Sync">project</a></li>
<li>Follow installation instructions</li>
</ol>
<p>My current settings are the following:</p>
<div class="sourceCode" id="cb122"><pre
class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a><span class="kw">var</span> sourceCalendars <span class="op">=</span> [                <span class="co">// The ics/ical urls that you want to get events from along with their target calendars (list a new row for each mapping of ICS url to Google Calendar)</span></span>
<span id="cb122-2"><a href="#cb122-2" aria-hidden="true" tabindex="-1"></a>                                       <span class="co">// For instance: [&quot;https://p24-calendars.icloud.com/holidays/us_en.ics&quot;, &quot;US Holidays&quot;]</span></span>
<span id="cb122-3"><a href="#cb122-3" aria-hidden="true" tabindex="-1"></a>                                       <span class="co">// Or with colors following mapping https://developers.google.com/apps-script/reference/calendar/event-color, </span></span>
<span id="cb122-4"><a href="#cb122-4" aria-hidden="true" tabindex="-1"></a>                                       <span class="co">// for instance: [&quot;https://p24-calendars.icloud.com/holidays/us_en.ics&quot;, &quot;US Holidays&quot;, &quot;11&quot;]</span></span>
<span id="cb122-5"><a href="#cb122-5" aria-hidden="true" tabindex="-1"></a>  [<span class="st">&quot;https://outlook.office365.com/owa/calendar/401c00bd235044d38e439e7352416c0e@criticalsoftware.com/e46fa34441d4423db0ac4cd9b55cfc3a13335818381581453928/calendar.ics&quot;</span><span class="op">,</span> <span class="st">&quot;Calendar&quot;</span>]</span>
<span id="cb122-6"><a href="#cb122-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb122-7"><a href="#cb122-7" aria-hidden="true" tabindex="-1"></a>]<span class="op">;</span></span>
<span id="cb122-8"><a href="#cb122-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-9"><a href="#cb122-9" aria-hidden="true" tabindex="-1"></a><span class="kw">var</span> howFrequent <span class="op">=</span> <span class="dv">15</span><span class="op">;</span>                  <span class="co">// What interval (minutes) to run this script on to check for new events</span></span>
<span id="cb122-10"><a href="#cb122-10" aria-hidden="true" tabindex="-1"></a><span class="kw">var</span> onlyFutureEvents <span class="op">=</span> <span class="kw">false</span><span class="op">;</span>          <span class="co">// If you turn this to &quot;true&quot;, past events will not be synced (this will also removed past events from the target calendar if removeEventsFromCalendar is true)</span></span>
<span id="cb122-11"><a href="#cb122-11" aria-hidden="true" tabindex="-1"></a><span class="kw">var</span> addEventsToCalendar <span class="op">=</span> <span class="kw">true</span><span class="op">;</span>        <span class="co">// If you turn this to &quot;false&quot;, you can check the log (View &gt; Logs) to make sure your events are being read correctly before turning this on</span></span>
<span id="cb122-12"><a href="#cb122-12" aria-hidden="true" tabindex="-1"></a><span class="kw">var</span> modifyExistingEvents <span class="op">=</span> <span class="kw">true</span><span class="op">;</span>       <span class="co">// If you turn this to &quot;false&quot;, any event in the feed that was modified after being added to the calendar will not update</span></span>
<span id="cb122-13"><a href="#cb122-13" aria-hidden="true" tabindex="-1"></a><span class="kw">var</span> removeEventsFromCalendar <span class="op">=</span> <span class="kw">true</span><span class="op">;</span>   <span class="co">// If you turn this to &quot;true&quot;, any event created by the script that is not found in the feed will be removed.</span></span>
<span id="cb122-14"><a href="#cb122-14" aria-hidden="true" tabindex="-1"></a><span class="kw">var</span> addAlerts <span class="op">=</span> <span class="st">&quot;yes&quot;</span><span class="op">;</span>                 <span class="co">// Whether to add the ics/ical alerts as notifications on the Google Calendar events or revert to the calendar&#39;s default reminders (&quot;yes&quot;, &quot;no&quot;, &quot;default&quot;).</span></span>
<span id="cb122-15"><a href="#cb122-15" aria-hidden="true" tabindex="-1"></a><span class="kw">var</span> addOrganizerToTitle <span class="op">=</span> <span class="kw">false</span><span class="op">;</span>       <span class="co">// Whether to prefix the event name with the event organiser for further clarity</span></span>
<span id="cb122-16"><a href="#cb122-16" aria-hidden="true" tabindex="-1"></a><span class="kw">var</span> descriptionAsTitles <span class="op">=</span> <span class="kw">false</span><span class="op">;</span>       <span class="co">// Whether to use the ics/ical descriptions as titles (true) or to use the normal titles as titles (false)</span></span>
<span id="cb122-17"><a href="#cb122-17" aria-hidden="true" tabindex="-1"></a><span class="kw">var</span> addCalToTitle <span class="op">=</span> <span class="kw">false</span><span class="op">;</span>             <span class="co">// Whether to add the source calendar to title</span></span>
<span id="cb122-18"><a href="#cb122-18" aria-hidden="true" tabindex="-1"></a><span class="kw">var</span> addAttendees <span class="op">=</span> <span class="kw">false</span><span class="op">;</span>              <span class="co">// Whether to add the attendee list. If true, duplicate events will be automatically added to the attendees&#39; calendar.</span></span>
<span id="cb122-19"><a href="#cb122-19" aria-hidden="true" tabindex="-1"></a><span class="kw">var</span> defaultAllDayReminder <span class="op">=</span> <span class="op">-</span><span class="dv">1</span><span class="op">;</span>        <span class="co">// Default reminder for all day events in minutes before the day of the event (-1 = no reminder, the value has to be between 0 and 40320)</span></span>
<span id="cb122-20"><a href="#cb122-20" aria-hidden="true" tabindex="-1"></a>                                       <span class="co">// See https://github.com/derekantrican/GAS-ICS-Sync/issues/75 for why this is neccessary.</span></span>
<span id="cb122-21"><a href="#cb122-21" aria-hidden="true" tabindex="-1"></a><span class="kw">var</span> overrideVisibility <span class="op">=</span> <span class="st">&quot;&quot;</span><span class="op">;</span>           <span class="co">// Changes the visibility of the event (&quot;default&quot;, &quot;public&quot;, &quot;private&quot;, &quot;confidential&quot;). Anything else will revert to the class value of the ICAL event.</span></span>
<span id="cb122-22"><a href="#cb122-22" aria-hidden="true" tabindex="-1"></a><span class="kw">var</span> addTasks <span class="op">=</span> <span class="kw">false</span><span class="op">;</span></span>
<span id="cb122-23"><a href="#cb122-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-24"><a href="#cb122-24" aria-hidden="true" tabindex="-1"></a><span class="kw">var</span> emailSummary <span class="op">=</span> <span class="kw">false</span><span class="op">;</span>              <span class="co">// Will email you when an event is added/modified/removed to your calendar</span></span>
<span id="cb122-25"><a href="#cb122-25" aria-hidden="true" tabindex="-1"></a><span class="kw">var</span> email <span class="op">=</span> <span class="st">&quot;&quot;</span><span class="op">;</span>                        <span class="co">// OPTIONAL: If &quot;emailSummary&quot; is set to true or you want to receive update notifications, you will need to provide your email address</span></span></code></pre></div>
<h2 id="gcalcli">81.3. gcalcli</h2>
<p>Finally, integrate this with <a
href="https://github.com/insanum/gcalcli">gcalcli</a></p>
<blockquote>
<p><em>Remark</em>: Do not forget to use the <code>--nocache</code>
flag, otherwise the calendar is not updated.</p>
</blockquote>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="gnome-desktop">82. Gnome-desktop</h1>
<h2 id="desktop-icons">82.1. Desktop icons</h2>
<p><code>gnome-desktop</code> no longer ships with desktop icons. One
easy way to fix this is by doing the following:</p>
<ol type="1">
<li><code>sudo apt install gnome-shell-extension-desktop-icons-ng &amp;&amp; sudo apt install gnome-shell-extension-prefs</code></li>
<li>The above step doesn’t seem to work (there might be something
missing, keep it here anyway);</li>
<li>Go to <a href="https://extensions.gnome.org/">Gnome shell extensions
website</a></li>
<li>Click on “Click here to install browser extension” (GNOME Shell
Integration)</li>
<li>Install addon: <a
href="https://extensions.gnome.org/extension/2087/desktop-icons-ng-ding/">NG
Ding desktop icons</a></li>
</ol>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="bcompare">83. BCompare</h1>
<h2 id="crack-for-4.x">83.1. Crack for <code>4.x</code></h2>
<p>First delete trial mode:</p>
<div class="sourceCode" id="cb123"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span> <span class="at">-rf</span> ~/.config/bcompare</span></code></pre></div>
<p>and perform the following substitution:</p>
<div class="sourceCode" id="cb124"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sed</span> <span class="at">-i</span> <span class="st">&quot;s/keexjEP3t4Mue23hrnuPtY4TdcsqNiJL-5174TsUdLmJSIXKfG2NGPwBL6vnRPddT7tH29qpkneX63DO9ECSPE9rzY1zhThHERg8lHM9IBFT+rVuiY823aQJuqzxCKIE1bcDqM4wgW01FH6oCBP1G4ub01xmb4BGSUG6ZrjxWHJyNLyIlGvOhoY2HAYzEtzYGwxFZn2JZ66o4RONkXjX0DF9EzsdUef3UAS+JQ+fCYReLawdjEe6tXCv88GKaaPKWxCeaUL9PejICQgRQOLGOZtZQkLgAelrOtehxz5ANOOqCaJgy2mJLQVLM5SJ9Dli909c5ybvEhVmIC0dc9dWH+/N9KmiLVlKMU7RJqnE+WXEEPI1SgglmfmLc1yVH7dqBb9ehOoKG9UE+HAE1YvH1XX2XVGeEqYUY-Tsk7YBTz0WpSpoYyPgx6Iki5KLtQ5G-aKP9eysnkuOAkrvHU8bLbGtZteGwJarev03PhfCioJL4OSqsmQGEvDbHFEbNl1qJtdwEriR+VNZts9vNNLk7UGfeNwIiqpxjk4Mn09nmSd8FhM4ifvcaIbNCRoMPGl6KU12iseSe+w+1kFsLhX+OhQM8WXcWV10cGqBzQE9OqOLUcg9n0krrR3KrohstS9smTwEx9olyLYppvC0p5i7dAx2deWvM1ZxKNs0BvcXGukR+/g&quot;</span> /path/to/beyondcompare/BCompare</span></code></pre></div>
<p>Then, restart BC, click <code>Enter License</code>:</p>
<pre class="text"><code>--- BEGIN LICENSE KEY ---
ayvZeJDYPBHS4J-1K6g6bDBuPoo0G-oGAq35blZtAoRqC-qQeSz28XAzX
6nTx9laTMLRCp6nAIhHNGZ2ehkeUfbnFaxEeLvI8fJavn-XQLNbOumCLU
qgdNbNMZiFRU03+OTQnw4V-E2YKTYi-LkgPzE6R-yIJGDNWfxH2AdpIgg
8rlpsbrTs9Dt1zysUfvAEi0dKbmGIi3rqf7yWmwDh1AI5VyoWFIejvJwJ
Lmlr2CjQ1VZ3DySCfBDuKcYmOCeK7jzEWPUnAw+f9360nIiiNEB0YGkwB
kdtgaKEEik7aNiI3jXvp5r34wViVJCiX7m2y7pqBV9gZIvP9hP9KPnP++++
--- END LICENSE KEY -----</code></pre>
<p>or</p>
<pre class="text"><code>--- BEGIN LICENSE KEY ---
GXN1eh9FbDiX1ACdd7XKMV7hL7x0ClBJLUJ-zFfKofjaj2yxE53xauIfkqZ8FoLpcZ0Ux6McTyNmODDSvSIHLYhg1QkTxjCeSCk6ARz0ABJcnUmd3dZYJNWFyJun14rmGByRnVPL49QH+Rs0kjRGKCB-cb8IT4Gf0Ue9WMQ1A6t31MO9jmjoYUeoUmbeAQSofvuK8GN1rLRv7WXfUJ0uyvYlGLqzq1ZoJAJDyo0Kdr4ThF-IXcv2cxVyWVW1SaMq8GFosDEGThnY7C-SgNXW30jqAOgiRjKKRX9RuNeDMFqgP2cuf0NMvyMrMScnM1ZyiAaJJtzbxqN5hZOMClUTE+++
--- END LICENSE KEY -----</code></pre>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="frida-httptoolkit">84. Frida / HttpToolkit</h1>
<p>For now, this section is a summary of the steps that I needed to
follow in order to disable the <strong>SSL Pinning</strong> done by the
FitnessHut app (in order to catch the https requests).</p>
<p>For more informations, check <a
href="https://httptoolkit.com/blog/frida-certificate-pinning/">http
toolkit blog</a>.</p>
<p>First, download <strong>Frida Android Service</strong> from <a
href="https://github.com/frida/frida/releases">Github</a> for
<code>arm64</code>.</p>
<p>Then extract the <code>.xz</code> file with the <code>unxz</code>
command.</p>
<p>Now, we can start the Frida server in the phone:</p>
<div class="sourceCode" id="cb127"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Copy the server to the device</span></span>
<span id="cb127-2"><a href="#cb127-2" aria-hidden="true" tabindex="-1"></a><span class="ex">adb</span> push ./frida-server-<span class="va">$version</span>-android-<span class="va">$arch</span> /data/local/tmp/frida-server</span>
<span id="cb127-3"><a href="#cb127-3" aria-hidden="true" tabindex="-1"></a><span class="co">#        ^Change this to match the name of the binary you just extracted</span></span>
<span id="cb127-4"><a href="#cb127-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb127-5"><a href="#cb127-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Enable root access to the device</span></span>
<span id="cb127-6"><a href="#cb127-6" aria-hidden="true" tabindex="-1"></a><span class="ex">adb</span> root</span>
<span id="cb127-7"><a href="#cb127-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb127-8"><a href="#cb127-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Make the server binary executable</span></span>
<span id="cb127-9"><a href="#cb127-9" aria-hidden="true" tabindex="-1"></a><span class="ex">adb</span> shell <span class="st">&quot;chmod 755 /data/local/tmp/frida-server&quot;</span></span>
<span id="cb127-10"><a href="#cb127-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb127-11"><a href="#cb127-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Start the server on your device</span></span>
<span id="cb127-12"><a href="#cb127-12" aria-hidden="true" tabindex="-1"></a><span class="ex">adb</span> shell <span class="st">&quot;/data/local/tmp/frida-server &amp;&quot;</span></span></code></pre></div>
<p>After, install Frida in the computer:</p>
<div class="sourceCode" id="cb128"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pip</span> install frida-tools</span></code></pre></div>
<p>We can test this by running <code>frida-ps -U</code>.</p>
<p>After, we can start the application that we which to hook into (also,
go to the app info and find it’s name - e.g.,
<code>com.twitter.android</code>):</p>
<div class="sourceCode" id="cb129"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a><span class="ex">frida</span> <span class="at">-U</span> <span class="at">-l</span> ./frida-script.js <span class="at">-f</span> <span class="va">$TARGET_PACKAGE_NAME</span> <span class="co"># here, TARGET_PACKAGE_NAME comes from the name of the app</span></span></code></pre></div>
<blockquote>
<p><strong>Note</strong>: The <code>frida-script.js</code> will be
included with in dotfiles repository. TODO: Find a better place for
these type of scripts.</p>
</blockquote>
<p>This will restart the app on your phone, and print out a series of
libraries where unpinning was attempted.</p>
<p>In the meantime don’t forget to launch <code>HttpToolkit</code>. In
order to install it, run:</p>
<div class="sourceCode" id="cb130"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true" tabindex="-1"></a><span class="ex">yay</span> <span class="at">-S</span> httptoolkit</span></code></pre></div>
<p>After launching, simply select
<code>Android device connected via ADB</code> and everything will
work.</p>
<blockquote>
<p><strong>Note</strong>: In order to kill frida, do:</p>
</blockquote>
<div class="sourceCode" id="cb131"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a><span class="ex">adb</span> shell </span>
<span id="cb131-2"><a href="#cb131-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ps</span> <span class="at">-e</span> <span class="kw">|</span> <span class="fu">grep</span> frida-server </span>
<span id="cb131-3"><a href="#cb131-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-4"><a href="#cb131-4" aria-hidden="true" tabindex="-1"></a><span class="bu">kill</span> <span class="at">-9</span> pid</span></code></pre></div>
<h2 id="notes-about-curl-after-intercepting-the-http-requests">84.1.
Notes about <code>curl</code> after intercepting the http requests</h2>
<p>In order to do a <code>POST</code> request, run:</p>
<div class="sourceCode" id="cb132"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb132-1"><a href="#cb132-1" aria-hidden="true" tabindex="-1"></a><span class="ex">curl</span> <span class="at">-X</span> POST <span class="op">&lt;</span>link<span class="op">&gt;</span></span>
<span id="cb132-2"><a href="#cb132-2" aria-hidden="true" tabindex="-1"></a>   <span class="ex">-H</span> <span class="st">&quot;Content-Type: application/json&quot;</span></span>
<span id="cb132-3"><a href="#cb132-3" aria-hidden="true" tabindex="-1"></a>   <span class="ex">-d</span> <span class="st">&#39;{&quot;Key1&quot;: Val1, &quot;Key2&quot;: Val2}&#39;</span></span></code></pre></div>
<p>The json for the data can also be put in a file, let’s say
<code>data.json</code> and then call:</p>
<div class="sourceCode" id="cb133"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a><span class="ex">curl</span> <span class="at">-d</span> @data.json <span class="op">&lt;</span>link<span class="op">&gt;</span></span></code></pre></div>
<p>In the example above we are posting <code>JSON</code> data. However,
we can need to <code>POST</code> a form:</p>
<div class="sourceCode" id="cb134"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb134-1"><a href="#cb134-1" aria-hidden="true" tabindex="-1"></a><span class="ex">curl</span> <span class="at">-X</span> POST <span class="op">&lt;</span>lnik<span class="op">&gt;</span></span>
<span id="cb134-2"><a href="#cb134-2" aria-hidden="true" tabindex="-1"></a>   <span class="ex">-H</span> <span class="st">&quot;Content-Type: application/x-www-form-urlencoded&quot;</span> </span>
<span id="cb134-3"><a href="#cb134-3" aria-hidden="true" tabindex="-1"></a>   <span class="ex">-d</span> <span class="st">&quot;key1=value1&amp;key2=value2&quot;</span> </span></code></pre></div>
<p>and the <code>Content-Type</code> in the header identifies what we
are posting.</p>
<p>If a value in the form as special characters, do this:</p>
<div class="sourceCode" id="cb135"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a><span class="ex">curl</span> <span class="at">-s</span> <span class="at">-X</span> POST <span class="at">-H</span> <span class="st">&quot;Content-Type: application/x-www-form-urlencoded&quot;</span> <span class="dt">\</span></span>
<span id="cb135-2"><a href="#cb135-2" aria-hidden="true" tabindex="-1"></a>--data-urlencode <span class="st">&quot;email=user_email&quot;</span> <span class="at">--data-urlencode</span> <span class="st">&quot;password=PassWithSpecialCharacters&quot;</span> <span class="dt">\</span></span>
<span id="cb135-3"><a href="#cb135-3" aria-hidden="true" tabindex="-1"></a>--data-urlencode <span class="st">&quot;appName=fitnesshut&quot;</span> <span class="st">&quot;https://vivagym.myvitale.com/api/v2.0/pt/exerp/newAuth?access_token=</span><span class="va">${access_token}</span><span class="st">&quot;</span> <span class="op">&gt;</span> <span class="st">&quot;</span><span class="va">${SCRIPT_DIR}</span><span class="st">/refresh_token.json&quot;</span></span></code></pre></div>
<div style="page-break-after: always; break-after: page;">

</div>
<h1 id="misc">85. Misc</h1>
<ol type="1">
<li><p>By disabling all F86 binds in config and installing
xfce-power-management (which needs to be started in config and need to
get config from Manjaro/Home/.config) and installed pa-applet-git,
pavucontrol and pulseaudio (initiated in config) all the F86 binds
work.</p></li>
<li><p>It is preferable to have xfce4-notify (initiated in config by
running <code>/usr/lib/xfce4/notifyd/xfce4-notifyd</code>) than dunst…
Better notifications. Check i3 config and uninstall dunst (in
endeavour). In manjaro, do:
<code>sudo mv /usr/share/dbus-1/services/org.knopwob.dunst.service{,.disabled}</code></p></li>
<li><p>Bluetooth:</p>
<ul>
<li>pacman -S pulseaudio-bluetooth</li>
<li>pulseaudio -k</li>
<li>yay -S bluez-hciconfig</li>
<li>hciconfig -&gt; lists bluetooth interfaces</li>
<li>sudo hciconfig hci1 down -&gt; turn off specific interface</li>
</ul></li>
<li><p>Sticky xrandr:</p>
<ul>
<li><code>xrandr --output eDP --primary</code></li>
<li><code>pacman -S autorandr</code></li>
<li><code>autorandr --save laptop</code></li>
</ul></li>
<li><p>FSTAB</p>
<pre><code>sshfs : jose@pi:/ /mnt/rebelo-pi fuse.sshfs noauto,x-systemd.automount,_netdev,user,idmap=user,follow_symlinks,identityfile=/root/.ssh/id_rsa,allow_other,default_permissions,uid=1995,gid=1995,noatime,reconnect,ServerAliveInterval=45,ServerAliveCountMax=2 0 0</code></pre></li>
<li><p>SYMBOLIC LINKS</p>
<ul>
<li><code>ln -s /complete/path/to/original/file /complete/path/to/target/file</code>
(the target file will be a “pointer” to the original file, but it’s like
the file is in the new target location)</li>
<li><code>ln -sr /relative/path/to/original/directory /complete/path/to/target/directory</code>
(the target directory will be a link to the first; the -r flag means
relative)</li>
<li>The <code>-f</code> flag will force the link, meaning it delets the
target file/directory if it exists</li>
<li>Remember to always use complete paths and not relative paths if the
-r flag is not specified</li>
</ul></li>
<li><p>SSH</p>
<ul>
<li>I can run commands over ssh like this:
<code>ssh user@host 'command'</code>
<ul>
<li>Example: <code>liplisboacluster 'echo $(hostname)'</code> -&gt;
prints hostname</li>
</ul></li>
<li>Writting on a remote file:</li>
</ul>
<div class="sourceCode" id="cb137"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">&#39;Some Text&#39;</span> <span class="kw">|</span> <span class="fu">ssh</span> user@remotehost <span class="at">-T</span> <span class="st">&quot;cat &gt; /remotefile.txt&quot;</span></span>
<span id="cb137-2"><a href="#cb137-2" aria-hidden="true" tabindex="-1"></a><span class="co"># (-T flag fowards stdin local through ssh)</span></span>
<span id="cb137-3"><a href="#cb137-3" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span> ~/.ssh/id_rsa.pub <span class="kw">|</span> <span class="fu">ssh</span> user@remote.host <span class="st">&#39;dd of=.ssh/authorized_keys oflag=append conv=notrunc&#39;</span></span></code></pre></div>
<ul>
<li>In order to have several ssh keys, do:</li>
</ul>
<div class="sourceCode" id="cb138"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb138-1"><a href="#cb138-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ssh-keygen</span> <span class="at">-t</span> rsa <span class="at">-b</span> 4096 <span class="at">-C</span> <span class="st">&quot;your_email@example.com&quot;</span></span>
<span id="cb138-2"><a href="#cb138-2" aria-hidden="true" tabindex="-1"></a><span class="bu">eval</span> <span class="va">$(</span><span class="fu">ssh-agent</span><span class="va">)</span></span>
<span id="cb138-3"><a href="#cb138-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ssh-add</span> ~/.ssh/id_rsa2 <span class="er">(</span><span class="ex">newly</span> created key<span class="kw">)</span></span></code></pre></div>
<ul>
<li>In order to have ssh-agent always running, check ~/.config/systemd
and .zshrc</li>
<li><code>systemctl --user enable ssh-agent.service</code> (probably
don’t need to do this since I have a backup of .config/systemd)</li>
<li>Check services:
<code>systemctl --user list-unit-files | grep enabled</code></li>
<li>Check services (all):
<code>systemctl list-unit-files | grep enabled</code></li>
<li>Also, need to add to zshrc a function to load keys, since ssh-add
only works for the current session</li>
<li>To have a proxy:</li>
</ul>
<pre><code>Host 10.0.10.3
User goncalo
ProxyCommand ssh goncalo@jgroboredo.ddns.net -W %h:%p</code></pre>
<ul>
<li>If ssh service fails to start with error: Start request repeated too
quickly, do the following:</li>
</ul>
<div class="sourceCode" id="cb140"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb140-1"><a href="#cb140-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> systemctl stop sshd.socket and sshd.service</span>
<span id="cb140-2"><a href="#cb140-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> /usr/bin/sshd <span class="at">-d</span></span>
<span id="cb140-3"><a href="#cb140-3" aria-hidden="true" tabindex="-1"></a><span class="co">#If message from above command states a permission issue:</span></span>
<span id="cb140-4"><a href="#cb140-4" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> chmod 400 /etc/ssh/ssh<span class="pp">*</span>key</span></code></pre></div></li>
<li><p>Firefox crash</p>
<ul>
<li><p>Seems like it was the gtk theme from popOS that made firefox to
crash</p></li>
<li><p>In sway, if font problems, export GTK_USE_PORTAL=1</p></li>
<li><p>In what concerns crashes, picom with xrender crashes! Need to use
glx</p></li>
<li><p>Today, 10/08/2021, firefox started crashing. Disabled picom and
it did not solve the problem. Updated picom config from arch linux wiki,
did not help. Firefox-&gt;Settings-&gt;Performance did not change
anything</p></li>
<li><p>Starting firefox from terminal does not seem to solve the
problem. Does not output any errors.</p></li>
<li><p>Testing launching firefox and terminal from i3 bind with the flag
–no-startup-id -&gt; doesnt work</p></li>
<li><p>Testing google-chrome-stable; disabled guake</p></li>
<li><p>Google-chrome also crashed; However, it recovered after a few
seconds, similar to what previously happened to vscode. It seems like a
X11 problem. Moved to sway.</p></li>
<li><p>Testing again firefox crashes on i3. For now, uninstalled
xf86-video-intel. Since then, no crashes yet.</p></li>
<li><p>FIREFOX SLOW START:</p>
<ul>
<li>about:config</li>
<li>set 0 to all widget.use-xdg-desktop-portal</li>
</ul></li>
</ul></li>
<li><p>ARCH NOT BOOTING IN VM</p>
<ul>
<li>On a recent installation of arch on a VM, it did not boot after
installing the custom grub-theme. In order to solve this, either chroot
or open a terminal using ctrl+alt+F2. There, delete the grub theme in
/usr/share/grub/themes and after that run grub-mkconfig -o
/boot/grub/grub.cfg</li>
<li>The above solution doesn’t work. In fact I am very dumb. This was
only related with the fact that I have a intel config file in
/etc/X11/xorg.d…. DUMBBBB</li>
</ul></li>
<li><p>FIND UUID OF DISK</p>
<ul>
<li>sudo blkid | grep UUID=</li>
</ul></li>
<li><p>FIX YAY</p>
<ul>
<li>Error: yay: error while loading shared libraries: libalpm.so.11:
cannot open shared object file: No such file or directory</li>
<li>Fix: rebuild yay:</li>
</ul>
<pre><code>cd /tmp &amp;&amp; git clone &#39;https://aur.archlinux.org/yay.git&#39; 
    &amp;&amp; cd /tmp/yay &amp;&amp; makepkg -si &amp;&amp; cd ~ &amp;&amp; rm -rf /tmp/yay/</code></pre></li>
<li><p>FIX PAMAC</p>
<ul>
<li><code>Error: libpamac-aur: /etc/pamac.conf exists in filesystem</code>(owned
by pamac-aur)</li>
<li>Fix:
<code>pacman -R pamac-aur &amp;&amp; yay -S pamac-aur</code></li>
</ul></li>
<li><p>FIX TIME</p>
<ul>
<li><code>sudo ntpd -qg</code></li>
<li>install ntp</li>
<li><code>sudo ntpdate pool.ntp.org</code></li>
<li><code>timedatectl set-ntp true</code></li>
</ul></li>
<li><p>CHECK RAM <code>sudo dmidecode -t memory</code></p></li>
<li><p>lxrandr to change monitors</p></li>
<li><p>CONFIG LINUX ACCOUNT</p>
<div class="sourceCode" id="cb142"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb142-1"><a href="#cb142-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> useradd <span class="at">-m</span> test</span>
<span id="cb142-2"><a href="#cb142-2" aria-hidden="true" tabindex="-1"></a><span class="ex">userdel</span> <span class="op">&lt;</span>nome de utilizador do utilizador<span class="op">&gt;</span></span>
<span id="cb142-3"><a href="#cb142-3" aria-hidden="true" tabindex="-1"></a><span class="ex">adduser</span> username sudo</span>
<span id="cb142-4"><a href="#cb142-4" aria-hidden="true" tabindex="-1"></a><span class="ex">/etc/ssh/sshd_config</span> <span class="co"># Allow pubkey and add authorized_keys file;</span></span>
<span id="cb142-5"><a href="#cb142-5" aria-hidden="true" tabindex="-1"></a><span class="fu">chsh</span> <span class="at">-s</span> <span class="va">$(</span><span class="fu">which</span> zsh<span class="va">)</span></span>
<span id="cb142-6"><a href="#cb142-6" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> service ssh restart</span>
<span id="cb142-7"><a href="#cb142-7" aria-hidden="true" tabindex="-1"></a><span class="co"># For redmine: couldn&#39;t add repos to redmine: change permissions: </span></span>
<span id="cb142-8"><a href="#cb142-8" aria-hidden="true" tabindex="-1"></a><span class="fu">chmod</span> 775 /path/to/dir</span></code></pre></div></li>
<li><p>Dmenu-extended</p>
<ul>
<li>For apps to open I need desktop files to associate a given mimetype
to a binary</li>
<li>After doing the above step, rebuild cache</li>
</ul></li>
<li><p>NetworkManager/Network interface stopped working</p>
<ul>
<li>Solution: boot to a pen with manjaro and reboot</li>
<li>See logs:</li>
</ul>
<div class="sourceCode" id="cb143"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb143-1"><a href="#cb143-1" aria-hidden="true" tabindex="-1"></a><span class="fu">find</span> /sys/class/net <span class="at">-follow</span> <span class="at">-maxdepth</span> 2 <span class="at">-name</span> wireless</span>
<span id="cb143-2"><a href="#cb143-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span> /proc/net/wireless</span>
<span id="cb143-3"><a href="#cb143-3" aria-hidden="true" tabindex="-1"></a><span class="ex">iw</span> dev</span>
<span id="cb143-4"><a href="#cb143-4" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> iw dev wlp0s20f3 connect <span class="st">&quot;ROBOREDO&quot;</span></span>
<span id="cb143-5"><a href="#cb143-5" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> dmesg <span class="kw">|</span> <span class="fu">grep</span> firmware</span>
<span id="cb143-6"><a href="#cb143-6" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> dmesg <span class="at">--level</span><span class="op">=</span>emerg,alert,crit,err</span>
<span id="cb143-7"><a href="#cb143-7" aria-hidden="true" tabindex="-1"></a><span class="ex">lspci</span> <span class="kw">|</span> <span class="fu">grep</span> net</span>
<span id="cb143-8"><a href="#cb143-8" aria-hidden="true" tabindex="-1"></a><span class="fu">lsmod</span></span>
<span id="cb143-9"><a href="#cb143-9" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> ls /etc/netctl/interfaces</span></code></pre></div></li>
<li><p>Rebuild all yay packages depending on python:
<code>yay -S $(pacman -Qoq /usr/lib/python3.9) --answerclean All</code></p></li>
<li><p>nc : install <code>pacman -S gnu-netcat</code></p></li>
<li><p>Can add stuff to path in .xinitrc; a user systemd service needs
to have WantedBy=default.target and not multi-user The rclone command
will not work in a user service since systemd doesn’t have access to env
variables. For that, just add a env.conf file to .config/environment.d/
(check printenv)<br />
</p></li>
<li><p>Delay a systemd service:
<code>bash     [Service]     ExecStartPre=/bin/sleep 30</code></p></li>
<li><p>DMZ - portas abertas para toda a internet</p></li>
<li><p><code>dhcpcd -T eth0</code> - check dns</p></li>
<li><p>PERMISSIONS
<code>bash     chown -R root:root /etc     find /etc -type f -exec chmod 644 {} +     find /etc -type d -exec chmod 755 {} +     chmod 755 /etc/init.d/* /etc/rc.local /etc/network/* /etc/cron.*/*     chmod 400 /etc/ssh/ssh*key     check desktop_dotfiles</code></p></li>
<li><p>Need imagemagick for blurlock</p></li>
<li><p>samba</p>
<div class="sourceCode" id="cb144"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb144-1"><a href="#cb144-1" aria-hidden="true" tabindex="-1"></a><span class="ex">smbclient</span> <span class="st">&#39;//print-server.critical.pt/Drivers/&#39;</span> <span class="at">-U</span> critical/jgroboredo <span class="er">(</span><span class="ex">smbclient</span> <span class="st">&#39;//ip/Directory&#39;</span><span class="kw">)</span></span>
<span id="cb144-2"><a href="#cb144-2" aria-hidden="true" tabindex="-1"></a><span class="ex">smbclient</span> <span class="st">&#39;\\files.critical.pt/Repository&#39;</span> <span class="at">-U</span> critical/jgroboredo</span>
<span id="cb144-3"><a href="#cb144-3" aria-hidden="true" tabindex="-1"></a><span class="ex">get</span> file</span></code></pre></div></li>
<li><p>bluedevil; bluedevil-wizard; systemctl start bluetooth;
pavucontrol: High Fidelity Playback (A2DP Sink, codec LDAC)
blueberry-tray</p></li>
<li><p><code>sudo lsof -i -P -n | grep LISTEN</code></p></li>
<li><p>bash gum package</p></li>
<li><p>gtk-update-icon-cache -f -t .icons ou (/usr/share/icons/) Add
icon field in desktop file - only the name.png</p></li>
</ol>
        </div>
      </div>
    </div>
    
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')</script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="https://maxcdn.bootstrapcdn.com/js/ie10-viewport-bug-workaround.js"></script>
    <script>
        //document.getElementById('sidebar').getElementsByTagName('ul')[0].className += "nav nav-sidebar";
        
        /* ajust the height when click the toc
           the code is from https://github.com/twbs/bootstrap/issues/1768
        */
        var shiftWindow = function() { scrollBy(0, -50) };
        window.addEventListener("hashchange", shiftWindow);
        function load() { if (window.location.hash) shiftWindow(); }
        
        /*add Bootstrap styles to tables*/
        var tables = document.getElementsByTagName("table");
        for(var i = 0; i < tables.length; ++i){
            tables[i].className += "table table-bordered table-hover";
        }
    </script>
  </body>
</html>
